<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/star.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/blog/lib/pace/pace-theme-minimal.min.css">
  <script src="/blog/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mazui3.github.io","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":265,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"text":"Load Disqus","order":-1}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Without a good problem definition, you might put effort into solving the wrong problem.Be sure you know what you’re aiming at before you shoot.">
<meta property="og:type" content="article">
<meta property="og:title" content="Code Complete的笔记">
<meta property="og:url" content="https://mazui3.github.io/blog/2025/03/20/P340/index.html">
<meta property="og:site_name" content="Underlake Reading Room">
<meta property="og:description" content="Without a good problem definition, you might put effort into solving the wrong problem.Be sure you know what you’re aiming at before you shoot.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_2.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_3.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_4.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_5.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_6.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_7.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_8.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_9.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_10.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_11.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_12.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_13.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_14.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_15.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_16.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_17.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_18.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_19.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_20.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_21.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_22.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_23.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_24.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_25.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_26.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_27.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_27.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_29.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_30.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_31.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_32.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_33.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_34.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_35.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_36.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_37.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_38.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_39.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_40.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_41.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_42.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_43.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_44.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_45.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_46.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_47.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_48.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_49.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_50.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_51.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_52.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_53.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_54.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_55.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_57.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_58.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_56.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_59.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_60.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_61.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_62.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_63.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_64.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_65.png">
<meta property="article:published_time" content="2025-03-20T09:03:30.000Z">
<meta property="article:modified_time" content="2025-04-02T05:35:51.319Z">
<meta property="article:author" content="Mazui">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="python">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="VBA">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mazui3.github.io/blog/2025/03/20/P340/P340_2.png">

<link rel="canonical" href="https://mazui3.github.io/blog/2025/03/20/P340/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Code Complete的笔记 | Underlake Reading Room</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Underlake Reading Room</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">这里是图书馆外的阅览室🌟</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-zone">

    <a href="https://cerulean-raclette-358.notion.site/QQ-7770800c659c4c5cbda0ba1b6720dec8" rel="noopener" target="_blank"><i class="fab fa-diaspora fa-fw"></i>Zone</a>

  </li>
        <li class="menu-item menu-item-back">

    <a href="https://mazui3.github.io/" rel="section"><i class="fa fa-cloud fa-fw"></i>Back</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://mazui3.github.io/blog/2025/03/20/P340/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/logo_11.jpg">
      <meta itemprop="name" content="Mazui">
      <meta itemprop="description" content="与孤独和平共处.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Underlake Reading Room">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Code Complete的笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-03-20 17:03:30" itemprop="dateCreated datePublished" datetime="2025-03-20T17:03:30+08:00">2025-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-04-02 13:35:51" itemprop="dateModified" datetime="2025-04-02T13:35:51+08:00">2025-04-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E5%86%99%E7%A0%81%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">写码笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/blog/2025/03/20/P340/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2025/03/20/P340/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="C">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>204k</span>
            </span>
            <span class="post-meta-item" title="T">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3:06</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><em>Without a good problem definition, you might put effort into solving the wrong problem.</em><br>Be sure you know what you’re aiming at before you shoot.</p>
<span id="more"></span>

<br>
<br>
<br>
<br>

<h1 id="Stable-Requirements"><a href="#Stable-Requirements" class="headerlink" title="Stable Requirements"></a>Stable Requirements</h1><h2 id="Checklist-Requirements"><a href="#Checklist-Requirements" class="headerlink" title="Checklist: Requirements"></a>Checklist: Requirements</h2><p><strong>Specific Functional Requirements</strong></p>
<ul>
<li><p>Are all the inputs to the system specified, including their source, accuracy, range of values, and frequency?</p>
</li>
<li><p>Are all the outputs from the system specified, including their destination, accuracy, range of values, frequency, and format?</p>
</li>
<li><p>Are all output formats specified for web pages, reports, and so on?</p>
</li>
<li><p>Are all the external hardware and software interfaces specified?</p>
</li>
<li><p>Are all the external communication interfaces specified, including handshaking, error-checking, and communication protocols?</p>
</li>
<li><p>Are all the tasks the user wants to perform specified?</p>
</li>
<li><p>Is the data used in each task and the data resulting from each task specified?</p>
</li>
</ul>
<br>
<br>

<p><strong>Specific Non-Functional (Quality) Requirements</strong></p>
<ul>
<li><p>Is the expected response time, from the user’s point of view, specified for all necessary operations?</p>
</li>
<li><p>Are other timing considerations specified, such as processing time, data-transfer rate, and system throughput?</p>
</li>
<li><p>Is the level of security specified?</p>
</li>
<li><p>Is the reliability specified, including the consequences of software failure, the vital information that needs to be protected from failure, and the strategy for error detection and recovery?</p>
</li>
<li><p>Is maximum memory specified?</p>
</li>
<li><p>Is the maximum storage specified?</p>
</li>
<li><p>Is the maintainability of the system specified, including its ability to adapt to changes in specific functionality, changes in the operating environment, and changes in its interfaces with other software?</p>
</li>
<li><p>Is the definition of success included? Of failure?</p>
</li>
</ul>
<br>
<br>

<p><strong>Requirements Quality</strong></p>
<ul>
<li><p>Are the requirements written in the user’s language? Do the users think so? Does each requirement avoid conflicts with other requirements?</p>
</li>
<li><p>Are acceptable trade-offs between competing attributes specified—for example, between robustness and correctness?</p>
</li>
<li><p>Do the requirements avoid specifying the design?</p>
</li>
<li><p>Are the requirements at a fairly consistent level of detail? Should any requirement be specified in more detail? Should any requirement be specified in less detail?</p>
</li>
<li><p>Are the requirements clear enough to be turned over to an independent group for construction and still be understood?</p>
</li>
<li><p>Is each item relevant to the problem and its solution? Can each item be traced to its origin in the problem environment?</p>
</li>
<li><p>Is each requirement testable? Will it be possible for independent testing to determine whether each requirement has been satisfied?</p>
</li>
<li><p>Are all possible changes to the requirements specified, including the likelihood of each change?</p>
</li>
</ul>
<br>
<br>

<p><strong>Requirements Completeness</strong></p>
<ul>
<li><p>Where information isn’t available before development begins, are the areas of incompleteness specified?</p>
</li>
<li><p>Are the requirements complete in the sense that if the product satisfies every requirement, it will be acceptable?</p>
</li>
<li><p>Are you comfortable with all the requirements? Have you eliminated requirements that are impossible to implement and included just to appease your customer or your boss?</p>
</li>
</ul>
<br>
<br>

<h1 id="Typical-Architectural-Components"><a href="#Typical-Architectural-Components" class="headerlink" title="Typical Architectural Components"></a>Typical Architectural Components</h1><h2 id="Program-Organization"><a href="#Program-Organization" class="headerlink" title="Program Organization"></a>Program Organization</h2><p>A system architecture first needs an overview that describes the system in broad terms.<br>In the architecture, you should find evidence that alternatives to the final organization were considered and find the reasons the organization used was chosen over the alternatives.<br>One review of design practices found that the design rationale is at least as important for maintenance as the design itself.</p>
<p>Every feature listed in the requirements should be covered by at least one building block. If a function is claimed by two or more building blocks, their claims should cooperate, not conflict.</p>
<br>
<br>

<h2 id="Major-Classes"><a href="#Major-Classes" class="headerlink" title="Major Classes"></a>Major Classes</h2><p>The architecture should specify the major classes to be used. It should identify the responsibilities of each major class and how the class will interact with other classes.<br>It should include descriptions of the class hierarchies, of state transitions, and of object persistence.<br>If the system is large enough, it should describe how classes are organized into subsystems.</p>
<p>The architecture should describe other class designs that were considered and give reasons for preferring the organization that was chosen.<br>The architecture doesn’t need to specify every class in the system; aim for the 80/20 rule: specify the 20 percent of the classes that make up 80 percent of the systems’ behavior.</p>
<br>
<br>

<h2 id="Data-Design"><a href="#Data-Design" class="headerlink" title="Data Design"></a>Data Design</h2><p>The architecture should describe the major files and table designs to be used.</p>
<br>
<br>

<h2 id="User-Interface-Design"><a href="#User-Interface-Design" class="headerlink" title="User Interface Design"></a>User Interface Design</h2><p>Sometimes the user interface is specified at requirements time.<br>If it isn’t, it should be specified in the software architecture. The architecture should specify major elements of web page formats, GUIs, command line interfaces, and so on.<br>Careful architecture of the user interface makes the difference between a well- liked program and one that’s never used.</p>
<br>
<br>

<h2 id="Input-Output"><a href="#Input-Output" class="headerlink" title="Input/Output"></a>Input/Output</h2><p>Input/output is another area that deserves attention in the architecture.<br>The architecture should specify a look-ahead, look-behind, or just-in-time reading scheme.<br>And it should describe the level at which I/O errors are detected: at the field, record, stream, or file level.</p>
<br>
<br>

<h2 id="Resource-Management"><a href="#Resource-Management" class="headerlink" title="Resource Management"></a>Resource Management</h2><p>The architecture should describe a plan for managing scarce resources such as database connections, threads, and handles.<br>Memory management is another important area for the architecture to treat in memory-constrained applications areas like driver development and embedded systems.</p>
<br>
<br>

<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><p>The architecture should describe the approach to design-level and code-level security.</p>
<br>
<br>

<h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><p>If performance is a concern, performance goals should be specified in the requirements.<br>Performance goals can include both speed and memory use.</p>
<br>
<br>

<h2 id="Scalability"><a href="#Scalability" class="headerlink" title="Scalability"></a>Scalability</h2><p>Scalability is the ability of a system to grow to meet future demands.<br>The architecture should describe how the system will address growth in number of users, number of servers, number of network nodes, database size, transaction volume, and so on.</p>
<br>
<br>

<h2 id="Interoperability"><a href="#Interoperability" class="headerlink" title="Interoperability"></a>Interoperability</h2><p>If the system is expected to share data or resources with other software or hardware, the architecture should describe how that will be accomplished.</p>
<br>
<br>

<h2 id="Internationalization-Localization"><a href="#Internationalization-Localization" class="headerlink" title="Internationalization / Localization"></a>Internationalization / Localization</h2><p>“Internationalization” is the technical activity of preparing a program to support multiple locales.<br>Internationalization is often known as “I18N” because the first and last characters in “internationalization” are “I” and “N” and because there are 18 letters in the middle of the word.<br>“Localization” (known as “L10n” for the same reason) is the activity of translating a program to support a specific local language.</p>
<p>If the program is to be used commercially, the architecture should show that the typical string and character-set issues have been considered, including character set used (ASCII, DBCS, EBCDIC, MBCS, Uni- code, ISO 8859, and so on), kinds of strings used (C strings, Visual Basic Strings, and so on) maintaining the strings without changing code, and translating the strings into foreign languages with minimal impact on the code and the user interface.</p>
<p>The architecture can decide to use strings in line in the code where they’re needed, keep the strings in a class and reference them through the class interface, or store the strings in a resource file.</p>
<br>
<br>

<h2 id="Error-Processing"><a href="#Error-Processing" class="headerlink" title="Error Processing"></a>Error Processing</h2><p>Error handling is often treated as a coding-convention–level issue, if it’s treated at all.<br>But because it has system-wide implications, it is best treated at the archi- tectural level. Here are some questions to consider:</p>
<ul>
<li><p>Is error processing corrective or merely detective?<br>If corrective, the program can attempt to recover from errors.<br>If it’s merely detective, the program can continue processing as if nothing had happened, or it can quit.<br>In either case, it should notify the user that it detected an error.</p>
</li>
<li><p>Is error detection active or passive?<br>The system can actively anticipate errors—for example, by checking user input for validity—or it can passively respond to them only when it can’t avoid them—for example, when a combination of user input produces a numeric overflow.<br>It can clear the way or clean up the mess. Again, in either case, the choice has user-interface implications.</p>
</li>
<li><p>How does the program propagate errors?<br>Once it detects an error, it can immediately discard the data that caused the error, it can treat the error as an error and enter an error-processing state, or it can wait until all processing is complete and notify the user that errors were detected (somewhere).</p>
</li>
<li><p>What are the conventions for handling error messages?<br>If the architecture doesn’t specify a single, consistent strategy, the user interface will appear to be a confusing macaroni-and-dried-bean collage of different interfaces in different parts of the program.<br>To avoid such an appearance, the architecture should establish conventions for error messages.</p>
</li>
<li><p>Inside the program, at what level are errors handled?<br>You can handle them at the point of detection, pass them off to an error-handling class, or pass them up the call chain.</p>
</li>
<li><p>What is the level of responsibility of each class for validating its input data?<br>Is each class responsible for validating its own data, or is there a group of classes responsible for validating the system’s data?<br>Can classes at any level assume that the data they’re receiving is clean?</p>
</li>
<li><p>Do you want to use your environment’s built-in exception handling mechanism, or build your own?<br>The fact that an environment has a particular error-handling approach doesn’t mean that it’s the best approach for your requirements.</p>
</li>
</ul>
<br>
<br>

<h2 id="Fault-Tolerance"><a href="#Fault-Tolerance" class="headerlink" title="Fault Tolerance"></a>Fault Tolerance</h2><p>Fault tolerance is a collection of techniques that increase a system’s reliability by detecting errors, recovering from them if possible, and containing their bad effects if not.</p>
<p>For example, a system could make the computation of the square root of a number fault tolerant in any of several ways:</p>
<ul>
<li><p>The system might back up and try again when it detects a fault.<br>If the first answer is wrong, it would back up to a point at which it knew everything was all right and continue from there.</p>
</li>
<li><p>The system might have auxiliary code to use if it detects a fault in the primary code.<br>In the example, if the first answer appears to be wrong, the system switches over to an alternative square-root routine and uses it instead.</p>
</li>
<li><p>The system might use a voting algorithm.<br>It might have three square-root classes that each use a different method.<br>Each class computes the square root, and then the system compares the results.<br>Depending on the kind of fault tolerance built into the system, it then uses the mean, the median, or the mode of the three results.</p>
</li>
<li><p>The system might replace the erroneous value with a phony value that it knows to have a benign effect on the rest of the system.</p>
</li>
</ul>
<p>Other fault-tolerance approaches include having the system change to a state of partial operation or a state of degraded functionality when it detects an error.<br>It can shut itself down or automatically restart itself.</p>
<br>
<br>

<h2 id="Architectural-Feasibility"><a href="#Architectural-Feasibility" class="headerlink" title="Architectural Feasibility"></a>Architectural Feasibility</h2><p>The architecture should demonstrate that the system is technically feasible.</p>
<br>
<br>

<h2 id="Overengineering"><a href="#Overengineering" class="headerlink" title="Overengineering"></a>Overengineering</h2><p>Robustness is the ability of a system to continue to run after it detects an error.<br>In software, the chain isn’t as strong as its weakest link; it’s as weak as all the weak links multiplied together.<br>The architecture should clearly indicate whether programmers should err on the side of overengineering or on the side of doing the simplest thing that works.</p>
<br>
<br>

<h2 id="Buy-vs-Build-Decisions"><a href="#Buy-vs-Build-Decisions" class="headerlink" title="Buy-vs.-Build Decisions"></a>Buy-vs.-Build Decisions</h2><p>If the architecture isn’t using off-the-shelf components, it should explain the ways in which it expects custom-built components to surpass ready-made libraries and components.</p>
<br>
<br>

<h2 id="Reuse-Decisions"><a href="#Reuse-Decisions" class="headerlink" title="Reuse Decisions"></a>Reuse Decisions</h2><br>
<br>

<h2 id="Change-Strategy"><a href="#Change-Strategy" class="headerlink" title="Change Strategy"></a>Change Strategy</h2><p>The architecture should clearly describe a strategy for handling changes.<br>The architecture should show that possible enhancements have been considered and that the enhancements most likely are also the easiest to implement.<br>The architecture’s plan for changes can be as simple as one to put version numbers in data files, reserve fields for future use, or design files so that you can add new tables.</p>
<p>It might specify that data for the table is to be kept in an external file rather than coded inside the program, thus allowing changes in the program without recompiling.</p>
<br>
<br>

<h2 id="General-Architectural-Quality"><a href="#General-Architectural-Quality" class="headerlink" title="General Architectural Quality"></a>General Architectural Quality</h2><p>The architecture should describe the motivations for all major decisions.<br>Be wary of “we’ve always done it that way” justifications.</p>
<p>The architecture should tread the line between under-specifying and over- specifying the system. No part of the architecture should receive more attention than it deserves, or be over-designed.<br>Designers shouldn’t pay attention to one part at the expense of another.<br>The architecture should address all requirements without gold-plating (without containing elements that are not required).</p>
<p>The architecture should explicitly identify risky areas.<br>It should explain why they’re risky and what steps have been taken to minimize the risk.</p>
<p>Finally, you shouldn’t be uneasy about any parts of the architecture.<br>It shouldn’t contain anything just to please the boss. It shouldn’t contain anything that’s hard for you to understand.</p>
<br>
<br>

<h2 id="Checklist-Architecture"><a href="#Checklist-Architecture" class="headerlink" title="Checklist: Architecture"></a>Checklist: Architecture</h2><p><strong>Specific Architectural Topics</strong></p>
<ul>
<li><p>Is the overall organization of the program clear, including a good architectural overview and justification?</p>
</li>
<li><p>Are major building blocks well defined, including their areas of responsibility and their interfaces to other building blocks?</p>
</li>
<li><p>Are all the functions listed in the requirements covered sensibly, by neither too many nor too few building blocks?</p>
</li>
<li><p>Are the most critical classes described and justified?</p>
</li>
<li><p>Is the data design described and justified?</p>
</li>
<li><p>Is the database organization and content specified?</p>
</li>
<li><p>Are all key business rules identified and their impact on the system described?</p>
</li>
<li><p>Is a strategy for the user interface design described?</p>
</li>
<li><p>Is the user interface modularized so that changes in it won’t affect the rest of the program?</p>
</li>
<li><p>Is a strategy for handling I/O described and justified?</p>
</li>
<li><p>Are resource-use estimates and a strategy for resource management described and justified?</p>
</li>
<li><p>Are the architecture’s security requirements described?</p>
</li>
<li><p>Does the architecture set space and speed budgets for each class, subsystem, or functionality area?</p>
</li>
<li><p>Does the architecture describe how scalability will be achieved? Does the architecture address interoperability?</p>
</li>
<li><p>Is a strategy for internationalization/localization described?</p>
</li>
<li><p>Is a coherent error-handling strategy provided?</p>
</li>
<li><p>Is the approach to fault tolerance defined (if any is needed)?</p>
</li>
<li><p>Has technical feasibility of all parts of the system been established?</p>
</li>
<li><p>Is an approach to overengineering specified?</p>
</li>
<li><p>Are necessary buy-vs.-build decisions included?</p>
</li>
<li><p>Does the architecture describe how reused code will be made to conform to other architectural objectives?</p>
</li>
<li><p>Is the architecture designed to accommodate likely changes?</p>
</li>
<li><p>Does the architecture describe how reused code will be made to conform to other architectural objectives?</p>
</li>
</ul>
<br>
<br>

<p><strong>General Architectural Quality</strong></p>
<ul>
<li><p>Does the architecture account for all the requirements?</p>
</li>
<li><p>Is any part over- or under-architected? Are expectations in this area set out explicitly?</p>
</li>
<li><p>Does the whole architecture hang together conceptually?</p>
</li>
<li><p>Is the top-level design independent of the machine and language that will be used to implement it?</p>
</li>
<li><p>Are the motivations for all major decisions provided?</p>
</li>
<li><p>Are you, as a programmer who will implement the system, comfortable with the architecture?</p>
</li>
</ul>
<br>
<br>

<h1 id="Amount-of-Time-to-Spend-on-Upstream-Prerequisites"><a href="#Amount-of-Time-to-Spend-on-Upstream-Prerequisites" class="headerlink" title="Amount of Time to Spend on Upstream Prerequisites"></a>Amount of Time to Spend on Upstream Prerequisites</h1><p>Generally, a well-run project devotes about 10 to 20 percent of its effort and about 20 to 30 percent of its schedule to requirements, architecture, and up-front planning.<br>These figures don’t include time for detailed design— that’s part of construction.</p>
<p>If requirements are unstable and you’re working on a large, formal project, you’ll probably have to work with a requirements analyst to resolve requirements problems that are identified early in construction.<br>Allow time to consult with the requirements analyst and for the requirements analyst to revise the requirements before you’ll have a workable version of the requirements.</p>
<p>If requirements are unstable and you’re working on a small, informal project, allow time for defining the requirements well enough that their volatility will have a minimal impact on construction.</p>
<p>If the requirements are unstable on any project—formal or informal—treat requirements work as its own project.<br>Estimate the time for the rest of the project after you’ve finished the requirements.<br>The clients you work with might not immediately understand why you want to plan requirements development as a separate project.<br>You might need to explain your reasoning to them.</p>
<br>
<br>

<h2 id="Checklist-Upstream-Prerequisites"><a href="#Checklist-Upstream-Prerequisites" class="headerlink" title="Checklist: Upstream Prerequisites"></a>Checklist: Upstream Prerequisites</h2><ul>
<li><p>Have you identified the kind of software project you’re working on and tailored your approach appropriately?</p>
</li>
<li><p>Are the requirements sufficiently well-defined and stable enough to begin construction (see the requirements checklist for details)?</p>
</li>
<li><p>Is the architecture sufficiently well defined to begin construction (see the architecture checklist for details)?</p>
</li>
<li><p>Have other risks unique to your particular project been addressed, such that construction is not exposed to more risk than necessary?</p>
</li>
</ul>
<br>
<br>

<h2 id="Choice-of-Programming-Language"><a href="#Choice-of-Programming-Language" class="headerlink" title="Choice of Programming Language"></a>Choice of Programming Language</h2><p>Programmers working with high-level languages achieve better productivity and quality than those working with lower-level languages.<br>Languages such as C++, Java, Smalltalk, and Visual Basic have been credited with improving productivity, reliability, simplicity, and comprehensibility by factors of 5 to 15 over low-level languages such as assembly and C (Brooks 1987, Jones 1998, Boehm 2000).<br>You save time when you don’t need to have an awards ceremony every time a C statement does what it’s supposed to.<br>Moreover, higher-level languages are more expressive than lower-level languages. Each line of code says more.</p>
<img src="/blog/2025/03/20/P340/P340_2.png" class="">

<p>Programmers may be similarly influenced by their languages.<br>The words available in a programming language for expressing your programming thoughts certainly determine how you express your thoughts and might even determine what thoughts you can express.</p>
<p>Evidence of the effect of programming languages on programmers’ thinking is common.<br>If your language lacks constructs that you want to use or is prone to other kinds of problems, try to compensate for them. Invent your own coding conventions, standards, class libraries, and other augmentations.</p>
<br>
<br>

<h2 id="Checklist-Major-Construction-Practices"><a href="#Checklist-Major-Construction-Practices" class="headerlink" title="Checklist: Major Construction Practices"></a>Checklist: Major Construction Practices</h2><p><strong>Coding</strong></p>
<ul>
<li><p>Have you defined coding conventions for names, comments, and formatting?</p>
</li>
<li><p>Have you defined specific coding practices that are implied by the architecture, such as how error conditions will be handled, how security will be addressed, and so on?</p>
</li>
<li><p>Have you identified your location on the technology wave and adjusted your approach to match? If necessary, have you identified how you will program into the language rather than being limited by programming in it?</p>
</li>
</ul>
<br>
<br>

<p><strong>Teamwork</strong></p>
<ul>
<li><p>Have you defined an integration procedure, that is, have you defined the specific steps a programmer must go through before checking code into the master sources?</p>
</li>
<li><p>Will programmers program in pairs, or individually, or some combination of the two?</p>
</li>
</ul>
<br>
<br>

<p><strong>Quality Assurance</strong></p>
<ul>
<li><p>Will programmers write test cases for their code before writing the code itself?</p>
</li>
<li><p>Will programmers write unit tests for the their code regardless of whether they write them first or last?</p>
</li>
<li><p>Will programmers step through their code in the debugger before they check it in?</p>
</li>
<li><p>Will programmers integration-test their code before they check it in?</p>
</li>
<li><p>Will programmers review or inspect each others’ code?</p>
</li>
</ul>
<br>
<br>

<p><strong>Tools</strong></p>
<ul>
<li><p>Have you selected a revision control tool?</p>
</li>
<li><p>Have you selected a language and language version or compiler version?</p>
</li>
<li><p>Have you decided whether to allow use of non-standard language features?</p>
</li>
<li><p>Have you identified and acquired other tools you’ll be using—editor, refactoring tool, debugger, test framework, syntax checker, and so on?</p>
</li>
</ul>
<br>
<br>

<blockquote>
</blockquote>
<ul>
<li>Every programming language has strengths and weaknesses. Be aware of the specific strengths and weaknesses of the language you’re using.</li>
<li>Establish programming conventions before you begin programming. It’s nearly impossible to change code to match them later.</li>
<li>More construction practices exist than you can use on any single project. Consciously choose the practices that are best suited to your project.</li>
<li>Your position on the technology wave determines what approaches will be effective—or even possible. Identify where you are on the technology wave, and adjust your plans and expectations accordingly.</li>
</ul>
<br>
<br>

<h1 id="Design-in-Construction"><a href="#Design-in-Construction" class="headerlink" title="Design in Construction"></a>Design in Construction</h1><p>Design is a Wicked Problem.</p>
<p>Horst Rittel and Melvin Webber defined a “wicked” problem as one that could be clearly defined only by solving it, or by solving part of it (1973).<br>This paradox implies, essentially, that you have to “solve” the problem once in order to clearly define it and then solve it again to create a solution that works.</p>
<p>Design is sloppy because you take many false steps and go down many blind alleys—you make a lot of mistakes.<br>Indeed, making mistakes is the point of design—it’s cheaper to make mistakes and correct designs that it would be to make the same mistakes, recognize them later, and have to correct full-blown code.</p>
<p>Design is a Heuristic Process.<br>Because design is non-deterministic, design techniques tend to be “heuristics”— ”rules of thumb” or “things to try that sometimes work,” rather than repeatable processes that are guaranteed to produce predictable results. Design involves trial and error.</p>
<p>A tidy way of summarizing these attributes of design is to say that design is “emergent” (Bain and Shalloway 2004).<br>Designs don’t spring fully formed directly from someone’s brain.<br>They evolve and improve through design reviews, informal discussions, experience writing the code itself, and experience revising the code itself.</p>
<br>
<br>

<h2 id="Accidental-and-Essential-Difficulties"><a href="#Accidental-and-Essential-Difficulties" class="headerlink" title="Accidental and Essential Difficulties"></a>Accidental and Essential Difficulties</h2><p>Brooks argues that software development is made difficult because of two different classes of problems—the essential and the accidental.</p>
<p>In philosophy, the essential properties are the properties that a thing must have in order to be that thing.</p>
<blockquote>
<p>A car must have an engine, wheels, and doors to be a car. If it doesn’t have any of those essential properties, then it isn’t really a car.</p>
</blockquote>
<p>Accidental properties are the properties a thing just happens to have, that don’t really bear on whether the thing is really that kind of thing.</p>
<blockquote>
<p>A car could have a V8, a turbocharged 4-cylinder, or some other kind of engine and be a car regardless of that detail.</p>
</blockquote>
<p>You could also think of accidental properties as coincidental, discretionary, optional, and happenstance.</p>
<br>
<br>

<h2 id="Importance-of-Managing-Complexity"><a href="#Importance-of-Managing-Complexity" class="headerlink" title="Importance of Managing Complexity"></a>Importance of Managing Complexity</h2><p>When projects do fail for reasons that are primarily technical, the reason is often uncontrolled complexity.<br>The software is allowed to grow so complex that no one really knows what it does.<br>When a project reaches the point at which no one really understands the impact that code changes in one area will have on other areas, progress grinds to a halt.</p>
<p>We should try to organize our programs in such a way that we can safely focus on one part of it at a time.<br>The goal is to minimize the amount of a program you have to think about at any one time.</p>
<br>
<br>

<h2 id="Desirable-Characteristics-of-a-Design"><a href="#Desirable-Characteristics-of-a-Design" class="headerlink" title="Desirable Characteristics of a Design"></a>Desirable Characteristics of a Design</h2><p>There are three sources of overly costly, ineffective designs:</p>
<p>This suggests a two-prong approach to managing complexity:</p>
<ul>
<li>Minimize the amount of essential complexity that anyone’s brain has to deal with at any one time.</li>
<li>Keep accidental complexity from needlessly proliferating.</li>
</ul>
<br>
<br>

<p>Here’s a list of internal design characteristics:</p>
<h3 id="Minimal-complexity"><a href="#Minimal-complexity" class="headerlink" title="Minimal complexity"></a>Minimal complexity</h3><p>The primary goal of design should be to minimize complexity for all the reasons described in the last section. Avoid making “clever” designs.<br>Clever designs are usually hard to understand. Instead make “simple” and “easy-to-understand” designs.</p>
<br>
<br>

<h3 id="Ease-of-maintenance"><a href="#Ease-of-maintenance" class="headerlink" title="Ease of maintenance"></a>Ease of maintenance</h3><p>Ease of maintenance means designing for the maintenance programmer.<br>Continually imagine the questions a maintenance programmer would ask about the code you’re writing.<br>Design the system to be self-explanatory.</p>
<br>
<br>

<h3 id="Minimal-connectedness"><a href="#Minimal-connectedness" class="headerlink" title="Minimal connectedness"></a>Minimal connectedness</h3><p>Use the principles of strong cohesion, loose coupling, and information hiding to design classes with as few interconnections as possible.<br>Minimal connectedness minimizes work during integration, testing, and maintenance.</p>
<br>
<br>

<h3 id="Extensibility"><a href="#Extensibility" class="headerlink" title="Extensibility"></a>Extensibility</h3><h3 id="Reusability"><a href="#Reusability" class="headerlink" title="Reusability"></a>Reusability</h3><h3 id="High-fan-in"><a href="#High-fan-in" class="headerlink" title="High fan-in"></a><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/4092228/design-principle-high-fan-in-vs-high-fan-out">High fan-in</a></h3><p>High fan-in refers to having a high number of classes that use a given class.<br>High fan-in implies that a system has been designed to make good use of utility classes at the lower levels in the system.</p>
<br>
<br>

<h3 id="Low-to-medium-fan-out"><a href="#Low-to-medium-fan-out" class="headerlink" title="Low-to-medium fan-out"></a>Low-to-medium fan-out</h3><p>Low-to-medium fan-out means having a given class use a low-to-medium number of other classes.<br>High fan-out (more than about <strong>seven</strong>) indicates that a class uses a large number of other classes and may therefore be overly complex.<br>Researchers have found that the principle of low fan out is beneficial whether you’re considering the number of routines called from within a routine or from within a class.</p>
<br>
<br>

<h3 id="Portability"><a href="#Portability" class="headerlink" title="Portability"></a>Portability</h3><p>Portability means designing the system so that you can easily move it to another environment.</p>
<br>
<br>

<h3 id="Leanness"><a href="#Leanness" class="headerlink" title="Leanness"></a>Leanness</h3><p>Leanness means designing the system so that it has no extra parts.</p>
<blockquote>
<p>Voltaire said that a book is finished not when nothing more can be added but when nothing more can be taken away.</p>
</blockquote>
<br>
<br>

<h3 id="Stratification"><a href="#Stratification" class="headerlink" title="Stratification"></a>Stratification</h3><p>Stratified design means trying to keep the levels of decomposition stratified so that you can view the system at any single level and get a consistent view.<br>Design the system so that you can view it at one level without dipping into other levels.</p>
<p>If you’re writing a modern system that has to use a lot of older, poorly designed code, write a layer of the new system that’s responsible for interfacing with the old code.</p>
<p>The beneficial effects of stratified design in such a case are (1) it compartmentalizes the messiness of the bad code and (2) if you’re ever allowed to jettison the old code, you won’t need to modify any new code except the interface layer.</p>
<br>
<br>

<h3 id="Standard-techniques"><a href="#Standard-techniques" class="headerlink" title="Standard techniques"></a>Standard techniques</h3><p>Try to give the whole system a familiar feeling by using standardized, common approaches.</p>
<br>
<br>

<h2 id="Levels-of-Design"><a href="#Levels-of-Design" class="headerlink" title="Levels of Design"></a>Levels of Design</h2><img src="/blog/2025/03/20/P340/P340_3.png" class="">

<br>
<br>

<p><strong>Level 1: Software System</strong></p>
<p>The first level is the entire system. Some programmers jump right from the system level into designing classes, but it’s usually beneficial to think through higher level combinations of classes, such as subsystems or packages.</p>
<br>
<br>

<p><strong>Level 2: Division into Subsystems or Packages</strong></p>
<p>The main product of design at this level is the identification of all major subsystems.<br>The subsystems can be big—database, user interface, business logic, command interpreter, report engine, and so on.<br>The major design activity at this level is deciding how to partition the program into major subsystems and defining how each subsystem is allowed to use each other subsystems.</p>
<p>Of particular importance at this level are the rules about how the various subsystems can communicate.<br>If all subsystems can communicate with all other subsystems, you lose the benefit of separating them at all. Make the subsystem meaningful by restricting communications.</p>
<p>On large programs and families of programs, design at the subsystem level makes a difference.<br>If you believe that your program is small enough to skip subsystem-level design, at least make the decision to skip that level of design a conscious one.</p>
<br>
<br>

<h3 id="Common-Subsystems"><a href="#Common-Subsystems" class="headerlink" title="Common Subsystems"></a>Common Subsystems</h3><ul>
<li>Business logic</li>
</ul>
<p>Business logic is the laws, regulations, policies, and procedures that you encode into a computer system.</p>
<blockquote>
<p>If you’re writing a payroll system, you might encode rules from the IRS about the number of allowable withholdings and the estimated tax rate.</p>
</blockquote>
<br>
<br>

<ul>
<li>User interface</li>
</ul>
<p>Create a subsystem to isolate user-interface components so that the user interface can evolve without damaging the rest of the program. I</p>
<blockquote>
<p>n most cases, a user- interface subsystem uses several subordinate subsystems or classes for GUI interface, command line interface, menu operations, window management, help system, and so forth.</p>
</blockquote>
<br>
<br>

<ul>
<li>Database access</li>
</ul>
<p>Subsystems that hide implementation details provide a valuable level of abstraction that reduces a program’s complexity.</p>
<blockquote>
<p>You can hide the implementation details of accessing a database so that most of the program doesn’t need to worry about the messy details of manipulating low- level structures and can deal with the data in terms of how it’s used at the business-problem level.</p>
</blockquote>
<br>
<br>

<ul>
<li>System dependencies</li>
</ul>
<br>
<br>

<p><strong>Level 3: Division into Classes</strong></p>
<p>Design at this level includes identifying all classes in the system.<br>For example, a database-interface subsystem might be further partitioned into data access classes and persistence framework classes as well as database meta data.</p>
<br>
<br>

<p><strong>Level 4: Division into Routines</strong></p>
<p>The class interface defined at Level 3 will define some of the routines.<br>Design at Level 4 will detail the class’s private routines.<br>When you examine the details of the routines inside a class, you can see that many routines are simple boxes, but a few are composed of hierarchically organized routines, which require still more design.</p>
<p><strong>Level 5: Internal Routine Design</strong></p>
<p>Design at the routine level consists of laying out the detailed functionality of the individual routines.<br>Internal routine design is typically left to the individual programmer working on an individual routine.<br>The design consists of activities such as writing pseudocode, looking up algorithms in reference books, deciding how to organize the paragraphs of code in a routine, and writing programming- language code.</p>
<br>
<br>

<h3 id="Find-Real-World-Objects"><a href="#Find-Real-World-Objects" class="headerlink" title="Find Real-World Objects"></a>Find Real-World Objects</h3><p>The steps in designing with objects are</p>
<p>• Identify the objects and their attributes (methods and data).<br>• Determine what can be done to each object.<br>• Determine what each object can do to other objects.<br>• Determine the parts of each object that will be visible to other objects— which parts will be public and which will be private.<br>• Define each object’s public interface.</p>
<br>
<br>

<h3 id="Form-Consistent-Abstractions"><a href="#Form-Consistent-Abstractions" class="headerlink" title="Form Consistent Abstractions"></a>Form Consistent Abstractions</h3><p>Abstraction is the ability to engage with a concept while safely ignoring some of its details— handling different details at different levels.</p>
<p>Base classes are abstractions that allow you to focus on common attributes of a set of derived classes and ignore the details of the specific classes while you’re working on the base class.<br>A good class interface is an abstraction that allows you to focus on the interface without needing to worry about the internal workings of the class.</p>
<br>
<br>

<h3 id="Encapsulate-Implementation-Details"><a href="#Encapsulate-Implementation-Details" class="headerlink" title="Encapsulate Implementation Details"></a>Encapsulate Implementation Details</h3><p>Abstraction says, “You’re allowed to look at an object at a high level of detail.”<br>Encapsulation says, “Furthermore, you aren’t allowed to look at an object at any other level of detail.”</p>
<br>
<br>

<h3 id="Inherit-When-Inheritance-Simplifies-the-Design"><a href="#Inherit-When-Inheritance-Simplifies-the-Design" class="headerlink" title="Inherit When Inheritance Simplifies the Design"></a>Inherit When Inheritance Simplifies the Design</h3><h3 id="Hide-Secrets-Information-Hiding"><a href="#Hide-Secrets-Information-Hiding" class="headerlink" title="Hide Secrets (Information Hiding)"></a>Hide Secrets (Information Hiding)</h3><p>In structured design, the notion of “black boxes” comes from information hiding.<br>In object-oriented design, it gives rise to the concepts of encapsulation and modularity, and it is associated with the concept of abstraction.</p>
<br>
<br>

<h3 id="Secrets-and-the-Right-to-Privacy"><a href="#Secrets-and-the-Right-to-Privacy" class="headerlink" title="Secrets and the Right to Privacy"></a>Secrets and the Right to Privacy</h3><p>One key task in designing a class is deciding which features should be known outside the class and which should remain secret.</p>
<p>Designing the class interface is an iterative process just like any other aspect of design.<br>If you don’t get the interface right the first time, try a few more times until it stabilizes. If it doesn’t stabilize, you need to try a different approach.</p>
<p>Information hiding is useful at all levels of design, from the use of named constants instead of literals, to creation of data types, to class design, routine design, and subsystem design.</p>
<br>
<br>

<h2 id="Excessive-Distribution-Of-Information"><a href="#Excessive-Distribution-Of-Information" class="headerlink" title="Excessive Distribution Of Information"></a>Excessive Distribution Of Information</h2><p>One common barrier to information hiding is an excessive distribution of information throughout a system. You might have hard-coded the literal 100 throughout a system. Using 100 as a literal decentralizes references to it. It’s better to hide the information in one place, in a constant MAX_EMPLOYEES perhaps, whose value is changed in only one place.</p>
<p>Another example of excessive information distribution is interleaving interaction with human users throughout a system. If the mode of interaction changes—say, from a GUI interface to a command-line interface—virtually all the code will have to be modified. It’s better to concentrate user interaction in a single class, package, or subsystem you can change without affecting the whole system.</p>
<p>Yet another example would be a global data element—perhaps an array of employee data with 1000 elements maximum that’s accessed throughout a program. If the program uses the global data directly, information about the data item’s implementation—such as the fact that it’s an array and has a maximum of 1000 elements—will be spread throughout the program. If the program uses the data only through access routines, only the access routines will know the implementation details.</p>
<br>
<br>

<h2 id="Circular-Dependencies"><a href="#Circular-Dependencies" class="headerlink" title="Circular Dependencies"></a>Circular Dependencies</h2><p>A more subtle barrier to information hiding is circular dependencies, as when a routine in class A calls a routine in class B, and a routine in class B calls a routine in class A.<br>Avoid such dependency loops.</p>
<br>
<br>

<h2 id="Class-Data-Mistaken-For-Global-Data"><a href="#Class-Data-Mistaken-For-Global-Data" class="headerlink" title="Class Data Mistaken For Global Data"></a>Class Data Mistaken For Global Data</h2><p>Global data is generally subject to two problems: (1) Routines operate on global data without knowing that other routines are operating on it; and (2) routines are aware that other routines are operating on the global data, but they don’t know exactly what they’re doing to it.</p>
<br>
<br>

<h2 id="Perceived-Performance-Penalties"><a href="#Perceived-Performance-Penalties" class="headerlink" title="Perceived Performance Penalties"></a>Perceived Performance Penalties</h2><p>A final barrier to information hiding can be an attempt to avoid performance penalties at both the architectural and the coding levels. You don’t need to worry at either level.</p>
<br>
<br>

<h2 id="Value-of-Information-Hiding"><a href="#Value-of-Information-Hiding" class="headerlink" title="Value of Information Hiding"></a>Value of Information Hiding</h2><p>The difference between object-oriented design and information hiding in this example is more subtle than a clash of explicit rules and regulations.<br>Object- oriented design would approve of this design decision as much as information hiding would.<br>Rather, the difference is one of heuristics—thinking about information hiding inspires and promotes design decisions that thinking about objects does not.</p>
<br>
<br>

<h2 id="Identify-Areas-Likely-to-Change"><a href="#Identify-Areas-Likely-to-Change" class="headerlink" title="Identify Areas Likely to Change"></a>Identify Areas Likely to Change</h2><ul>
<li>Identify items that seem likely to change.</li>
<li>Separate items that are likely to change.</li>
<li>Isolate items that seem likely to change.</li>
</ul>
<p>Here are a few areas that are likely to change:</p>
<ul>
<li>Business logic</li>
<li>Hardware dependencies</li>
<li>Input and output</li>
<li>Nonstandard language features</li>
<li>Difficult design and construction areas</li>
</ul>
<p>It’s a good idea to hide difficult design and construction areas because they might be done poorly and you might need to do them again.</p>
<br>
<br>

<ul>
<li>Status variables</li>
</ul>
<div class="note ">
            <p>You can add at least two levels of flexibility and readability to your use of status variables:</p><p><strong>Don’t use a boolean variable as a status variable. Use an enumerated type instead.</strong></p><blockquote><p>It’s common to add a new state to a status variable, and adding a new type to an enumerated type requires a mere recompilation rather than a major revision of every line of code that checks the variable.</p></blockquote><p><strong>Use access routines rather than checking the variable directly.</strong><br>By checking the access routine rather than the variable, you allow for the possibility of more sophisticated state detection.</p><blockquote><p>For example, if you wanted to check combinations of an error-state variable and a current-function-state variable, it would be easy to do if the test were hidden in a routine and hard to do if it were a complicated test hard-coded throughout the program.</p></blockquote>
          </div>

<ul>
<li>Data-size constraints</li>
</ul>
<br>
<br>

<h2 id="Anticipating-Different-Degrees-of-Change"><a href="#Anticipating-Different-Degrees-of-Change" class="headerlink" title="Anticipating Different Degrees of Change"></a>Anticipating Different Degrees of Change</h2><p>A good technique for identifying areas likely to change is first to identify the minimal subset of the program that might be of use to the user.<br>The subset makes up the core of the system and is unlikely to change.</p>
<p>Next, define minimal increments to the system. They can be so small that they seem trivial.<br>These areas of potential improvement constitute potential changes to the system; design these areas using the principles of information hiding.</p>
<br>
<br>

<h2 id="Keep-Coupling-Loose"><a href="#Keep-Coupling-Loose" class="headerlink" title="Keep Coupling Loose"></a>Keep Coupling Loose</h2><p>Coupling describes how tightly a class or routine is related to other classes or routines.<br>The goal is to create classes and routines with small, direct, visible, and flexible relations to other classes and routines (loose coupling).</p>
<br>
<br>

<h3 id="Coupling-Criteria"><a href="#Coupling-Criteria" class="headerlink" title="Coupling Criteria"></a>Coupling Criteria</h3><ul>
<li>Size</li>
</ul>
<p>Size refers to the number of connections between modules.<br>With coupling, small is beautiful because it’s less work to connect other modules to a module that has a smaller interface.</p>
<ul>
<li>Visibility</li>
</ul>
<p>Visibility refers to the prominence of the connection between two modules.<br>You get lots of credit for making your connections as blatant as possible.</p>
<blockquote>
<p>Passing data in a parameter list is making an obvious connection and is therefore good.<br>Modifying global data so that another module can use that data is a sneaky connection and is therefore bad.<br>Documenting the global-data connection makes it more obvious and is slightly better.</p>
</blockquote>
<ul>
<li>Flexibility</li>
</ul>
<p>Flexibility refers to how easily you can change the connections between modules.</p>
<br>
<br>

<h3 id="Coupling-Criteria-1"><a href="#Coupling-Criteria-1" class="headerlink" title="Coupling Criteria"></a>Coupling Criteria</h3><ul>
<li>Simple-data-parameter coupling</li>
</ul>
<p>Two modules are simple-data-parameter coupled if all the data passed between them are of primitive data types and all the data is passed through parameter lists.<br>This kind of coupling is normal and acceptable.</p>
<ul>
<li>Simple-object coupling</li>
</ul>
<p>A module is simple-object coupled to an object if it instantiates that object.<br>This kind of coupling is fine.</p>
<ul>
<li>Object-parameter coupling</li>
</ul>
<p>Two modules are object-parameter coupled to each other if Object1 requires Object2 to pass it an Object3.<br>This kind of coupling is tighter than Object1 requiring Object2 to pass it only primitive data types.</p>
<br>
<br>

<ul>
<li>Semantic coupling</li>
</ul>
<p>Here are some examples:</p>
<blockquote>
</blockquote>
<ol>
<li>Module1 passes a control flag to Module2 that tells Module2 what to do. This approach requires Module1 to make assumptions about the internal workings of Module2, namely, what Module2 is going to with the control flag. If Module2 defines a specific data type for the control flag (enumerated type or object), this usage is probably OK.</li>
<li>Module2 uses global data after the global data has been modified by Module1. This approach requires Module2 to assume that Module1 has modified the data in the ways Module2 needs it to be modified, and that Module1 has been called at the right time.</li>
<li>Module1’s interface states that its Module1.Initialize() routine should be called before its Module1.Routine1() is called. Module2 knows that Module1.Routine1() calls Module1.Initialize() anyway, so it just instantiates Module1 and calls Module1.Routine1() without calling Module1.Initialize() first.</li>
<li>Module1 passes Object to Module2. Because Module1 knows that Module2 uses only three of Object’s seven methods, it only initializes Object only partially—with the specific data those three methods need.</li>
<li>Module1 passes BaseObject to Module2. Because Module2 knows that Module2 is really passing it DerivedObject, it casts BaseObject to DerivedObject and calls methods that are specific to DerivedObject.<br>DerivedClass modifies BaseClass’s protected member data directly.</li>
</ol>
<p>Semantic coupling is dangerous because changing code in the used module can break code in the using module in ways that are completely undetectable by the compiler.</p>
<p>The point of loose coupling is that an effective module provides an additional level of abstraction—once you write it, you can take it for granted.<br>It reduces overall program complexity and allows you to focus on one thing at a time.</p>
<br>
<br>


<h2 id="Look-for-Common-Design-Patterns"><a href="#Look-for-Common-Design-Patterns" class="headerlink" title="Look for Common Design Patterns"></a>Look for Common Design Patterns</h2><p>Common patterns include Adapter, Bridge, Decorator, Facade, Factory Method, Observor, Singleton, Strategy, and Template Method.</p>
<img src="/blog/2025/03/20/P340/P340_4.png" class="">
<img src="/blog/2025/03/20/P340/P340_5.png" class="">

<br>
<br>

<p>Other Heuristics:</p>
<ul>
<li>Aim for Strong Cohesion -&gt; 一个class内有强凝聚, class之间coupling</li>
<li>Build Hierarchies</li>
</ul>
<blockquote>
<p>Hierarchies are a useful tool for achieving Software’s Primary Technical Imperative because they allow you to focus on only the level of detail you’re currently concerned with.<br>The details don’t go away completely; they’re simply pushed to another level so that you can think about them when you want to rather than thinking about all the details all of the time.</p>
</blockquote>
<ul>
<li>Formalize Class Contracts</li>
</ul>
<blockquote>
<p>Typically, the contract is something like “If you promise to provide data x, y, and z and you promise they’ll have characteristics a, b, and c, I promise to perform operations 1, 2, and 3 within constraints 8, 9, and 10.”<br>The promises the clients of the class make to the class are typically called “preconditions,” and the promises the object makes to its clients are called the “postconditions.”</p>
</blockquote>
<ul>
<li>Assign Responsibilities</li>
<li>Design for Test</li>
<li>Avoid Failure</li>
</ul>
<blockquote>
<p>The high-profile security lapses of various well-known systems the past few years make it hard to disagree that we should find ways to apply Petroski’s design-failure insights to software.</p>
</blockquote>
<ul>
<li>Choose Binding Time Consciously</li>
<li>Make Central Points of Control</li>
</ul>
<blockquote>
<p>Control can be centralized in classes, routines, preprocessor macros, #include files—even a named constant is an example of a central point of control.</p>
</blockquote>
<ul>
<li>Consider Using Brute Force</li>
</ul>
<blockquote>
<p>A brute-force solution that works is better than an elegant solution that doesn’t work.</p>
</blockquote>
<ul>
<li>Draw a Diagram</li>
<li>Keep Your Design Modular</li>
</ul>
<br>
<br>

<h2 id="Guidelines-for-Using-Heuristics"><a href="#Guidelines-for-Using-Heuristics" class="headerlink" title="Guidelines for Using Heuristics"></a>Guidelines for Using Heuristics</h2><ol>
<li>Understanding the Problem.</li>
<li>Devising a Plan.</li>
<li>Carrying out the Plan.</li>
<li>Looking Back.</li>
</ol>
<div class="note ">
            <p>One of the most effective guidelines is not to get stuck on a single approach.<br>If diagramming the design in UML isn’t working, write it in English.<br>Write a short test program.<br>Try a completely different approach.<br>Think of a brute-force solution.<br>Keep outlining and sketching with your pencil, and your brain will follow.<br>If all else fails, walk away from the problem.<br>Literally go for a walk, or think about something else before returning to the problem.<br>If you’ve given it your best and are getting nowhere, putting it out of your mind for a time often produces results more quickly than sheer persistence can.</p>
          </div>

<br>
<br>

<h2 id="Top-Down-and-Bottom-Up-Design-Approaches"><a href="#Top-Down-and-Bottom-Up-Design-Approaches" class="headerlink" title="Top-Down and Bottom-Up Design Approaches"></a>Top-Down and Bottom-Up Design Approaches</h2><p>Top-down design begins at a high level of abstraction.<br>You define base classes or other non-specific design elements.<br>As you develop the design, you increase the level of detail, identifying derived classes, collaborating classes, and other detailed design elements.</p>
<p>Bottom-up design starts with specifics and works toward generalities It typically begins by identifying concrete objects and then generalizes aggregations of objects and base classes from those specifics.</p>
<p>How far do you decompose a program? Continue decomposing until it seems as if it would be easier to code the next level than to decompose it.<br>Work until you become somewhat impatient at how obvious and easy the design seems.</p>
<br>
<br>

<p>If you need to work with something more tangible, try the bottom-up design approach.<br>Ask yourself, “What do I know this system needs to do?”<br>You might identify a few low-level responsibilities that you can assign to concrete classes</p>
<blockquote>
<p>Ask yourself what you know the system needs to do.<br>Identify concrete objects and responsibilities from that question.<br>Identify common objects and group them using subsystem organization, packages, composition within objects, or inheritance, whichever is appropriate.<br>Continue with the next level up, or go back to the top and try again to work down.</p>
</blockquote>
<br>
<br>

<p>To summarize, top down tends to start simple, but sometimes low-level complexity ripples back to the top, and those ripples can make things more complex than they really needed to be.<br>Bottom up tends to start complex, but identifying that complexity early on leads to better design of the higher-level classes—if the complexity doesn’t torpedo the whole system first!</p>
<br>
<br>

<h2 id="Experimental-Prototyping"><a href="#Experimental-Prototyping" class="headerlink" title="Experimental Prototyping"></a>Experimental Prototyping</h2><p>Prototyping works poorly when developers aren’t disciplined about writing the absolute minimum of code needed to answer a question.<br>Prototyping also works poorly when the design question is not specific enough.<br>A final risk of prototyping arises when developers do not treat the code as throwaway code.<br>By adopting the attitude that once the question is answered the code will be thrown away, you can minimize this risk.</p>
<br>
<br>

<img src="/blog/2025/03/20/P340/P340_6.png" class="">

<h2 id="Capturing-Your-Design-Work"><a href="#Capturing-Your-Design-Work" class="headerlink" title="Capturing Your Design Work"></a>Capturing Your Design Work</h2><ul>
<li>Insert design documentation into the code itself</li>
<li>Capture design discussions and decisions on a Wiki</li>
<li>Write email summaries</li>
<li>Use a digital camera</li>
<li>Save design flipcharts</li>
<li>Use CRC cards</li>
<li>Create UML diagrams at appropriate levels of detail</li>
</ul>
<br>
<br>

<h2 id="CHECKLIST-Design-in-Construction"><a href="#CHECKLIST-Design-in-Construction" class="headerlink" title="CHECKLIST: Design in Construction"></a>CHECKLIST: Design in Construction</h2><ul>
<li><p>Have you iterated, selecting the best of several attempts rather than the first attempt?</p>
</li>
<li><p>Have you tried decomposing the system in several different ways to see which way will work best?</p>
</li>
<li><p>Have you approached the design problem both from the top down and from the bottom up?</p>
</li>
<li><p>Have you prototyped risky or unfamiliar parts of the system, creating the absolute minimum amount of throwaway code needed to answer specific questions?</p>
</li>
<li><p>Has you design been reviewed, formally or informally, by others?</p>
</li>
<li><p>Have you driven the design to the point that its implementation seems obvious?</p>
</li>
<li><p>Have you captured your design work using an appropriate technique such as a Wiki, email, flipcharts, digital camera, UML, CRC cards, or comments in the code itself?</p>
</li>
</ul>
<br>
<br>

<ul>
<li><p>Does the design adequately address issues that were identified and deferred at the architectural level?</p>
</li>
<li><p>Is the design stratified into layers?</p>
</li>
<li><p>Are you satisfied with the way the program has been decomposed into subsystems, packages, and classes?</p>
</li>
<li><p>Are you satisfied with the way the classes have been decomposed into routines?</p>
</li>
<li><p>Are classes designed for minimal interaction with each other?</p>
</li>
<li><p>Are classes and subsystems designed so that you can use them in other systems?</p>
</li>
<li><p>Will the program be easy to maintain?</p>
</li>
<li><p>Is the design lean? Are all of its parts strictly necessary?</p>
</li>
<li><p>Does the design use standard techniques and avoid exotic, hard-to- understand elements?</p>
</li>
<li><p>Overall, does the design help minimize both accidental and essential complexity?</p>
</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Working-Classes"><a href="#Working-Classes" class="headerlink" title="Working Classes"></a>Working Classes</h1><br>
<br>

<h2 id="Good-Class-Interfaces"><a href="#Good-Class-Interfaces" class="headerlink" title="Good Class Interfaces"></a>Good Class Interfaces</h2><p>The first and probably most important step in creating a high quality class is creating a good interface.</p>
<h3 id="Good-Abstraction"><a href="#Good-Abstraction" class="headerlink" title="Good Abstraction"></a>Good Abstraction</h3><p>Present a consistent level of abstraction in the class interface.<br>Each class should implement one and only one abstract data types (ADTs).</p>
<img src="/blog/2025/03/20/P340/P340_7.png" class="">

<p>Move unrelated information to another class.<br>Beware of erosion of the interface’s abstraction under modification.<br>Don’t add public members that are inconsistent with the interface abstraction.<br>Consider abstraction and cohesion together.</p>
<h3 id="Good-Encapsulation"><a href="#Good-Encapsulation" class="headerlink" title="Good Encapsulation"></a>Good Encapsulation</h3><p>Minimize accessibility of classes and members.<br>Don’t expose member data in public.<br>Don’t put private implementation details in a class’s interface.<br>Don’t make assumptions about the class’s users.<br>Avoid friend classes.</p>
<blockquote>
<p>In a few circumstances such as the State pattern, friend classes can be used in a disciplined way that contributes to managing complexity</p>
</blockquote>
<p>Don’t put a routine into the public interface just because it uses only public routines.<br>Favor read-time convenience to write-time convenience.<br>Be very, very wary of semantic violations of encapsulation.</p>
<div class="note ">
            <p>Here are some examples of the ways that a user of a class can break encapsulation semantically:</p><ul><li>Not calling Class A’s Initialize() routine because you know that Class A’s PerformFirstOperation() routine calls it automatically.</li><li>Not calling the database.Connect() routine before you call employee.Retrieve( database ) because you know that the employee.Retrieve() function will connect to the database if there isn’t already a connection.</li><li>Not calling Class A’s Terminate() routine because you know that Class A’s PerformFinalOperation() routine has already called it.</li><li>Using a pointer or reference to ObjectB created by ObjectA even after ObjectA has gone out of scope, because you know that ObjectA keeps ObjectB in static storage, and ObjectB will still be valid.</li><li>Using ClassB’s MAXIMUM_ELEMENTS constant instead of using ClassA.MAXIMUM_ELEMENTS, because you know that they’re both equal to the same value.</li></ul>
          </div>

<p>Watch for coupling that’s too tight.</p>
<br>
<br>

<h2 id="Design-and-Implementation-Issues"><a href="#Design-and-Implementation-Issues" class="headerlink" title="Design and Implementation Issues"></a>Design and Implementation Issues</h2><h3 id="Containment-“has-a”-relationships"><a href="#Containment-“has-a”-relationships" class="headerlink" title="Containment (“has a” relationships)"></a>Containment (“has a” relationships)</h3><p>Implement “has a” through private inheritance as a last resort.</p>
<blockquote>
<p>In some instances you might find that you can’t achieve containment through making one object a member of another. In that case, some experts suggest privately inheriting from the contained object.</p>
</blockquote>
<p>Be critical of classes that contain more than about seven members.</p>
<br>
<br>

<h3 id="Inheritance-“is-a”-relationships"><a href="#Inheritance-“is-a”-relationships" class="headerlink" title="Inheritance (“is a” relationships)"></a>Inheritance (“is a” relationships)</h3><p>When you decide to use inheritance, you have to make several decisions:</p>
<ul>
<li>For each member routine, will the routine be visible to derived classes? Will it have a default implementation? Will the default implementation be overridable?</li>
<li>For each data member (including variables, named constants, enumerations, and so on), will the data member be visible to derived class?</li>
</ul>
<p>Implement “is a” through public inheritance.</p>
<blockquote>
<p>If the derived class isn’t going to adhere completely to the same interface contract defined by the base class, inheritance is not the right implementation technique.</p>
</blockquote>
<p>Design and document for inheritance or prohibit it.<br>Adhere to the Liskov Substitution Principle.<br>Be sure to inherit only what you want to inherit.</p>
<img src="/blog/2025/03/20/P340/P340_8.png" class="">

<p>As the table suggests, inherited routines come in three basic flavors:</p>
<ul>
<li>An abstract overridable routine means that the derived class inherits the routine’s interface but not its implementation.</li>
<li>An overridable routine means that the derived class inherits the routine’s interface and a default implementation, and it is allowed to override the default implementation.</li>
<li>A non-overridable routine means that the derived class inherits the routine’s interface and its default implementation, and it is not allowed to override the routine’s implementation.</li>
</ul>
<br>
<br>

<p>Don’t “override” a non-overridable member function.</p>
<blockquote>
<p>If a function is private in the base class, a derived class can create a function with the same name. To the programmer reading the code in the derived class, such a function can create confusion because it looks like it should by polymorphic, but it isn’t; it just has the same name.</p>
</blockquote>
<p>Move common interfaces, data, and behavior as high as possible in the inheritance tree.</p>
<p>Be suspicious of classes of which there is only one instance.<br>Be suspicious of base classes of which there is only one derived class.<br>Be suspicious of classes that override a routine and do nothing inside the derived routine.<br>Avoid deep inheritance trees.</p>
<blockquote>
<p>In his excellent book Object-Oriented Design Heuristics, Arthur Riel suggests limiting inheritance hierarchies to a maximum of six levels.<br>In my experience most people have trouble juggling more than two or three levels of inheritance in their brains at once.</p>
</blockquote>
<p>Prefer inheritance to extensive type checking.</p>
<img src="/blog/2025/03/20/P340/P340_9.png" class="">

<p>Avoid using a base class’s protected data in a derived class (or make that data private instead of protected in the first place).</p>
<br>
<br>

<h3 id="Member-Functions-and-Data"><a href="#Member-Functions-and-Data" class="headerlink" title="Member Functions and Data"></a>Member Functions and Data</h3><p>Keep the number of routines in a class as small as possible.</p>
<blockquote>
<p>However, other competing factors were found to be more significant, including deep inheritance trees, large number of routines called by a routine, and strong coupling between classes.<br>Evaluate the tradeoff between minimizing the number of routines and these other factors.</p>
</blockquote>
<p>Disallow implicitly generated member functions and operators you don’t want.<br>Minimize direct routine calls to other classes.<br>Minimize indirect routine calls to other classes.</p>
<blockquote>
<p>Direct connections are hazardous enough. Indirect connections—such as account.ContactPerson().DaytimeContactInfo().PhoneNumber()—tend to be even more hazardous.</p>
</blockquote>
<br>
<br>

<p>In general, minimize the extent to which a class collaborates with other classes<br>Try to minimize all of the following:</p>
<ul>
<li>Number of kinds of objects instantiated</li>
<li>Number of different direct routine calls on instantiated objects</li>
<li>Number of routine calls on objects returned by other instantiated objects</li>
</ul>
<br>
<br>

<h3 id="Constructors"><a href="#Constructors" class="headerlink" title="Constructors"></a>Constructors</h3><p>Initialize all member data in all constructors, if possible.<br>Initialize data members in the order in which they’re declared.<br>Enforce the singleton property by using a private constructor.<br>Enforce the singleton property by using all static member data and reference counting.<br>Prefer deep copies to shallow copies until proven otherwise.</p>
<blockquote>
<p>Martin Fowler’s Refactoring (1999) describes the specific steps needed to convert from shallow copies to deep copies and from deep copies to shallow copies.<br>(Fowler calls them reference objects and value objects.)</p>
</blockquote>
<br>
<br>

<h2 id="Reasons-to-Create-a-Class"><a href="#Reasons-to-Create-a-Class" class="headerlink" title="Reasons to Create a Class"></a>Reasons to Create a Class</h2><p>Model real-world objects.<br>Model abstract objects.<br>Reduce complexity.<br>Isolate complexity.<br>Hide implementation details.<br>Limit effects of changes.<br>Hide global data.<br>Streamline parameter passing.<br>Make central points of control.<br>Facilitate reusable code.<br>Plan for a family of programs.</p>
<blockquote>
<p>If you expect a program to be modified, it’s a good idea to isolate the parts that you expect to change by putting them into their own classes.<br>You can then modify the classes without affecting the rest of the program, or you can put in completely new classes instead.</p>
</blockquote>
<p>Package related operations.<br>To accomplish a specific refactoring.</p>
<br>
<br>

<h2 id="Classes-to-Avoid"><a href="#Classes-to-Avoid" class="headerlink" title="Classes to Avoid"></a>Classes to Avoid</h2><p>Avoid creating god classes.<br>Eliminate irrelevant classes.<br>Avoid classes named after verbs.</p>
<br>
<br>

<h2 id="Language-Specific-Issues"><a href="#Language-Specific-Issues" class="headerlink" title="Language-Specific Issues"></a>Language-Specific Issues</h2><p>Here are some of the class-related areas that vary significantly depending on the language:</p>
<ul>
<li><p>Behavior of overridden constructors and destructors in an inheritance tree</p>
</li>
<li><p>Behavior of constructors and destructors under exception-handling conditions</p>
</li>
<li><p>Importance of default constructors (constructors with no arguments) Time at which a destructor or finalizer is called</p>
</li>
<li><p>Wisdom of overriding the language’s built-in operators, including assignment and equality</p>
</li>
<li><p>How memory is handled as objects are created and destroyed, or as they are declared and go out of scope</p>
</li>
</ul>
<br>
<br>

<h2 id="CHECKLIST-Class-Quality"><a href="#CHECKLIST-Class-Quality" class="headerlink" title="CHECKLIST: Class Quality"></a>CHECKLIST: Class Quality</h2><p><strong>Abstract Data Types</strong></p>
<ul>
<li>Have you thought of the classes in your program as Abstract Data Types and evaluated their interfaces from that point of view?</li>
</ul>
<br>
<br>

<p><strong>Abstraction</strong></p>
<ul>
<li>Does the class have a central purpose?</li>
<li>Is the class well named, and does its name describe its central purpose?</li>
<li>Does the class’s interface present a consistent abstraction?</li>
<li>Does the class’s interface make obvious how you should use the class?</li>
<li>Is the class’s interface abstract enough that you don’t have to think about how its services are implemented? Can you treat the class as a black box?</li>
<li>Are the class’s services complete enough that other classes don’t have to meddle with its internal data?</li>
<li>Has unrelated information been moved out of the class?</li>
<li>Have you thought about subdividing the class into component classes, and have you subdivided it as much as you can?</li>
<li>Are you preserving the integrity of the class’s interface as you modify the class?</li>
</ul>
<br>
<br>

<p><strong>Encapsulation</strong></p>
<ul>
<li>Does the class minimize accessibility to its members?</li>
<li>Does the class avoid exposing member data?</li>
<li>Does the class hide its implementation details from other classes as much as the programming language permits?</li>
<li>Does the class avoid making assumptions about its users, including its derived classes?</li>
<li>Is the class independent of other classes? Is it loosely coupled?</li>
</ul>
<br>
<br>

<p><strong>Inheritance</strong></p>
<ul>
<li>Is inheritance used only to model “is a” relationships?</li>
<li>Does the class documentation describe the inheritance strategy?</li>
<li>Do derived classes adhere to the Liskov Substitution Principle?</li>
<li>Do derived classes avoid “overriding” non overridable routines?</li>
<li>Are common interfaces, data, and behavior as high as possible in the inheritance tree?</li>
<li>Are inheritance trees fairly shallow?</li>
<li>Are all data members in the base class private rather than protected?</li>
</ul>
<br>
<br>

<p><strong>Other Implementation Issues</strong></p>
<ul>
<li>Does the class contain about seven data members or fewer?</li>
<li>Does the class minimize direct and indirect routine calls to other classes?</li>
<li>Does the class collaborate with other classes only to the extent absolutely necessary?</li>
<li>Is all member data initialized in the constructor?</li>
<li>Is the class designed to be used as deep copies rather than shallow copies<br>unless there’s a measured reason to create shallow copies?</li>
</ul>
<br>
<br>

<p><strong>Language-Specific Issues</strong></p>
<ul>
<li>Have you investigated the language-specific issues for classes in your specific programming language?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="High-Quality-Routines"><a href="#High-Quality-Routines" class="headerlink" title="High-Quality Routines"></a>High-Quality Routines</h1><p>A routine is an individual method or procedure invocable for a single purpose.</p>
<p>Low-Quality Routine:</p>
<ul>
<li>The routine has a bad name.</li>
<li>The routine isn’t documented(Self-Documenting Code).</li>
<li>The routine has a bad layout.</li>
<li>The routine’s input variable, inputRec, is changed.</li>
<li>The routine reads and writes global variables.</li>
<li>The routine doesn’t have a single purpose.</li>
<li>The routine doesn’t defend itself against bad data.</li>
<li>The routine uses several magic numbers.</li>
<li>The routine uses only two fields of the CORP_DATA type of parameter.</li>
<li>Some of the routine’s parameters are unused.</li>
<li>One of the routine’s parameters is mislabeled.</li>
<li>The routine has too many parameters.</li>
<li>The routine’s parameters are poorly ordered and are not documented.</li>
</ul>
<br>
<br>

<h2 id="Valid-Reasons-to-Create-a-Routine"><a href="#Valid-Reasons-to-Create-a-Routine" class="headerlink" title="Valid Reasons to Create a Routine"></a>Valid Reasons to Create a Routine</h2><p>Reduce complexity.<br>Make a section of code readable.<br>Avoid duplicate code.<br>Hide sequences.<br>Hide pointer operations.<br>Improve portability.<br>Simplify complicated boolean tests.<br>Improve performance.</p>
<br>
<br>

<h2 id="Design-at-the-Routine-Level"><a href="#Design-at-the-Routine-Level" class="headerlink" title="Design at the Routine Level"></a>Design at the Routine Level</h2><p><strong>Functional cohesion</strong> is the strongest and best kind of cohesion, occurring when a routine performs one and only one operation.<br>Examples of highly cohesive routines include sin(), GetCustomerName(), EraseFile(), CalculateLoanPayment(), and AgeFromBirthday().</p>
<blockquote>
<p>Of course, this evaluation of their cohesion assumes that the routines do what their names say they do—if they do anything else, they are less cohesive and poorly named.</p>
</blockquote>
<br>
<br>

<p>Several other kinds of cohesion are normally considered to be <strong>less than ideal</strong>:</p>
<p><strong>Sequential cohesion</strong> exists when a routine contains operations that must be performed in a specific order, that share data from step to step, and that don’t make up a complete function when done together.</p>
<blockquote>
<p>An example of sequential cohesion is a routine that calculates an employee’s age and time to retirement, given a birth date.<br>If the routine calculates the age and then uses that result to calculate the employee’s time to retirement, it has sequential cohesion.</p>
</blockquote>
<p><strong>Communicational cohesion</strong> occurs when operations in a routine make use of the same data and aren’t related in any other way.</p>
<p><strong>Temporal cohesion</strong> occurs when operations are combined into a routine because they are all done at the same time.</p>
<blockquote>
<p>Some programmers consider temporal cohesion to be unacceptable because it’s sometimes associated with bad programming practices such as having a hodgepodge of code in a Startup() routine.<br>To avoid this problem, think of temporal routines as organizers of other events.</p>
</blockquote>
<br>
<br>

<p>If a routine has bad cohesion, it’s better to put effort into a rewrite to have better cohesion than investing in a pinpoint diagnosis of the problem.</p>
<br>
<br>

<p>The <strong>unacceptable</strong> kinds of cohesion:</p>
<p><strong>Procedural cohesion</strong> occurs when operations in a routine are done in a specified order.</p>
<blockquote>
<p>The order of these operations is important only because it matches the order in which the user is asked for the data on the input screen.</p>
</blockquote>
<p><strong>Logical cohesion</strong> occurs when several operations are stuffed into the same routine and one of the operations is selected by a control flag that’s passed in.</p>
<blockquote>
<p>It’s called logical cohesion because the control flow or “logic” of the routine is the only thing that ties the operations together—they’re all in a big if statement or case statement together.</p>
</blockquote>
<p><strong>Coincidental cohesion</strong> occurs when the operations in a routine have no discernible relationship to each other.</p>
<br>
<br>

<h2 id="Good-Routine-Names"><a href="#Good-Routine-Names" class="headerlink" title="Good Routine Names"></a>Good Routine Names</h2><p>Describe everything the routine does.<br>Avoid meaningless or wishy-washy verbs.<br>Make names of routines as long as necessary.<br>To name a function, use a description of the return value.<br>To name a procedure, use a strong verb followed by an object.<br>Use opposites precisely.<br>Establish conventions for common operations.</p>
<br>
<br>

<h2 id="How-to-Use-Routine-Parameters"><a href="#How-to-Use-Routine-Parameters" class="headerlink" title="How to Use Routine Parameters"></a>How to Use Routine Parameters</h2><p>If several routines use similar parameters, put the similar parameters in a consistent order.<br>Use all the parameters.<br>Put status or error variables last.<br>Don’t use routine parameters as working variables.<br>Document interface assumptions about parameters.</p>
<blockquote>
</blockquote>
<ul>
<li>Whether parameters are input-only, modified, or output-only</li>
<li>Units of numeric parameters (inches, feet, meters, and so on)</li>
<li>Meanings of status codes and error values if enumerated types aren’t used</li>
<li>Ranges of expected values</li>
<li>Specific values that should never appear</li>
</ul>
<p>Limit the number of a routine’s parameters to about seven.<br>Consider an input, modify, and output naming convention for parameters.</p>
<blockquote>
<p>You could prefix them with i_, m_, and o_.<br>If you’re feeling verbose, you could prefix them with Input_, Modify_, and Output_.</p>
</blockquote>
<p>Pass the variables or objects that the routine needs to maintain its interface abstraction.</p>
<blockquote>
<p>If you find yourself frequently changing the parameter list to the routine, with the parameters coming from the same object each time, that’s an indication that you should be passing the whole object rather than specific elements.</p>
</blockquote>
<p>Used named parameters.<br>Don’t assume anything about the parameter-passing mechanism.<br>Make sure actual parameters match formal parameters.</p>
<blockquote>
<p>Develop the habit of checking types of arguments in parameter lists and heeding compiler warnings about mismatched parameter types.</p>
</blockquote>
<br>
<br>

<h2 id="When-to-Use-a-Function-and-When-to-Use-a-Procedure"><a href="#When-to-Use-a-Function-and-When-to-Use-a-Procedure" class="headerlink" title="When to Use a Function and When to Use a Procedure"></a>When to Use a Function and When to Use a Procedure</h2><p>Purists argue that a function should return only one value, just as a mathematical function does.<br>This means that a function would take only input parameters and return its only value through the function itself.</p>
<p>A common programming practice is to have a function that operates as a procedure and returns a status value.</p>
<blockquote>
<p>if ( report.FormatOutput( formattedReport ) = Success ) then …</p>
</blockquote>
<p>Logically, it works as a procedure, but because it returns a value, it’s officially a function.<br>The use of the return value to indicate the success or failure of the procedure is not confusing if the technique is used consistently.</p>
<p>The alternative is to create a procedure that has a status variable as an explicit parameter, which promotes code like this fragment:</p>
<blockquote>
<p>report.FormatOutput( formattedReport, outputStatus )</p>
</blockquote>
<p>I prefer the second style of coding, not because I’m hard-nosed about the difference between functions and procedures but because it makes a clear separation between the routine call and the test of the status value.</p>
<blockquote>
<p>outputStatus = report.FormatOutput( formattedReport )<br>if ( outputStatus = Success ) then …</p>
</blockquote>
<p>In short, use a function if the primary purpose of the routine is to return the value indicated by the function name. Otherwise, use a procedure.</p>
<br>
<br>

<h2 id="Setting-the-Function’s-Return-Value"><a href="#Setting-the-Function’s-Return-Value" class="headerlink" title="Setting the Function’s Return Value"></a>Setting the Function’s Return Value</h2><p>Check all possible return paths.</p>
<blockquote>
<p>It’s good practice to initialize the return value at the beginning of the function to a default value—which provides a safety net in the event of that the correct return value is not set.</p>
</blockquote>
<p>Don’t return references or pointers to local data.</p>
<blockquote>
<p>If an object needs to return information about its internal data, it should save the information as class member data.<br>It should then provide accessor functions that return the values of the member data items rather than references or pointers to local data.</p>
</blockquote>
<br>
<br>

<h2 id="Macro-Routines-and-Inline-Routines"><a href="#Macro-Routines-and-Inline-Routines" class="headerlink" title="Macro Routines and Inline Routines"></a>Macro Routines and Inline Routines</h2><p>Fully parenthesize macro expressions.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define Cube( a ) a*a*a</span><br></pre></td></tr></table></figure>

<p>This macro has a problem.<br>If you pass it nonatomic values for a, it won’t do the multiplication properly.<br>If you use the expression Cube( x+1 ), it expands to x+1 * x + 1 * x + 1, which, because of the precedence of the multiplication and addition operators, is not what you want.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define Cube( a ) (a)*(a)*(a)</span><br></pre></td></tr></table></figure>

<p>This is close, but still no cigar. If you use Cube() in an expression that has operators with higher precedence than multiplication, the (a) * (a) * (a) will be torn apart.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define Cube( a ) ((a)*(a)*(a))</span><br></pre></td></tr></table></figure>

<p>Name macros that expand to code like routines so that they can be replaced by routines if necessary.</p>
<br>
<br>

<h2 id="Limitations-on-the-Use-of-Macro-Routines"><a href="#Limitations-on-the-Use-of-Macro-Routines" class="headerlink" title="Limitations on the Use of Macro Routines"></a>Limitations on the Use of Macro Routines</h2><p>Modern languages like C++ provide numerous alternatives to the use of macros:</p>
<ul>
<li>const for declaring constant values</li>
<li>inline for defining functions that will be compiled as inline code</li>
<li>template for defining standard operations like min, max, and so on in a type- safe way</li>
<li>enum for defining enumerated types</li>
<li>typedef for defining simple type substitutions</li>
</ul>
<br>
<br>

<h2 id="CHECKLIST-High-Quality-Routines"><a href="#CHECKLIST-High-Quality-Routines" class="headerlink" title="CHECKLIST: High-Quality Routines"></a>CHECKLIST: High-Quality Routines</h2><p><strong>Big-Picture Issues</strong></p>
<ul>
<li>Is the reason for creating the routine sufficient?</li>
<li>Have all parts of the routine that would benefit from being put into routines of their own been put into routines of their own?</li>
<li>Is the routine’s name a strong, clear verb-plus-object name for a procedure or a description of the return value for a function?</li>
<li>Does the routine’s name describe everything the routine does? Have you established naming conventions for common operations?</li>
<li>Does the routine have strong, functional cohesion—doing one and only one thing and doing it well?</li>
<li>Do the routines have loose coupling—are the routine’s connections to other routines small, intimate, visible, and flexible?</li>
<li>Is the length of the routine determined naturally by its function and logic, rather than by an artificial coding standard?</li>
</ul>
<br>
<br>

<p><strong>Parameter-Passing Issues</strong></p>
<ul>
<li>Does the routine’s parameter list, taken as a whole, present a consistent interface abstraction?</li>
<li>Are the routine’s parameters in a sensible order, including matching the order of parameters in similar routines?</li>
<li>Are interface assumptions documented?</li>
<li>Does the routine have seven or fewer parameters?</li>
<li>Is each input parameter used?</li>
<li>Is each output parameter used?</li>
<li>Does the routine avoid using input parameters as working variables?</li>
<li>If the routine is a function, does it return a valid value under all possible circumstances?</li>
</ul>
<br>
<br>

<br>
<br>

<h1 id="Defensive-Programming"><a href="#Defensive-Programming" class="headerlink" title="Defensive Programming"></a>Defensive Programming</h1><h2 id="Protecting-Your-Program-From-Invalid-Inputs"><a href="#Protecting-Your-Program-From-Invalid-Inputs" class="headerlink" title="Protecting Your Program From Invalid Inputs"></a>Protecting Your Program From Invalid Inputs</h2><p>Check the values of all data from external sources.</p>
<blockquote>
<p>If you’re working on a secure applica- tion, be especially leery of data that might attack your system: attempted buffer overflows, injected SQL commands, injected html or XML code, integer over- flows, and so on.</p>
</blockquote>
<p>Check the values of all routine input parameters.<br>Decide how to handle bad inputs.</p>
<br>
<br>

<h2 id="Assertions"><a href="#Assertions" class="headerlink" title="Assertions"></a>Assertions</h2><p>An assertion is code that’s used during development—usually a routine or macro—that allows a program to check itself as it runs.<br>When an assertion is true, that means everything is operating as expected.<br>When it’s false, that means it has detected an unexpected error in the code.</p>
<p>An assertion usually takes two arguments: a boolean expression that describes the assumption that’s supposed to be true and a message to display if it isn’t.</p>
<h3 id="Guidelines-for-Using-Assertions"><a href="#Guidelines-for-Using-Assertions" class="headerlink" title="Guidelines for Using Assertions"></a>Guidelines for Using Assertions</h3><p>Use error handling code for conditions you expect to occur; use assertions for conditions that should never occur.</p>
<blockquote>
<p>Error-handling typically checks for bad input data; assertions check for bugs in the code.<br>A good way to think of assertions is as executable documentation—you can’t rely on them to make the code work, but they can document assumptions more actively than program-language comments can.</p>
</blockquote>
<p>Avoid putting executable code in assertions.</p>
<p><em>Visual Basic Example of a Dangerous Use of an Assertion</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Debug.Assert( PerformAction() ) &#x27; Couldn&#x27;t perform action</span><br></pre></td></tr></table></figure>
<p>Put executable statements on their own lines, assign the results to status variables, and test the status variables instead.</p>
<p><em>Visual Basic Example of a Safe Use of an Assertion</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">actionPerformed = PerformAction()</span><br><span class="line">Debug.Assert( actionPerformed ) &#x27; Couldn&#x27;t perform action</span><br></pre></td></tr></table></figure>

<p>Use assertions to document preconditions and postconditions.</p>
<blockquote>
<p>Preconditions are the properties that the client code of a routine or class prom- ises will be true before it calls the routine or instantiates the object.<br>Preconditions are the client code’s obligations to the code it calls.</p>
</blockquote>
<blockquote>
<p>Postconditions are the properties that the routine or class promises will be true when it concludes executing.<br>Postconditions are the routine or class’s obligations to the code that uses it.</p>
</blockquote>
<p>For highly robust code, assert, and then handle the error anyway.</p>
<br>
<br>

<h2 id="Error-Handling-Techniques"><a href="#Error-Handling-Techniques" class="headerlink" title="Error Handling Techniques"></a>Error Handling Techniques</h2><p>Return a neutral value.<br>Substitute the next piece of valid data.<br>Return the same answer as the previous time.<br>Substitute the closest legal value.<br>Log a warning message to a file.<br>Return an error code.<br>Call an error processing routine/object.<br>Display an error message wherever the error is encountered.<br>Handle the error in whatever way works best locally.<br>Shutdown.</p>
<blockquote>
<p>Some systems shut down whenever they detect an error. This approach is useful in safety critical applications.</p>
</blockquote>
<br>
<br>

<h2 id="Robustness-vs-Correctness"><a href="#Robustness-vs-Correctness" class="headerlink" title="Robustness vs. Correctness"></a>Robustness vs. Correctness</h2><p>Correctness means never returning an inaccurate result; no result is better than an inaccurate result. Robustness means always trying to do something that will allow the software to keep operating, even if that leads to results that are inaccurate sometimes.</p>
<p>Safety critical applications tend to favor correctness to robustness.<br>Consumer applications tend to favor robustness to correctness.</p>
<br>
<br>

<h2 id="Exceptions"><a href="#Exceptions" class="headerlink" title="Exceptions"></a>Exceptions</h2><img src="/blog/2025/03/20/P340/P340_10.png" class="">
<img src="/blog/2025/03/20/P340/P340_11.png" class="">

<p>Use exceptions to notify other parts of the program about errors that should not be ignored.<br>Throw an exception only for conditions that are truly exceptional.</p>
<blockquote>
<p>in other words, conditions that cannot be addressed by other coding practices.</p>
</blockquote>
<p>Don’t use an exception to pass the buck.<br>Avoid throwing exceptions in constructors and destructors unless you catch them in the same place.<br>Throw exceptions at the right level of abstraction.<br>Include all information that led to the exception in the exception message.<br>Avoid empty catch blocks.<br>Know the exceptions your library code throws.<br>Consider building a centralized exception reporter.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Sub ReportException( _</span><br><span class="line"> ByVal className, _</span><br><span class="line"> ByVal thisException As Exception _</span><br><span class="line">)</span><br><span class="line"> Dim message As String</span><br><span class="line"> Dim caption As String</span><br><span class="line">message = &quot;Exception: &quot; &amp; thisException.Message &amp; &quot;. &quot; &amp; ControlChars.CrLf &amp; _ &quot;Class: &quot; &amp; className &amp; ControlChars.CrLf &amp; _</span><br><span class="line">&quot;Routine: &quot; &amp; thisException.TargetSite.Name &amp; ControlChars.CrLf</span><br><span class="line">caption = &quot;Exception&quot;</span><br><span class="line">MessageBox.Show( message, caption, MessageBoxButtons.OK, _</span><br><span class="line">MessageBoxIcon.Exclamation ) End Sub</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Try ...</span><br><span class="line">Catch exceptionObject As Exception</span><br><span class="line"> ReportException( CLASS_NAME, exceptionObject )</span><br><span class="line">End Try</span><br></pre></td></tr></table></figure>

<p>Standardize your project’s use of exceptions.</p>
<blockquote>
<ul>
<li>If you’re working in a language like C++ that allows you to throw a variety of kinds of objects, data, and pointers, standardize on what specifically you will throw.<br>For compatibility with other languages, consider throwing only objects derived from the Exception base class.</li>
</ul>
</blockquote>
<ul>
<li>Define the specific circumstances under which code is allowed to use throw- catch syntax to perform error processing locally.</li>
<li>Define the specific circumstances under which code is allowed to throw an exception that won’t be handled locally.</li>
<li>Determine whether a centralized exception reporter will be used.</li>
<li>Define whether exceptions are allowed in constructors and destructors.</li>
</ul>
<p>Consider alternatives to exceptions.</p>
<blockquote>
<p>You should always consider the full set of error-handling alternatives: handling the error locally, propagating the error using an error code, logging debug information to a file, shutting down the system, or using some other approach.</p>
</blockquote>
<br>
<br>

<h2 id="Barricade-Your-Program-to-Contain-the-Damage-Caused-by-Errors"><a href="#Barricade-Your-Program-to-Contain-the-Damage-Caused-by-Errors" class="headerlink" title="Barricade Your Program to Contain the Damage Caused by Errors"></a>Barricade Your Program to Contain the Damage Caused by Errors</h2><p>One way to barricade for defensive programming purposes is to designate certain interfaces as boundaries to “safe” areas.</p>
<p>This same approach can be used at the class level. The class’s public methods assume the data is unsafe, and they are responsible for checking the data and sanitizing it.<br>Once the data has been accepted by the class’s public methods, the class’s private methods can assume the data is safe.</p>
<p>Another way of thinking about this approach is as an operating-room technique.</p>
<blockquote>
<p>Data is sterilized before it’s allowed to enter the operating room. Anything that’s in the operating room is assumed to be safe.<br>The key design decision is deciding what to put in the operating room, what to keep out, and where to put the doors—which routines are considered to be inside the safety zone, which are outside, and which sanitize the data.<br>The easiest way to do this is usually by sanitizing external data as it arrives, but data often needs to be sanitized at more than one level, so multiple levels of sterilization are sometimes required.</p>
</blockquote>
<p>Convert input data to the proper type at input time.</p>
<br>
<br>

<h2 id="Debugging-Aids"><a href="#Debugging-Aids" class="headerlink" title="Debugging Aids"></a>Debugging Aids</h2><p><strong>Don’t Automatically Apply Production Constraints to the Development Version.</strong></p>
<p>A common programmer blind spot is the assumption that limitations of the pro- duction software apply to the development version.</p>
<blockquote>
<p>The production version has to run fast. The development version might be able to run slow.<br>The production version has to be stingy with resources. The development version might be al- lowed to use resources extravagantly.<br>The production version shouldn’t expose dangerous operations to the user. The development version can have extra opera- tions that you can use without a safety net.</p>
</blockquote>
<br>
<br>

<h3 id="Use-Offensive-Programming"><a href="#Use-Offensive-Programming" class="headerlink" title="Use Offensive Programming"></a>Use Offensive Programming</h3><p>Exceptional cases should be handled in a way that makes them obvious during development and recoverable when production code is running.</p>
<p>Here are some ways you can program offensively:</p>
<ul>
<li>Make sure asserts abort the program. Don’t allow programmers to get into the habit of just hitting the ENTER key to bypass a known problem. Make the problem painful enough that it will be fixed.</li>
<li>Completely fill any memory allocated so that you can detect memory alloca- tion errors.</li>
<li>Completely fill any files or streams allocated to flush out any file-format errors.</li>
<li>Be sure the code in each case statement’s else clause fails hard (aborts the program) or is otherwise impossible to overlook.</li>
<li>Fill an object with junk data just before it’s deleted</li>
</ul>
<br>
<br>

<h3 id="Plan-to-Remove-Debugging-Aids"><a href="#Plan-to-Remove-Debugging-Aids" class="headerlink" title="Plan to Remove Debugging Aids"></a>Plan to Remove Debugging Aids</h3><p>If you’re writing code for commercial use, the performance penalty in size and speed can be prohibitive.</p>
<p>Use version control and build tools like make.<br>Use a built-in preprocessor.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#define DEBUG</span><br><span class="line">...</span><br><span class="line">#if defined( DEBUG ) // debugging code ...</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Other debug code might be for specific purposes only, so you can surround it by a statement like #if DEBUG == POINTER_ERROR.<br>In other places, you might want to set debug levels, so you could have statements like #if DEBUG &gt; LEVEL_A.</p>
</blockquote>
<p>Write your own preprocessor.<br>Use debugging stubs.</p>
<p><strong>C++ Example of a Routine for Checking Pointers During Development</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">void CheckPointer( void *pointer ) &#123;</span><br><span class="line">// perform check 1--maybe check that it&#x27;s not NULL</span><br><span class="line">// perform check 2--maybe check that its dogtag is legitimate</span><br><span class="line">// perform check 3--maybe check that what it points to isn&#x27;t corrupted ...</span><br><span class="line">// perform check n--...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>C++ Example of a Routine for Checking Pointers During Production</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void CheckPointer( void *pointer ) &#123;</span><br><span class="line">void CheckPointer( void *pointer ) &#123;</span><br><span class="line">// no code; just return to caller</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h2 id="Determining-How-Much-Defensive-Pro-gramming-to-Leave-in-Production-Code"><a href="#Determining-How-Much-Defensive-Pro-gramming-to-Leave-in-Production-Code" class="headerlink" title="Determining How Much Defensive Pro- gramming to Leave in Production Code"></a>Determining How Much Defensive Pro- gramming to Leave in Production Code</h2><p>Remove code that results in hard crashes.<br>Leave in code that helps the program crash gracefully.<br>Log errors for your technical support personnel.<br>See that the error messages you leave in are friendly.</p>
<br>
<br>

<h2 id="CHECKLIST-Defensive-Programming"><a href="#CHECKLIST-Defensive-Programming" class="headerlink" title="CHECKLIST: Defensive Programming"></a>CHECKLIST: Defensive Programming</h2><p><strong>General</strong></p>
<ul>
<li>Does the routine protect itself from bad input data?</li>
<li>Have you used assertions to document assumptions, including preconditions and postconditions?</li>
<li>Have assertions been used only to document conditions that should never occur?</li>
<li>Does the architecture or high-level design specify a specific set of error han- dling techniques?</li>
<li>Does the architecture or high-level design specify whether error handling should favor robustness or correctness?</li>
<li>Have barricades been created to contain the damaging effect of errors and reduce the amount of code that has to be concerned about error processing?</li>
<li>Have debugging aids been used in the code?</li>
<li>Has information hiding been used to contain the effects of changes so that they won’t affect code outside the routine or class that’s changed?</li>
<li>Have debugging aids been installed in such a way that they can be activated or deactivated without a great deal of fuss?</li>
<li>Is the amount of defensive programming code appropriate—neither too much nor too little?</li>
<li>Have you used offensive programming techniques to make errors difficult to overlook during development?</li>
</ul>
<br>
<br>

<p><strong>Exceptions</strong></p>
<ul>
<li>Has your project defined a standardized approach to exception handling?</li>
<li>Have you considered alternatives to using an exception?</li>
<li>Is the error handled locally rather than throwing a non-local exception if possible?</li>
<li>Does the code avoid throwing exceptions in constructors and destructors?</li>
<li>Are all exceptions at the appropriate levels of abstraction for the routines<br>that throw them?</li>
<li>Does each exception include all relevant exception background information?</li>
<li>Is the code free of empty catch blocks? (Or if an empty catch block truly is appropriate, is it documented?)</li>
</ul>
<br>
<br>

<p><strong>Security Issues</strong></p>
<ul>
<li>Does the code that checks for bad input data check for attempted buffer overflows, SQL injection, html injection, integer overflows, and other mali- cious inputs?</li>
<li>Are all error-return codes checked?</li>
<li>Are all exceptions caught?</li>
<li>Do error messages avoid providing information that would help an attacker break into the system?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="The-Pseudocode-Programming-Process"><a href="#The-Pseudocode-Programming-Process" class="headerlink" title="The Pseudocode Programming Process"></a>The Pseudocode Programming Process</h1><p>Summary of Steps in Building Classes and Routines.</p>
<img src="/blog/2025/03/20/P340/P340_12.png" class="">

<p><strong>Steps in Creating a Class</strong></p>
<p>Create a general design for the class.<br>Construct each routine within the class.<br>Review and test the class as a whole.</p>
<img src="/blog/2025/03/20/P340/P340_13.png" class="">

<br>
<br>

<h2 id="Pseudocode-for-Pros"><a href="#Pseudocode-for-Pros" class="headerlink" title="Pseudocode for Pros"></a>Pseudocode for Pros</h2><p>Here are guidelines for using pseudocode effectively:</p>
<ul>
<li><p>Use English-like statements that precisely describe specific operations.</p>
</li>
<li><p>Avoid syntactic elements from the target programming language. Pseudocode allows you to design at a slightly higher level than the code itself. When you use programming-language constructs, you sink to a lower level, eliminating the main benefit of design at a higher level, and you saddle yourself with unnecessary syntactic restrictions.</p>
</li>
<li><p>Write pseudocode at the level of intent. Describe the meaning of the approach rather than how the approach will be implemented in the target language.</p>
</li>
<li><p>Write pseudocode at a low enough level that generating code from it will be nearly automatic. If the pseudocode is at too high a level, it can gloss over problematic details in the code. Refine the pseudocode in more and more detail until it seems as if it would be easier to simply write the code.</p>
</li>
</ul>
<br>
<br>

<h3 id="Constructing-Routines-Using-the-PPP"><a href="#Constructing-Routines-Using-the-PPP" class="headerlink" title="Constructing Routines Using the PPP"></a>Constructing Routines Using the PPP</h3><ul>
<li>Design the routine</li>
</ul>
<p>Check the prerequisites.<br>Define the problem the routine will solve.</p>
<blockquote>
<p>The information the routine will hide<br>Inputs to the routine<br>Outputs from the routine<br>Preconditions that are guaranteed to be true before the routine is called (input values within certain ranges, streams initialized, files opened or closed, buffers filled or flushed, etc.)<br>Post conditions that the routine guarantees will be true before it passes control back to the caller (output values within specified ranges, streams initialized, files opened or closed, buffers filled or flushed, etc.)</p>
</blockquote>
<p>Name the routine.<br>Decide how to test the routine.<br>Think about error handling.<br>Think about efficiency.<br>Research functionality available in the standard libraries.<br>Research the algorithms and data types.<br>Write the pseudocode.<br>Think about the data.<br>Check the pseudocode.<br>Try a few ideas in pseudocode, and keep the best (iterate).</p>
<ul>
<li>Code the routine</li>
</ul>
<img src="/blog/2025/03/20/P340/P340_14.png" class="">

<p>Write the routine declaration.<br>Turn the pseudocode into high-level comments.<br>Fill in the code below each comment.<br>Check whether code should be further factored.</p>
<ul>
<li>Check the code</li>
</ul>
<p>Mentally check the routine for errors.</p>
<blockquote>
<p>One of the biggest differences between hobbyists and professional programmers is the difference that grows out of moving from superstition into understanding.</p>
</blockquote>
<ul>
<li>Clean up leftovers</li>
<li>Repeat as needed</li>
</ul>
<br>
<br>

<h3 id="Alternatives-to-the-PPP"><a href="#Alternatives-to-the-PPP" class="headerlink" title="Alternatives to the PPP"></a>Alternatives to the PPP</h3><p>Test-first development.<br>Design by contract.</p>
<br>
<br>

<h3 id="CHECKLIST-The-Pseudocode-Programming-Process"><a href="#CHECKLIST-The-Pseudocode-Programming-Process" class="headerlink" title="CHECKLIST: The Pseudocode Programming Process"></a>CHECKLIST: The Pseudocode Programming Process</h3><ul>
<li>Have you checked that the prerequisites have been satisfied?</li>
<li>Have you defined the problem that the class will solve?</li>
<li>Is the high level design clear enough to give the class and each of its routines a good name?</li>
<li>Have you thought about how to test the class and each of its routines?</li>
<li>Have you thought about efficiency mainly in terms of stable interfaces and readable implementations, or in terms of meeting resource and speed budgets?</li>
<li>Have you checked the standard libraries and other code libraries for applicable routines or components?</li>
<li>Have you checked reference books for helpful algorithms?</li>
<li>Have you designed each routine using detailed pseudocode?</li>
<li>Have you mentally checked the pseudocode? Is it easy to understand?</li>
<li>Have you paid attention to warnings that would send you back to design (use of global data, operations that seem better suited to another class or another routine, and so on)?</li>
<li>Did you translate the pseudocode to code accurately?</li>
<li>Did you apply the PPP recursively, breaking routines into smaller routines<br>when needed?</li>
<li>Did you document assumptions as you made them?</li>
<li>Did you remove comments that turned out to be redundant?</li>
<li>Have you chosen the best of several iterations, rather than merely stopping after your first iteration?</li>
<li>Do you thoroughly understand your code? Is it easy to understand?</li>
</ul>
<br>
<br>

<h1 id="General-Issues-in-Using-Variables"><a href="#General-Issues-in-Using-Variables" class="headerlink" title="General Issues in Using Variables"></a>General Issues in Using Variables</h1><p>Turn off implicit declarations.<br>Declare all variables.<br>Use naming conventions.<br>Check variable names.</p>
<h2 id="Guidelines-for-Initializing-Variables"><a href="#Guidelines-for-Initializing-Variables" class="headerlink" title="Guidelines for Initializing Variables"></a>Guidelines for Initializing Variables</h2><p>Initialize each variable as it’s declared.<br>Ideally, declare and define each variable close to where it’s used.<br>Pay special attention to counters and accumulators.<br>Initialize a class’s member data in its constructor.<br>Check the need for reinitialization.<br>Initialize named constants once; initialize variables with executable code.<br>Use the compiler setting that automatically initializes all variables.<br>Take advantage of your compiler’s warning messages.<br>Check input parameters for validity.<br>Use a memory-access checker to check for bad pointers.<br>Initialize working memory at the beginning of your program.</p>
<br>
<br>

<h2 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h2><p>Keep Variables Live for As Short a Time As Possible.</p>
<h3 id="General-Guidelines-for-Minimizing-Scope"><a href="#General-Guidelines-for-Minimizing-Scope" class="headerlink" title="General Guidelines for Minimizing Scope."></a>General Guidelines for Minimizing Scope.</h3><p>Initialize variables used in a loop immediately before the loop rather than back at the beginning of the routine containing the loop.<br>Don’t assign a value to a variable until just before the value is used.<br>Group related statements.<br>Begin with most restricted visibility, and expand the variable’s scope only if necessary.</p>
<h3 id="Comments-on-Minimizing-Scope"><a href="#Comments-on-Minimizing-Scope" class="headerlink" title="Comments on Minimizing Scope"></a>Comments on Minimizing Scope</h3><p>The difference between the “convenience” philosophy and the “intellectual manageability” philosophy boils down to a difference in emphasis between writing programs and reading them.</p>
<br>
<br>

<h2 id="Persistence"><a href="#Persistence" class="headerlink" title="Persistence"></a>Persistence</h2><p>Here are a few steps you can take to avoid this kind of problem:</p>
<blockquote>
</blockquote>
<ul>
<li>Use debug code or assertions in your program to check critical variables for reasonable values. If the values aren’t reasonable, display a warning that tells you to look for improper initialization.</li>
<li>Write code that assumes data isn’t persistent. For example, if a variable has a certain value when you exit a routine, don’t assume it has the same value the next time you enter the routine. This doesn’t apply if you’re using language- specific features that guarantee the value will remain the same, such as static in C++ and Java.</li>
<li>Develop the habit of declaring and initializing all data right before it’s used. If you see data that’s used without a nearby initialization, be suspicious!</li>
</ul>
<br>
<br>

<h2 id="Binding-Time"><a href="#Binding-Time" class="headerlink" title="Binding Time"></a>Binding Time</h2><p>To summarize, here are the times a variable can be bound to a value in this example (the details could vary somewhat in other cases):</p>
<blockquote>
</blockquote>
<ul>
<li>Coding time (use of magic numbers)</li>
<li>Compile time (use of a named constant)</li>
<li>Load time (reading a value from an external source such as the Windows Registry)</li>
<li>Object instantiation time (such as reading the value each time a window is created)</li>
<li>Just in time (such as reading the value each time the window is drawn)</li>
</ul>
<br>
<br>

<h2 id="Relationship-Between-Data-Types-and-Control-Structures"><a href="#Relationship-Between-Data-Types-and-Control-Structures" class="headerlink" title="Relationship Between Data Types and Control Structures"></a>Relationship Between Data Types and Control Structures</h2><p>Sequential data translates to sequential statements in a program.<br>Selective data translates to if and case statements in a program.<br>Iterative data translates to for, repeat, and while looping structures in a program.</p>
<br>
<br>

<h2 id="Using-Each-Variable-for-Exactly-One-Purpose"><a href="#Using-Each-Variable-for-Exactly-One-Purpose" class="headerlink" title="Using Each Variable for Exactly One Purpose"></a>Using Each Variable for Exactly One Purpose</h2><p>Avoid variables with hidden meanings.<br>Make sure that all declared variables are used.</p>
<h2 id="CHECKLIST-General-Considerations-In-Using-Data"><a href="#CHECKLIST-General-Considerations-In-Using-Data" class="headerlink" title="CHECKLIST: General Considerations In Using Data"></a>CHECKLIST: General Considerations In Using Data</h2><p><strong>Initializing Variables</strong></p>
<ul>
<li>Does each routine check input parameters for validity?</li>
<li>Does the code declare variables close to where they’re first used?</li>
<li>Does the code initialize variables as they’re declared, if possible?</li>
<li>Does the code initialize variables close to where they’re first used, if it isn’t possible to declare and initialize them at the same time?</li>
<li>Are counters and accumulators initialized properly and, if necessary, reinitialized each time they are used?</li>
<li>Are variables reinitialized properly in code that’s executed repeatedly? Does the code compile with no warnings from the compiler?</li>
<li>If your language uses implicit declarations, have you compensated for the problems they cause?</li>
</ul>
<p><strong>Other General Issues in Using Data</strong></p>
<ul>
<li>Do all variables have the smallest scope possible?</li>
<li>Are references to variables as close together as possible—both from each<br>reference to a variable to the next and in total live time? -Do control structures correspond to the data types?</li>
<li>Are all the declared variables being used?</li>
<li>Are all variables bound at appropriate times, that is, striking a conscious balance between the flexibility of late binding and the increased complexity associated with late binding?</li>
<li>Does each variable have one and only one purpose?</li>
<li>Is each variable’s meaning explicit, with no hidden meanings?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="The-Power-of-Variable-Names"><a href="#The-Power-of-Variable-Names" class="headerlink" title="The Power of Variable Names"></a>The Power of Variable Names</h1><h2 id="Considerations-in-Choosing-Good-Names"><a href="#Considerations-in-Choosing-Good-Names" class="headerlink" title="Considerations in Choosing Good Names"></a>Considerations in Choosing Good Names</h2><img src="/blog/2025/03/20/P340/P340_15.png" class="">

<p>A good mnemonic name generally speaks to the problem rather than the solution. A good name tends to express the what more than the how.</p>
<img src="/blog/2025/03/20/P340/P340_16.png" class="">

<p>When you give a variable a short name like i, the length itself says something about the variable—namely, that the variable is a scratch value with a limited scope of operation.</p>
<p>Use qualifiers on names that are in the global name space.</p>
<p>Many programs have variables that contain computed values: totals, averages, maximums, and so on.<br>If you modify a name with a qualifier like Total, Sum, Average, Max, Min, Record, String, or Pointer, put the modifier at the end of the name.</p>
<h3 id="Naming-Status-Variables"><a href="#Naming-Status-Variables" class="headerlink" title="Naming Status Variables"></a>Naming Status Variables</h3><p>Think of a better name than flag for status variables.</p>
<br>
<br>

<h3 id="Naming-Boolean-Variables"><a href="#Naming-Boolean-Variables" class="headerlink" title="Naming Boolean Variables"></a>Naming Boolean Variables</h3><p>Keep typical boolean names in mind.</p>
<img src="/blog/2025/03/20/P340/P340_17.png" class="">

<p>Use positive boolean variable names.</p>
<br>
<br>

<h3 id="Naming-Enumerated-Types"><a href="#Naming-Enumerated-Types" class="headerlink" title="Naming Enumerated Types"></a>Naming Enumerated Types</h3><p>When you use an enumerated type, you can ensure that it’s clear that members of the type all belong to the same group by using a group prefix, such as Color_, Planet_, or Month_.<br>In addition, the enum type itself (Color, Planet, or Month) can be identified in various ways, including all caps or prefixes (e_Color, e_Planet, or e_Month).</p>
<br>
<br>

<h2 id="Guidelines-for-a-Language-Independent-Convention"><a href="#Guidelines-for-a-Language-Independent-Convention" class="headerlink" title="Guidelines for a Language-Independent Convention"></a>Guidelines for a Language-Independent Convention</h2><p>Differentiate between variable names and routine names.<br>Differentiate between classes and objects.</p>
<img src="/blog/2025/03/20/P340/P340_18.png" class="">
<p>Each of these options has strengths and weaknesses.</p>
<p>Identify global variables.<br>Identify member variables.<br>Identify type definitions.<br>Identify named constants.<br>Identify elements of enumerated types.<br>Identify input-only parameters in languages that don’t enforce them.<br>Format names to enhance readability.</p>
<br>
<br>

<img src="/blog/2025/03/20/P340/P340_19.png" class="">
<img src="/blog/2025/03/20/P340/P340_20.png" class="">

<br>
<br>

<p>Variable names include three kinds of information:</p>
<blockquote>
</blockquote>
<ul>
<li>The contents of the variable (what it represents)</li>
<li>The kind of data (named constant, primitive variable, user-defined type, or class)</li>
<li>The scope of the variable (private, class, package, or global)</li>
</ul>
<br>
<br>

<img src="/blog/2025/03/20/P340/P340_21.png" class="">
<img src="/blog/2025/03/20/P340/P340_22.png" class="">
<img src="/blog/2025/03/20/P340/P340_23.png" class="">
<img src="/blog/2025/03/20/P340/P340_24.png" class="">
<img src="/blog/2025/03/20/P340/P340_25.png" class="">

<br>
<br>

<h3 id="User-Defined–Type-UDT-Abbreviation"><a href="#User-Defined–Type-UDT-Abbreviation" class="headerlink" title="User-Defined–Type (UDT) Abbreviation"></a>User-Defined–Type (UDT) Abbreviation</h3><img src="/blog/2025/03/20/P340/P340_26.png" class="">

<br>
<br>

<h3 id="Creating-Short-Names-That-Are-Readable"><a href="#Creating-Short-Names-That-Are-Readable" class="headerlink" title="Creating Short Names That Are Readable"></a>Creating Short Names That Are Readable</h3><p>General Abbreviation Guidelines.</p>
<ul>
<li>Use standard abbreviations (the ones in common use, which are listed in a dictionary).</li>
<li>Remove all nonleading vowels. (computer becomes cmptr, and screen becomes scrn. apple becomes appl, and integer becomes intgr.)</li>
<li>Remove articles: and, or, the, and so on.</li>
<li>Use the first letter or first few letters of each word.</li>
<li>Truncate after the first, second, or third (whichever is appropriate) letter of each word.</li>
<li>Keep the first and last letters of each word.</li>
<li>Use every significant word in the name, up to a maximum of three words. Remove useless suffixes—ing, ed, and so on.</li>
<li>Keep the most noticeable sound in each syllable.</li>
<li>Iterate through these techniques until you abbreviate each variable name to between 8 to 20 characters, or the number of characters to which your language limits variable names.</li>
</ul>
<br>
<br>

<h3 id="Comments-on-Abbreviations"><a href="#Comments-on-Abbreviations" class="headerlink" title="Comments on Abbreviations"></a>Comments on Abbreviations</h3><p>Don’t abbreviate by removing one character from a word.<br>Abbreviate consistently.<br>Create names that you can pronounce.<br>Avoid combinations that result in mispronunciation.<br>Use a thesaurus to resolve naming collisions.<br>Document extremely short names with translation tables in the code.</p>
<img src="/blog/2025/03/20/P340/P340_27.png" class="">

<p>Document all abbreviations in a project-level “Standard Abbreviations” document.</p>
<blockquote>
<p>Abbreviations in code create two general risks:</p>
</blockquote>
<ul>
<li>A reader of the code might not understand the abbreviation</li>
<li>Other programmers might use multiple abbreviations to refer to the same word, which creates needless confusion</li>
</ul>
<p>Remember that names matter more to the reader of the code than to the writer.<br>Avoid numerals in names.<br>Don’t differentiate variable names solely by capitalization.<br>Avoid multiple natural languages.<br>Avoid the names of standard types, variables, and routines.<br>Don’t use names that are totally unrelated to what the variables represent.</p>
<br>
<br>

<h2 id="CHECKLIST-Naming-Variables"><a href="#CHECKLIST-Naming-Variables" class="headerlink" title="CHECKLIST: Naming Variables"></a>CHECKLIST: Naming Variables</h2><p><strong>General Naming Considerations</strong></p>
<ul>
<li>Does the name fully and accurately describe what the variable represents?</li>
<li>Does the name refer to the real-world problem rather than to the programming-language solution?</li>
<li>Is the name long enough that you don’t have to puzzle it out?</li>
<li>Are computed-value qualifiers, if any, at the end of the name?</li>
<li>Does the name use Count or Index instead of Num?</li>
</ul>
<br>
<br>

<p><strong>Naming Specific Kinds Of Data</strong></p>
<ul>
<li>Are loop index names meaningful (something other than i, j, or k if the loop is more than one or two lines long or is nested)?</li>
<li>Have all “temporary” variables been renamed to something more meaningful?</li>
<li>Are boolean variables named so that their meanings when they’re True are clear?</li>
<li>Do enumerated-type names include a prefix or suffix that indicates the category—for example, Color_ for Color_Red, Color_Green, Color_Blue, and so on?</li>
<li>Are named constants named for the abstract entities they represent rather than the numbers they refer to?</li>
</ul>
<br>
<br>

<p><strong>Naming Conventions</strong></p>
<ul>
<li>Does the convention distinguish among local, class, and global data? -Does the convention distinguish among type names, named constants, enumerated types, and variables?</li>
<li> Does the convention identify input-only parameters to routines in languages that don’t enforce them?</li>
<li>Is the convention as compatible as possible with standard conventions for the language?</li>
<li>Are names formatted for readability?</li>
</ul>
<br>
<br>

<p><strong>Short Names</strong></p>
<ul>
<li>Does the code use long names (unless it’s necessary to use short ones)?</li>
<li>Does the code avoid abbreviations that save only one character? -Are all words abbreviated consistently?</li>
<li>Are the names pronounceable?</li>
<li>Are names that could be mispronounced avoided?</li>
<li>Are short names documented in translation tables?</li>
</ul>
<br>
<br>

<p><strong>Common Naming Problems: Have You Avoided…</strong></p>
<p>…names that are misleading?<br>…names with similar meanings?<br>…names that are different by only one or two characters?<br>…names that sound similar?<br>…names that use numerals?<br>…names intentionally misspelled to make them shorter?<br>…names that are commonly misspelled in English?<br>…names that conflict with standard library-routine names or with predefined variable names?<br>…totally arbitrary names?<br>…hard-to-read characters?</p>
<br>
<br>
<br>
<br>

<h1 id="Fundamental-Data-Types"><a href="#Fundamental-Data-Types" class="headerlink" title="Fundamental Data Types"></a>Fundamental Data Types</h1><h2 id="Numbers-in-General"><a href="#Numbers-in-General" class="headerlink" title="Numbers in General"></a>Numbers in General</h2><p>Avoid “magic numbers.”<br>Magic numbers are literal numbers such as 100 or 47524 that appear in the middle of a program without explanation.</p>
<p>Anticipate divide-by-zero errors.<br>Make type conversions obvious.<br>Avoid mixed-type comparisons.<br>Heed your compiler’s warnings.</p>
<br>
<br>

<h2 id="Integers"><a href="#Integers" class="headerlink" title="Integers"></a>Integers</h2><p>Check for integer division.<br>Check for integer overflow.</p>
<img src="/blog/2025/03/20/P340/P340_27.png" class="">

<p>Check for overflow in intermediate results.</p>
<br>
<br>

<h2 id="Floating-Point-Numbers"><a href="#Floating-Point-Numbers" class="headerlink" title="Floating-Point Numbers"></a>Floating-Point Numbers</h2><p>Avoid additions and subtractions on numbers that have greatly different magnitudes.<br>Avoid equality comparisons.<br>Anticipate rounding errors.</p>
<blockquote>
<p>Common specific solutions to rounding problems:<br>First, change to a variable type that has greater precision.<br>Second, change to binary coded decimal (BCD) variables.<br>Third, change from floating-point to integer variables.</p>
</blockquote>
<br>
<br>

<h2 id="Characters-and-Strings"><a href="#Characters-and-Strings" class="headerlink" title="Characters and Strings"></a>Characters and Strings</h2><p>Avoid magic characters and strings. -&gt; 就是唐突一个 (theNumber &lt; 20) then的20.<br>Watch for off-by-one errors.<br>Know how your language and environment support Unicode.</p>
<blockquote>
<p>Conversion between Unicode and other character sets is often required for communication with standard and third-party libraries.<br>If some strings won’t be in Unicode (for example, in C or C++), decide early on whether to use the Unicode character set at all.</p>
</blockquote>
<p>Decide on an internationalization/localization strategy early in the lifetime of a program.<br>If you know you only need to support a single alphabetic language, consider using an ISO 8859 character set.<br>If you need to support multiple languages, use Unicode.<br>Decide on a consistent conversion strategy among string types.</p>
<br>
<br>

<h2 id="Boolean-Variables"><a href="#Boolean-Variables" class="headerlink" title="Boolean Variables"></a>Boolean Variables</h2><p>Use boolean variables to document your program.<br>Use boolean variables to simplify complicated tests.</p>
<br>
<br>

<h2 id="Enumerated-Types"><a href="#Enumerated-Types" class="headerlink" title="Enumerated Types"></a>Enumerated Types</h2><p>Use enumerated types for readability.</p>
<blockquote>
<p>Instead of writing statements like<br>if chosenColor = 1<br>you can write more readable expressions like<br>if chosenColor = Color_Red</p>
</blockquote>
<p>Use enumerated types for reliability.<br>Use enumerated types for modifiability.<br>Use enumerated types as an alternative to boolean variables.<br>Check for invalid values.<br>Define the first and last entries of an enumeration for use as loop limits.<br>Reserve the first entry in the enumerated type as invalid.<br>Define precisely how First and Last elements are to be used in the project coding standard, and use them consistently.<br>Beware of pitfalls of assigning explicit values to elements of an enumeration.</p>
<br>
<br>

<h2 id="Named-Constants"><a href="#Named-Constants" class="headerlink" title="Named Constants"></a>Named Constants</h2><p>A named constant is like a variable except that you can’t change the constant’s value once you’ve assigned it.</p>
<blockquote>
<p>Named constants enable you to refer to fixed quantities such as the maximum number of employees by a name rather than a number—MaximumEmployees rather than 1000, for instance.</p>
</blockquote>
<p>Using a named constant is a way of “parameterizing” your program.</p>
<p>Use named constants in data declarations.</p>
<blockquote>
<p>LOCAL_NUMBER_LENGTH.</p>
</blockquote>
<p>Avoid literals, even “safe” ones.<br>Simulate named constants with appropriately scoped variables or classes.<br>Use named constants consistently.</p>
<br>
<br>

<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><p>Make sure that all array indexes are within the bounds of the array.<br>Think of arrays as sequential structure.<br>Check the end points of arrays.<br>If an array is multidimensional, make sure its subscripts are used in the correct order.<br>Watch out for index cross talk.<br>Throw in an extra element at the end of an array.</p>
<br>
<br>

<h2 id="Creating-Your-Own-Types"><a href="#Creating-Your-Own-Types" class="headerlink" title="Creating Your Own Types"></a>Creating Your Own Types</h2><p>A more powerful example would combine the idea of creating your own types with the idea of information hiding. In some cases, the information you want to hide is information about the type of the data.</p>
<div class="note ">
            <p>These examples have illustrated several reasons to create your own types:</p><ul><li><p>To make modifications easier.<br>It’s little work to create a new type, and it gives you a lot of flexibility.</p></li><li><p>To avoid excessive information distribution.<br>Hard typing spreads data-typing details around your program instead of centralizing them in one place.</p></li><li><p>To increase reliability.<br>In Ada you can define types such as type Age_t is range 0..99.<br>The compiler then generates run-time checks to verify that any variable of type Age_t is always within the range 0..99.</p></li><li><p>To make up for language weaknesses.<br>If your language doesn’t have the predefined type you want, you can create it yourself.<br>For example, C doesn’t have a boolean or logical type. This deficiency is easy to compensate for by creating the type yourself:</p><blockquote><p>typedef int Boolean_t;</p></blockquote></li></ul>
          </div>

<br>
<br>

<p><strong>Guidelines for Creating Your Own Types.</strong></p>
<p>Create types with functionally oriented names.<br>Avoid predefined types.<br>Don’t redefine a predefined type.<br>Define substitute types for portability.</p>
<blockquote>
<p>For example, you can define a type INT and use it instead of int, or a type LONG instead of long.<br>Originally, the only difference between the two types would be their capitalization.<br>But when you moved the program to a new hardware platform, you could redefine the capitalized versions so that they could match the data types on the original hardware.</p>
</blockquote>
<p>Consider creating a class rather than using a typedef.</p>
<br>
<br>

<h2 id="CHECKLIST-Fundamental-Data"><a href="#CHECKLIST-Fundamental-Data" class="headerlink" title="CHECKLIST: Fundamental Data"></a>CHECKLIST: Fundamental Data</h2><p><strong>Numbers in General</strong></p>
<ul>
<li>Does the code avoid magic numbers?</li>
<li>Does the code anticipate divide-by-zero errors?</li>
<li>Are type conversions obvious?</li>
<li>If variables with two different types are used in the same expression, will the expression be evaluated as you intend it to be?</li>
<li>Does the code avoid mixed-type comparisons?</li>
<li>Does the program compile with no warnings?</li>
</ul>
<br>
<br>

<p><strong>Integers</strong></p>
<ul>
<li>Do expressions that use integer division work the way they’re meant to?</li>
<li>Do integer expressions avoid integer-overflow problems?</li>
</ul>
<br>
<br>

<p><strong>Floating-Point Numbers</strong></p>
<ul>
<li>Does the code avoid additions and subtractions on numbers with greatly different magnitudes?</li>
<li>Does the code systematically prevent rounding errors?</li>
<li>Does the code avoid comparing floating-point numbers for equality?</li>
</ul>
<br>
<br>

<p><strong>Characters and Strings</strong></p>
<ul>
<li>Does the code avoid magic characters and strings?</li>
<li>Are references to strings free of off-by-one errors?</li>
<li>Does C code treat string pointers and character arrays differently?</li>
<li>Does C code follow the convention of declaring strings to be length constant+1?</li>
<li>Does C code use arrays of characters rather than pointers, when appropriate?</li>
<li>Does C code initialize strings to NULLs to avoid endless strings?</li>
<li>Does C code use strncpy() rather than strcpy()? And strncat() and strncmp()?</li>
</ul>
<br>
<br>

<p><strong>Boolean Variables</strong></p>
<ul>
<li>Does the program use additional boolean variables to document conditional tests?</li>
<li>Does the program use additional boolean variables to simplify conditional tests?</li>
</ul>
<br>
<br>

<p><strong>Enumerated Types</strong></p>
<ul>
<li>Does the program use enumerated types instead of named constants for their improved readability, reliability, and modifiability?</li>
<li>Does the program use enumerated types instead of boolean variables when a variable’s use cannot be completely captured with TRUE and FALSE?</li>
<li>Do tests using enumerated types test for invalid values?</li>
<li>Is the first entry in an enumerated type reserved for “invalid”?</li>
</ul>
<br>
<br>

<p><strong>Named Constants</strong></p>
<ul>
<li>Does the program use named constants for data declarations and loop limits rather than magic numbers?</li>
<li>Have named constants been used consistently—not named constants in some places, literals in others?</li>
</ul>
<br>
<br>

<p><strong>Arrays</strong></p>
<ul>
<li>Are all array indexes within the bounds of the array?</li>
<li>Are array references free of off-by-one errors?</li>
<li>Are all subscripts on multidimensional arrays in the correct order?</li>
<li>In nested loops, is the correct variable used as the array subscript, avoiding loop-index cross talk?</li>
</ul>
<br>
<br>

<p><strong>Creating Types</strong></p>
<ul>
<li>Does the program use a different type for each kind of data that might change?</li>
<li>Are type names oriented toward the real-world entities the types represent rather than toward programming-language types?</li>
<li>Are the type names descriptive enough to help document data declarations?</li>
<li>Have you avoided redefining predefined types?</li>
<li>Have you considered creating a new class rather than simply redefining a type?</li>
</ul>
<br>
<br>

<h1 id="Unusual-Data-Types"><a href="#Unusual-Data-Types" class="headerlink" title="Unusual Data Types"></a>Unusual Data Types</h1><h2 id="Structures"><a href="#Structures" class="headerlink" title="Structures"></a>Structures</h2><p>The term “structure” refers to data that’s built up from other types.</p>
<br>
<br>

<p>Some reasons for using structures:</p>
<p>Use structures to clarify data relationships.</p>
<img src="/blog/2025/03/20/P340/P340_29.png" class="">

<p>Use structures to simplify operations on blocks of data.</p>
<blockquote>
<p>previousOldEmployee = oldEmployee<br>oldEmployee = newEmployee</p>
</blockquote>
<p>Use structures to simplify parameter lists.</p>
<img src="/blog/2025/03/20/P340/P340_30.png" class="">

<p>Use structures to reduce maintenance.</p>
<blockquote>
<p>If your Employee structure has a title field and you decide to delete it, you don’t need to change any of the parameter lists or assignment statements that use the whole structure.</p>
</blockquote>
<br>
<br>

<h2 id="Pointers"><a href="#Pointers" class="headerlink" title="Pointers"></a>Pointers</h2><p>Conceptually, every pointer consists of two parts: a location in memory and a knowledge of how to interpret the contents of that location.</p>
<br>
<br>

<h3 id="Location-in-Memory"><a href="#Location-in-Memory" class="headerlink" title="Location in Memory"></a>Location in Memory</h3><p>The location in memory is an address, often expressed in hexadecimal notation.<br>An address on a 32-bit processor would be a 32-bit value such as 0x0001EA40.<br>The pointer itself contains only this address.<br>To use the data the pointer points to, you have to go to that address and interpret the contents of memory at that location.</p>
<br>
<br>

<h3 id="Knowledge-of-How-to-Interpret-the-Contents"><a href="#Knowledge-of-How-to-Interpret-the-Contents" class="headerlink" title="Knowledge of How to Interpret the Contents"></a>Knowledge of How to Interpret the Contents</h3><p>The knowledge of how to interpret the contents of a location in memory is provided by the base type of the pointer.<br>If a pointer points to an integer, what that really means is that the compiler interprets the memory location given by the pointer as an integer.</p>
<br>
<br>

<h2 id="General-Tips-on-Pointers"><a href="#General-Tips-on-Pointers" class="headerlink" title="General Tips on Pointers"></a>General Tips on Pointers</h2><p>A pointer error is usually the result of a pointer’s pointing somewhere it shouldn’t.<br>When you assign a value to a bad pointer variable, you write data into an area of memory you shouldn’t. This is called memory corruption.<br>In short, symptoms of pointer errors tend to be unrelated to causes of pointer errors. Thus, most of the work in correcting a pointer error is locating the cause.</p>
<br>
<br>

<p>Symptoms of pointer errors are so erratic that extra measures to make the symptoms more predictable are justified. Here’s how to achieve these key goals:</p>
<p>Isolate pointer operations in routines or classes.<br>Declare and define pointers at the same time.<br>Check pointers before using them.<br>Check the variable referenced by the pointer before using it.<br>Use dog-tag fields to check for corrupted memory.</p>
<blockquote>
<p>A “tag field” or “dog tag” is a field you add to a structure solely for the purpose of error checking.<br>Putting a dog tag at the beginning of the memory block you’ve allocated allows you to check for redundant attempts to deallocate the memory block without needing to maintain a list of all the memory blocks you’ve allocated.<br>Putting the dog tag at the end of the memory block allows you to check for overwriting memory beyond the location that was supposed to be used.</p>
</blockquote>
<br>
<br>

<p>Add explicit redundancies.</p>
<blockquote>
<p>An alternative to using a tag field is to use certain fields twice.<br>If the data in the redundant fields doesn’t match, you know memory has been corrupted.</p>
</blockquote>
<p>Use extra pointer variables for clarity.</p>
<blockquote>
<p>Don’t skimp on pointer variables.<br>The point is made elsewhere that a variable shouldn’t be used for more than one purpose.</p>
</blockquote>
<p>Simplify complicated pointer expressions.</p>
<img src="/blog/2025/03/20/P340/P340_31.png" class="">

<p>Free pointers in linked lists in the right order.<br>Allocate a reserve parachute of memory.<br>Free pointers at the same scoping level as they were allocated.<br>Shred your garbage.<br>Set pointers to NULL after deleting or freeing them.<br>Check for bad pointers before deleting a variable.</p>
<blockquote>
<p>Setting freed pointers to NULL also allows you to check whether a pointer is set to NULL before you use it or attempt to delete it again; if you don’t set freed pointers to NULL, you won’t have that option.</p>
</blockquote>
<p>Keep track of pointer allocations.<br>Write cover routines to centralize your strategy to avoiding pointer problems.<br>Use a nonpointer technique.</p>
<br>
<br>

<p>Here are some guidelines that apply to using pointers in C++.</p>
<div class="note ">
            <p>Understand the difference between pointers and references.</p><blockquote><p>In C++, both pointers (*) and the references (&amp;) refer indirectly to an object, and to the uninitiated the only difference appears to be a purely cosmetic distinction between referring to fields as object-&gt;field vs. object.field.<br>The most significant differences are that a reference must always refer to an object, whereas a pointer can point to NULL; and what a reference refers to can’t be changed after the reference is initialized.</p></blockquote>
          </div>

<div class="note ">
            <p>Use pointers for “pass by reference” parameters and const references for “pass by value” parameters.</p><blockquote><p>When you pass an object to a routine by value, C++ creates a copy of the object, and when the object is passed back to the calling routine, a copy is created again. -&gt; 原来有两份??</p></blockquote><blockquote><p>Sometimes, however, you would like to have the semantics of pass by reference—that is, that the passed object should not be altered—with the implementation of pass by value—that is, passing the actual object rather than a copy.<br>In C++, the resolution to this issue is that you use pointers for pass by reference, and—odd as the terminology might sound—const references for pass by value!<br>我虽然pass了reference但是不让你动.</p></blockquote>
          </div>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">void SomeRoutine(</span><br><span class="line"> const LARGE_OBJECT &amp;nonmodifiableObject,</span><br><span class="line"> LARGE_OBJECT *modifiableObject</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>In a modifiable object, the references to members will use the object-&gt;member notation, whereas for nonmodifiable objects references to members will use object.member notation.</p>
<blockquote>
<p>If you control your own code base, it’s good discipline to use const whenever possible.</p>
</blockquote>
<p>Use <em>auto_ptrs</em>.</p>
<blockquote>
<p>auto_ptrs avoid many of the memory-leakage problems associated with regular pointers by deleting memory automatically when the auto_ptr goes out of scope.</p>
</blockquote>
<br>
<br>

<h3 id="C-Pointer-Pointers"><a href="#C-Pointer-Pointers" class="headerlink" title="C-Pointer Pointers"></a>C-Pointer Pointers</h3><p>Here are a few tips on using pointers that apply specifically to the C language.</p>
<p>Use explicit pointer types rather than the default type.</p>
<blockquote>
<p>C lets you use char or void pointers for any type of variable. As long as the pointer points, the language doesn’t really care what it points at.<br>If you use explicit types for your pointers, however, the compiler can give you warnings about mismatched pointer types and inappropriate dereferences.</p>
</blockquote>
<p>Avoid type casting.</p>
<blockquote>
<p>Type casting turns off your complier’s ability to check for type mismatches and therefore creates a hole in your defensive-programming armor.</p>
</blockquote>
<p>Follow the asterisk rule for parameter passing.</p>
<blockquote>
<p>It’s easy to remember that, as long as you have an asterisk in front of the parameter when you assign it a value, the value is passed back to the calling routine.<br>Regardless of how many asterisks you stack up in the declaration, you must have at least one in the assignment statement if you want to pass back a value.</p>
</blockquote>
<img src="/blog/2025/03/20/P340/P340_32.png" class="">

<p>Use sizeof() to determine the size of a variable in a memory allocation.</p>
<br>
<br>

<h2 id="Global-Data"><a href="#Global-Data" class="headerlink" title="Global Data"></a>Global Data</h2><h3 id="Common-Problems-with-Global-Data"><a href="#Common-Problems-with-Global-Data" class="headerlink" title="Common Problems with Global Data"></a>Common Problems with Global Data</h3><p>Inadvertent changes to global data.<br>Bizarre and exciting aliasing problems with global data.</p>
<img src="/blog/2025/03/20/P340/P340_33.png" class="">

<p>Re-entrant code problems with global data.<br>Code reuse hindered by global data.<br>Uncertain initialization-order issues with global data.</p>
<blockquote>
<p>If the class you want to reuse reads or writes global data, you can’t just plug it into the new program.</p>
</blockquote>
<p>Modularity and intellectual manageability damaged by global data.</p>
<br>
<br>

<h3 id="Reasons-to-Use-Global-Data"><a href="#Reasons-to-Use-Global-Data" class="headerlink" title="Reasons to Use Global Data"></a>Reasons to Use Global Data</h3><p>Preservation of global values.<br>Emulation of named constants.<br>Emulation of enumerated types.</p>
<blockquote>
<p>You can also use global variables to emulate enumerated types in languages such as Python that don’t support enumerated types directly.</p>
</blockquote>
<p>Streamlining use of extremely common data.<br>Eliminating tramp data.</p>
<br>
<br>

<h3 id="Use-Global-Data-Only-as-a-Last-Resort"><a href="#Use-Global-Data-Only-as-a-Last-Resort" class="headerlink" title="Use Global Data Only as a Last Resort"></a>Use Global Data Only as a Last Resort</h3><p>Begin by making each variable local and make variables global only as you need to.<br>Distinguish between global and class variables.<br>Use access routines.</p>
<br>
<br>

<h2 id="Using-Access-Routines-Instead-of-Global-Data"><a href="#Using-Access-Routines-Instead-of-Global-Data" class="headerlink" title="Using Access Routines Instead of Global Data"></a>Using Access Routines Instead of Global Data</h2><p>The use of access routines is a core technique for implementing abstract data types and achieving information hiding.</p>
<h3 id="Advantages-of-Access-Routines"><a href="#Advantages-of-Access-Routines" class="headerlink" title="Advantages of Access Routines"></a>Advantages of Access Routines</h3><p>You get centralized control over the data.</p>
<blockquote>
<p>If you discover a more appropriate implementation of the structure later, you don’t have to change the code everywhere the data is referenced.</p>
</blockquote>
<p>You can ensure that all references to the variable are barricaded.</p>
<blockquote>
<p>If you allow yourself to push elements onto the stack with statements like stack.array[ stack.top ] = newElement, you can easily forget to check for stack overflow and make a serious mistake.<br>If you use access routines, for example, PushStack( newElement )—you can write the check for stack overflow into the PushStack() routine.</p>
</blockquote>
<p>You get the general benefits of information hiding automatically.</p>
<p>Access routines are easy to convert to an abstract data type.</p>
<blockquote>
<p>For example, instead of writing code that says if lineCount &gt; MAX_LINES, an access routine allows you to write code that says if PageFull().</p>
</blockquote>
<br>
<br>

<h3 id="How-to-Use-Access-Routines"><a href="#How-to-Use-Access-Routines" class="headerlink" title="How to Use Access Routines"></a>How to Use Access Routines</h3><p>Here’s the short version of the theory and practice of access routines: Hide data in a class.</p>
<p>Declare that data using the static keyword or its equivalent to ensure there is only a single instance of the data.</p>
<div class="note ">
            <p>For example, if you have a global status variable g_globalStatus that describes your program’s overall status, you can create two access routines: globalStatus.Get() and globalStatus.set(), each of which does what it sounds like it does.</p>
          </div>

<p>Require all code to go through the access routines for the data.</p>
<blockquote>
<p>A good convention is to require all global data to begin with the g_ prefix, and to further require that no code access a variable with the g_ prefix except that variable’s access routines.</p>
</blockquote>
<p>Don’t just throw all your global data into the same barrel.<br>Use locking to control access to global variables.<br>Build a level of abstraction into your access routines.</p>
<img src="/blog/2025/03/20/P340/P340_34.png" class="">

<p>Keep all accesses to the data at the same level of abstraction.</p>
<br>
<br>

<h2 id="How-to-Reduce-the-Risks-of-Using-Global-Data"><a href="#How-to-Reduce-the-Risks-of-Using-Global-Data" class="headerlink" title="How to Reduce the Risks of Using Global Data"></a>How to Reduce the Risks of Using Global Data</h2><p>Develop a naming convention that makes global variables obvious.<br>Create a well-annotated list of all your global variables.<br>Don’t use global variables to contain intermediate results.<br>Don’t pretend you’re not using global data by putting all your data into a monster object and passing it everywhere.</p>
<br>
<br>

<h2 id="CHECKLIST-Considerations-In-Using-Unusual-Data-Types"><a href="#CHECKLIST-Considerations-In-Using-Unusual-Data-Types" class="headerlink" title="CHECKLIST: Considerations In Using Unusual Data Types"></a>CHECKLIST: Considerations In Using Unusual Data Types</h2><p><strong>Structures</strong></p>
<ul>
<li>Have you used structures instead of naked variables to organize and manipulate groups of related data?</li>
<li>Have you considered creating a class as an alternative to using a structure?</li>
</ul>
<br>
<br>

<p><strong>Global Data</strong></p>
<ul>
<li>Are all variables local or class-scope unless they absolutely need to be global?</li>
<li>Do variable naming conventions differentiate among local, class, and global data?</li>
<li>Are all global variables documented?</li>
<li>Is the code free of pseudoglobal data—mammoth objects containing a<br>mishmash of data that’s passed to every routine?</li>
<li>Are access routines used instead of global data?</li>
<li>Are access routines and data organized into classes?</li>
<li>Do access routines provide a level of abstraction beyond the underlying data-type implementations?</li>
<li>Are all related access routines at the same level of abstraction?</li>
</ul>
<br>
<br>

<p><strong>Pointers</strong></p>
<ul>
<li>Are pointer operations isolated in routines?</li>
<li>Are pointer references valid, or could the pointer be dangling?</li>
<li>Does the code check pointers for validity before using them?</li>
<li>Is the variable that the pointer references checked for validity before it’s used?</li>
<li>Are pointers set to NULL after they’re freed?</li>
<li>Does the code use all the pointer variables needed for the sake of readability?</li>
<li>Are pointers in linked lists freed in the right order?</li>
<li>Does the program allocate a reserve parachute of memory so that it can shut down gracefully if it runs out of memory?</li>
<li>Are pointers used only as a last resort, when no other method is available?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Organizing-Straight-Line-Code"><a href="#Organizing-Straight-Line-Code" class="headerlink" title="Organizing Straight-Line Code"></a>Organizing Straight-Line Code</h1><h2 id="Statements-That-Must-Be-in-a-Specific-Order"><a href="#Statements-That-Must-Be-in-a-Specific-Order" class="headerlink" title="Statements That Must Be in a Specific Order"></a>Statements That Must Be in a Specific Order</h2><p>When statements have dependencies that require you to put them in a certain order, take steps to make the dependencies clear.<br>Some simple guidelines for ordering statements:</p>
<p>Organize code so that dependencies are obvious.<br>Name routines so that dependencies are obvious.<br>Use routine parameters to make dependencies obvious.</p>
<img src="/blog/2025/03/20/P340/P340_35.png" class="">

<p>Document unclear dependencies with comments.<br>Check for dependencies with assertions or error-handling code.</p>
<blockquote>
<p>For example, in the class’s constructor, you might initialize a class member variable isExpenseDataInitialized to FALSE. Then in InitializeExpenseData(), you can set isExpenseDataInitialized to TRUE.</p>
</blockquote>
<br>
<br>

<h2 id="Statements-Whose-Order-Doesn’t-Matter"><a href="#Statements-Whose-Order-Doesn’t-Matter" class="headerlink" title="Statements Whose Order Doesn’t Matter"></a>Statements Whose Order Doesn’t Matter</h2><p>The guiding principle is the Principle of Proximity: Keep related actions together.</p>
<p>Making Code Read from Top to Bottom.<br>Grouping Related Statements.</p>
<blockquote>
<p>References to each object are kept close together; they’re “localized.” The number of lines of code in which the objects are “live” is small.</p>
</blockquote>
<br>
<br>

<h2 id="Checklist-Organizing-Straight-Line-Code"><a href="#Checklist-Organizing-Straight-Line-Code" class="headerlink" title="Checklist: Organizing Straight-Line Code"></a>Checklist: Organizing Straight-Line Code</h2><ul>
<li>Does the code make dependencies among statements obvious?</li>
<li>Do the names of routines make dependencies obvious?</li>
<li>Do parameters to routines make dependencies obvious?</li>
<li>Do comments describe any dependencies that would otherwise be unclear?</li>
<li>Have housekeeping variables been used to check for sequential dependencies in critical sections of code?</li>
<li>Does the code read from top to bottom?</li>
<li>Are related statements grouped together?</li>
<li>Have relatively independent groups of statements been moved into their own routines?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Using-Conditionals"><a href="#Using-Conditionals" class="headerlink" title="Using Conditionals"></a>Using Conditionals</h1><h2 id="Plain-if-then-Statements"><a href="#Plain-if-then-Statements" class="headerlink" title="Plain if-then Statements"></a>Plain if-then Statements</h2><p>Follow these guidelines when writing if statements:</p>
<p>Write the nominal path through the code first; then write the unusual cases.<br>Make sure that you branch correctly on equality.</p>
<blockquote>
<p>Using &gt; instead of &gt;= or &lt; instead of &lt;= is analogous to making an off-by-one error in accessing an array or computing a loop index.<br>In a loop, think through the endpoints to avoid an off-by-one error.<br>In a conditional statement, think through the equals case to avoid an off-by-one error.</p>
</blockquote>
<p>Put the normal case after the if rather than after the else.</p>
<img src="/blog/2025/03/20/P340/P340_36.png" class="">

<p>Follow the if clause with a meaningful statement.<br>Consider the else clause.<br>Test the else clause for correctness.<br>Check for reversal of the if and else clauses.</p>
<br>
<br>

<h2 id="Chains-of-if-then-else-Statements"><a href="#Chains-of-if-then-else-Statements" class="headerlink" title="Chains of if-then-else Statements"></a>Chains of if-then-else Statements</h2><p>Simplify complicated tests with boolean function calls.<br>Put the most common cases first.<br>Make sure that all cases are covered.</p>
<br>
<br>

<h2 id="Case-Statements"><a href="#Case-Statements" class="headerlink" title="Case Statements"></a>Case Statements</h2><p>Choosing the Most Effective Ordering of Cases.<br>Order cases alphabetically or numerically.<br>Put the normal case first.<br>Order cases by frequency.<br>Keep the actions of each case simple.<br>Don’t make up phony variables in order to be able to use the case statement.</p>
<img src="/blog/2025/03/20/P340/P340_37.png" class="">
<img src="/blog/2025/03/20/P340/P340_38.png" class="">

<p>Use the default clause only to detect legitimate defaults.<br>Use the default clause to detect errors.<br>In C++ and Java, avoid dropping through the end of a case statement.</p>
<blockquote>
<p>指的是switch case不写break混在一起.</p>
</blockquote>
<p>In C++, clearly and unmistakably identify flow-throughs at the end of a case statement.</p>
<blockquote>
<p>用comment写写干净.<br>e.g: // FALLTHROUGH – Full documentation also prints summary comments</p>
</blockquote>
<br>
<br>

<h2 id="CHECKLIST-Conditionals"><a href="#CHECKLIST-Conditionals" class="headerlink" title="CHECKLIST: Conditionals"></a>CHECKLIST: Conditionals</h2><p><strong>if-then Statements</strong></p>
<ul>
<li>Is the nominal path through the code clear?</li>
<li>Do if-then tests branch correctly on equality?</li>
<li>Is the else clause present and documented?</li>
<li>Is the else clause correct?</li>
<li>Are the if and else clauses used correctly—not reversed? - Does the normal case follow the if rather than the else?</li>
</ul>
<p><strong>if-then-else-if Chains</strong></p>
<ul>
<li>Are complicated tests encapsulated in boolean function calls?</li>
<li>Are the most common cases tested first?</li>
<li>Are all cases covered?</li>
<li>Is the if-then-else-if chain the best implementation—better than a case statement?</li>
</ul>
<p><strong>case Statements</strong></p>
<ul>
<li>Are cases ordered meaningfully?</li>
<li>Are the actions for each case simple—calling other routines if necessary? - Does the case statement test a real variable, not a phony one that’s made up<br>solely to use and abuse the case statement?</li>
<li>Is the use of the default clause legitimate?</li>
<li>Is the default clause used to detect and report unexpected cases? - In C, C++, or Java, does the end of each case have a break?</li>
</ul>
<br>
<br>

<h1 id="Controlling-Loops"><a href="#Controlling-Loops" class="headerlink" title="Controlling Loops"></a>Controlling Loops</h1><h2 id="Selecting-the-Kind-of-Loop"><a href="#Selecting-the-Kind-of-Loop" class="headerlink" title="Selecting the Kind of Loop"></a>Selecting the Kind of Loop</h2><p><strong>The counted loop</strong> is performed a specific number of times, perhaps one time for each employee.</p>
<p><strong>The continuously evaluated loop</strong> doesn’t know ahead of time how many times it will be executed and tests whether it has finished on each iteration.</p>
<blockquote>
<p>For example, it runs while money remains, until the user selects quit, or until it encounters an error.</p>
</blockquote>
<p><strong>The endless loop</strong> executes forever once it has started.</p>
<blockquote>
<p>It’s the kind you find in embedded systems such as pacemakers, microwave ovens, and cruise controls.</p>
</blockquote>
<p><strong>The iterator loop</strong> that performs its action once for each element in a container class.</p>
<br>
<br>

<img src="/blog/2025/03/20/P340/P340_39.png" class="">

<br>
<br>

<h2 id="When-to-Use-a-while-Loop"><a href="#When-to-Use-a-while-Loop" class="headerlink" title="When to Use a while Loop"></a>When to Use a while Loop</h2><p>Loop with Test at the Beginning.<br>Loop with Test at the End.</p>
<br>
<br>

<h2 id="When-to-Use-a-loop-with-exit-Loop"><a href="#When-to-Use-a-loop-with-exit-Loop" class="headerlink" title="When to Use a loop-with-exit Loop"></a>When to Use a loop-with-exit Loop</h2><p>Normal loop-with-exit Loops.</p>
<p>The loop-with-exit loop is a one-entry, one-exit, structured control construct, and it is the preferred kind of loop control.</p>
<p>Consider when you use this kind of loop:</p>
<div class="note ">
            <p>Put all the exit conditions in one place.</p><blockquote><p>Spreading them around practically guarantees that one exit condition or another will be overlooked during debugging, modification, or testing.</p></blockquote><p>Use comments for clarification.</p><blockquote><p>If you use the loop-with-exit loop technique in a language that doesn’t support it directly use comments to make what you’re doing clear.</p></blockquote>
          </div>

<br>
<br>

<p>Abnormal loop-with-exit Loops.</p>
<img src="/blog/2025/03/20/P340/P340_40.png" class="">

<br>
<br>

<h2 id="When-to-Use-a-for-Loop"><a href="#When-to-Use-a-for-Loop" class="headerlink" title="When to Use a for Loop"></a>When to Use a for Loop</h2><p>A for loop is a good choice when you need a loop that executes a specified number of times.<br>Use them when the loop control involves simple increments or simple decrements.</p>
<p>Likewise, don’t explicitly change the index value of a for loop to force it to terminate. Use a while loop instead.</p>
<br>
<br>

<h2 id="When-to-Use-a-foreach-Loop"><a href="#When-to-Use-a-foreach-Loop" class="headerlink" title="When to Use a foreach Loop"></a>When to Use a foreach Loop</h2><p>Is useful for performing an operation on each member of an array or other container.</p>
<br>
<br>

<h2 id="Controlling-the-Loop"><a href="#Controlling-the-Loop" class="headerlink" title="Controlling the Loop"></a>Controlling the Loop</h2><p>You can forestall these problems by observing two practices.<br>First, minimize the number of factors that affect the loop.<br>Simplify! Simplify! Simplify!<br>Second, treat the inside of the loop as if it were a routine—keep as much of the control as possible outside the loop.</p>
<br>
<br>

<h2 id="Entering-the-Loop"><a href="#Entering-the-Loop" class="headerlink" title="Entering the Loop"></a>Entering the Loop</h2><p>Enter the loop from one location only.<br>Put initialization code directly before the loop.<br>In C++, use the FOREVER macro for infinite loops and event loops.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#define FOREVER for (;;) ...</span><br><span class="line">FOREVER &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>In C++ and Java, use for( ;; ) or while( true ) for infinite loops.<br>In C++, prefer for loops when they’re appropriate.<br>Don’t use a for loop when a while loop is more appropriate.</p>
<blockquote>
<p>The advantage of C++’s for loop over for loops in other languages is that it’s more flexible about the kinds of initialization and termination information it can use.<br>The weakness inherent in such flexibility is that you can put statements into the loop header that have nothing to do with controlling the loop.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// read all the records from a file inputFile.MoveToStart(); recordCount = 0;</span><br><span class="line">while ( !inputFile.EndOfFile() ) &#123;</span><br><span class="line">inputFile.GetRecord( &amp;inputRec[ recordCount ], MAX_CHARS );</span><br><span class="line"> recordCount++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h2 id="Processing-the-Middle-of-the-Loop"><a href="#Processing-the-Middle-of-the-Loop" class="headerlink" title="Processing the Middle of the Loop"></a>Processing the Middle of the Loop</h2><p>Use { and } to enclose the statements in a loop.<br>Avoid empty loops.<br>Keep loop-housekeeping chores at either the beginning or the end of the loop.</p>
<blockquote>
<p>“Loop housekeeping” chores are expressions like i = i + 1, expressions whose main purpose isn’t to do the work of the loop but to control the loop.</p>
</blockquote>
<p>Make each loop perform only one function.</p>
<br>
<br>

<h2 id="Exiting-the-Loop"><a href="#Exiting-the-Loop" class="headerlink" title="Exiting the Loop"></a>Exiting the Loop</h2><p>Assure yourself that the loop ends.<br>Make loop-termination conditions obvious.<br>Don’t monkey with the loop index of a for loop to make the loop terminate.</p>
<img src="/blog/2025/03/20/P340/P340_41.png" class="">

<blockquote>
<p>When you set up a for loop, the loop counter is off limits.<br>Use a while loop to provide more control over the loop’s exit conditions.</p>
</blockquote>
<p>Avoid code that depends on the loop index’s final value.</p>
<img src="/blog/2025/03/20/P340/P340_42.png" class="">
<img src="/blog/2025/03/20/P340/P340_43.png" class="">

<p>Consider using safety counters.</p>
<img src="/blog/2025/03/20/P340/P340_44.png" class="">
<blockquote>
<p>Safety counters are not a cure all.<br>Introduced into the code one at a time, safety counters might lead to additional errors.</p>
</blockquote>
<br>
<br>

<h2 id="Exiting-Loops-Early"><a href="#Exiting-Loops-Early" class="headerlink" title="Exiting Loops Early"></a>Exiting Loops Early</h2><div class="note ">
            <p>In this discussion, break is a generic term for break in C++, C, and Java, Exit-Do and Exit-For in Visual Basic, and similar constructs, including those simulated with gotos in languages that don’t support break directly.</p><p>The break statement (or equivalent) causes a loop to terminate through the normal exit channel; the program resumes execution at the first statement following the loop.</p><p>The continue statement is similar to break in that it’s an auxiliary loop-control statement.<br>Rather than causing a loop exit, however, continue causes the program to skip the loop body and continue executing at the beginning of the next iteration of the loop.</p>
          </div>

<p>Consider using break statements rather than boolean flags in a while loop.<br>Be wary of a loop with a lot of breaks scattered through it.<br>Use continue for tests at the top of a loop.</p>
<img src="/blog/2025/03/20/P340/P340_45.png" class="">
<blockquote>
<p>Using continue in this way lets you avoid an if test that would effectively indent the entire body of the loop.<br>If, on the other hand, the continue occurs toward the middle or end of the loop, use an if instead.</p>
</blockquote>
<br>
<br>

<p>Use labeled break if your language supports it.<br>Use break and continue only with caution.</p>
<blockquote>
</blockquote>
<p>Use break only after you have considered the alternatives.<br>It really is a simple proposition: If you can’t defend a break or a continue, don’t use it.</p>
<br>
<br>

<h2 id="Checking-Endpoints"><a href="#Checking-Endpoints" class="headerlink" title="Checking Endpoints"></a>Checking Endpoints</h2><p>A single loop usually has three cases of interest: the first case, an arbitrarily selected middle case, and the last case.</p>
<div class="note ">
            <p>When you create a loop, mentally run through the first, middle, and last cases to make sure that the loop doesn’t have any off-by-one errors.<br>If you have any special cases that are different from the first or last case, check those too. If the loop contains complex computations, get out your calculator and manually check the calculations.</p><p>Willingness to perform this kind of check is a key difference between efficient and inefficient programmers.<br>Efficient programmers do the work of mental simulations and hand calculations because they know that such measures help them find errors.</p>
          </div>

<br>
<br>

<h2 id="Using-Loop-Variables"><a href="#Using-Loop-Variables" class="headerlink" title="Using Loop Variables"></a>Using Loop Variables</h2><p>Use ordinal or enumerated types for limits on both arrays and loops.<br>Use meaningful variable names to make nested loops readable.<br>Use meaningful names to avoid loop-index cross talk.</p>
<blockquote>
<p>The use of i is so habitual that it’s used twice in the same nesting structure.<br>The second for loop controlled by i conflicts with the first, and that’s index cross talk.</p>
</blockquote>
<p>Limit the scope of loop-index variables to the loop itself.</p>
<img src="/blog/2025/03/20/P340/P340_46.png" class="">
<blockquote>
<p>This technique is helpful for documenting the purpose of the recordCount variable, however don’t rely on your compiler to enforce recordCount’s scope.<br>As is often the case with more esoteric language features, compiler<br>implementations can vary.</p>
</blockquote>
<br>
<br>

<h2 id="How-Long-Should-a-Loop-Be"><a href="#How-Long-Should-a-Loop-Be" class="headerlink" title="How Long Should a Loop Be?"></a>How Long Should a Loop Be?</h2><p>Make your loops short enough to view all at once.</p>
<blockquote>
<p>Experts have suggested a loop-length limit of one printed page, or 66 lines.</p>
</blockquote>
<p>Limit nesting to <strong>three levels</strong>.<br>Move loop innards of long loops into routines.<br>Make long loops especially clear.</p>
<br>
<br>

<h2 id="Creating-Loops-Easily—from-the-Inside-Out"><a href="#Creating-Loops-Easily—from-the-Inside-Out" class="headerlink" title="Creating Loops Easily—from the Inside Out"></a>Creating Loops Easily—from the Inside Out</h2><p>Here’s the general process.<br>Start with one case.<br>Code that case with literals.<br>Then indent it, put a loop around it, and replace the literals with loop indexes or computed expressions.</p>
<p>Put another loop around that, if necessary, and replace more literals.<br>Continue the process as long as you have to.<br>When you finish, add all the necessary initializations.</p>
<blockquote>
<p>书里这里加入了一个例子. <del>跟画图那种先从概括到细节的感觉一样.</del></p>
</blockquote>
<br>
<br>

<h2 id="CHECKLIST-Loops"><a href="#CHECKLIST-Loops" class="headerlink" title="CHECKLIST: Loops"></a>CHECKLIST: Loops</h2><p><strong>Loop Selection and Creation</strong></p>
<ul>
<li>Is a while loop used instead of a for loop, if appropriate?</li>
<li>Was the loop created from the inside out?</li>
</ul>
<br>
<br>

<p><strong>Entering the Loop</strong></p>
<ul>
<li>Is the loop entered from the top?</li>
<li>Is initialization code directly before the loop?</li>
<li>If the loop is an infinite loop or an event loop, is it constructed cleanly rather than using a kludge such as for i = 1 to 9999?</li>
<li>If the loop is a C++, C, or Java for loop, is the loop header reserved for loop-control code?</li>
</ul>
<br>
<br>

<p><strong>Inside the Loop</strong></p>
<ul>
<li>Does the loop use { and } or their equivalent to prevent problems arising from improper modifications?</li>
<li>Does the loop body have something in it? Is it nonempty?</li>
<li>Are housekeeping chores grouped, at either the beginning or the end of the loop?</li>
<li>Does the loop perform one and only one function—as a well-defined routine does?</li>
<li>Is the loop short enough to view all at once?</li>
<li>Is the loop nested to three levels or less?</li>
<li>Have long loop contents been moved into their own routine?</li>
<li>If the loop is long, is it especially clear?</li>
</ul>
<br>
<br>

<p><strong>Loop Indexes</strong></p>
<ul>
<li>If the loop is a for loop, does the code inside it avoid monkeying with the loop index?</li>
<li>Is a variable used to save important loop-index values rather than using the loop index outside the loop?</li>
<li>Is the loop index an ordinal type or an enumerated type—not floating point?</li>
<li>Does the loop index have a meaningful name?</li>
<li>Does the loop avoid index cross talk?</li>
</ul>
<br>
<br>

<p><strong>Exiting the Loop</strong></p>
<ul>
<li>Does the loop end under all possible conditions?</li>
<li>Does the loop use safety counters—if you’ve instituted a safety-counter standard?</li>
<li>Is the loop’s termination condition obvious?</li>
<li>If break or continue are used, are they correct?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Unusual-Control-Structures"><a href="#Unusual-Control-Structures" class="headerlink" title="Unusual Control Structures"></a>Unusual Control Structures</h1><h2 id="Multiple-Returns-from-a-Routine"><a href="#Multiple-Returns-from-a-Routine" class="headerlink" title="Multiple Returns from a Routine"></a>Multiple Returns from a Routine</h2><p>Use a return when it enhances readability.<br>Use guard clauses (early returns or exits) to simplify complex error processing.</p>
<img src="/blog/2025/03/20/P340/P340_47.png" class="">
<img src="/blog/2025/03/20/P340/P340_48.png" class="">

<p>With production-size code, the Exit Sub approach creates a noticeable amount of code before the nominal case is handled.</p>
<p>Minimize the number of returns in each routine.</p>
<br>
<br>

<h2 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h2><p>In recursion, a routine solves a small part of a problem itself, divides the problem into smaller pieces, and then calls itself to solve each of the smaller pieces.</p>
<br>
<br>

<p>Suppose you have a data type that represents a maze.<br>A maze is basically a grid, and at each point on the grid you might be able to turn left, turn right, move up, or move down.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">bool FindPathThroughMaze( Maze maze, Point position ) &#123;</span><br><span class="line"> // if the position has already been tried, don&#x27;t try it again</span><br><span class="line"> if ( AlreadyTried( maze, position ) ) &#123;</span><br><span class="line">    return false;</span><br><span class="line"> &#125;</span><br><span class="line"> // if this position is the exit, declare success</span><br><span class="line"> if ( ThisIsTheExit( maze, position ) ) &#123;</span><br><span class="line">    return true;</span><br><span class="line"> &#125;</span><br><span class="line"> // remember that this position has been tried</span><br><span class="line"> RememberPosition( maze, position );</span><br><span class="line"> // check the paths to the left, up, down, and to the right; if</span><br><span class="line"> // any path is successful, stop looking</span><br><span class="line"> if ( MoveLeft( maze, position, &amp;newPosition ) ) &#123;     </span><br><span class="line">   if ( FindPathThroughMaze( maze, newPosition ) ) &#123;</span><br><span class="line">       return true;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> if ( MoveUp( maze, position, &amp;newPosition ) ) &#123;</span><br><span class="line">    if ( FindPathThroughMaze( maze, newPosition ) ) &#123;</span><br><span class="line">       return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> if ( MoveDown( maze, position, &amp;newPosition ) ) &#123;</span><br><span class="line">    if ( FindPathThroughMaze( maze, newPosition ) ) &#123;</span><br><span class="line">       return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> if ( MoveRight( maze, position, &amp;newPosition ) ) &#123;</span><br><span class="line">    if ( FindPathThroughMaze( maze, newPosition ) ) &#123;</span><br><span class="line">       return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The first line of code checks to see whether the position has already been tried.<br>One key aim in writing a recursive routine is the prevention of infinite recursion.</p>
<p>The second statement checks to see whether the position is the exit from the maze.<br>If ThisIsTheExit() returns true, the routine itself returns true.</p>
<p>The third statement remembers that the position has been visited.<br>This prevents the infinite recursion that would result from a circular path.</p>
<p>The remaining lines in the routine try to find a path to the left, up, down, and to the right.<br>The code stops the recursion if the routine ever returns true, that is, when the routine finds a path through the maze.</p>
<br>
<br>

<h2 id="Tips-for-Using-Recursion"><a href="#Tips-for-Using-Recursion" class="headerlink" title="Tips for Using Recursion"></a>Tips for Using Recursion</h2><p>Make sure the recursion stops.</p>
<blockquote>
<p>That usually means that the routine has a test that stops further recursion when it’s not needed.</p>
</blockquote>
<p>Use safety counters to prevent infinite recursion.</p>
<blockquote>
<p>If you’re using recursion in a situation that doesn’t allow a simple test such as the one just described, use a safety counter to prevent infinite recursion.<br>The safety counter has to be a variable that’s not re-created each time you call the routine.<br>Use a class member variable or pass the safety counter as a parameter.<br>If you don’t want to pass the safety counter as an explicit parameter, you could use a static variable</p>
</blockquote>
<br>
<br>

<p>Limit recursion to one routine.<br>Keep an eye on the stack.<br>Don’t use recursion for factorials or Fibonacci numbers.</p>
<img src="/blog/2025/03/20/P340/P340_49.png" class="">

<p>You should consider alternatives to recursion before using it.<br>You can do anything with stacks and iteration that you can do with recursion.</p>
<br>
<br>

<h2 id="goto"><a href="#goto" class="headerlink" title="goto"></a>goto</h2><p>记得摸老板很喜欢用goto.书里写了好处与坏处.<br>我跳过了,因为可以用其他方式替换.</p>
<div class="note ">
            <p>Use of gotos defeats compiler optimizations.<br>Some optimizations depend on a program’s flow of control residing within a few statements.<br>An unconditional goto makes the flow harder to analyze and reduces the ability of the compiler to optimize the code.</p><p>Proponents of gotos sometimes argue that they make code faster or smaller.<br>But code containing gotos is rarely the fastest or smallest possible.</p>
          </div>

<div class="note ">
            <p>A well-placed goto can eliminate the need for duplicate code.<br>Duplicate code leads to problems if the two sets of code are modified differently.<br>Duplicate code increases the size of source and executable files.<br>The bad effects of the goto are outweighed in such a case by the risks of duplicate code.</p><p>The goto is useful in a routine that allocates resources, performs operations on those resources, and then deallocates the resources.<br>With a goto, you can clean up in one section of code.<br>The goto reduces the likelihood of your forgetting to deallocate the resources in each place you detect an error.</p><p>Good programming doesn’t mean eliminating gotos.</p><p>The arguer on the “I can’t live without gotos” side usually presents a case in which eliminating a goto results in an extra comparison or the duplication of a line of code.<br>This proves mainly that there’s a case in which using a goto results in one less comparison—not a significant gain on today’s computers.</p>
          </div>

<br>
<br>

<p><strong>Error Processing and gotos</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x27; This routine purges a group of files.</span><br><span class="line">Sub PurgeFiles( ByRef errorState As Error_Code )</span><br><span class="line"> Dim fileIndex As Integer</span><br><span class="line"> Dim fileToPurge As Data_File</span><br><span class="line"> Dim fileList As File_List</span><br><span class="line"> Dim numFilesToPurge As Integer</span><br><span class="line"> MakePurgeFileList( fileList, numFilesToPurge )</span><br><span class="line"></span><br><span class="line">errorState = FileStatus_Success</span><br><span class="line">fileIndex = 0</span><br><span class="line">While ( fileIndex &lt; numFilesToPurge )</span><br><span class="line">  fileIndex = fileIndex + 1</span><br><span class="line">  If Not ( FindFile( fileList( fileIndex ), fileToPurge ) ) Then</span><br><span class="line">    errorState = FileStatus_FileFindError</span><br><span class="line">    GoTo END_PROC</span><br><span class="line">  End If</span><br><span class="line"></span><br><span class="line">  If Not OpenFile( fileToPurge ) Then</span><br><span class="line">    errorState = FileStatus_FileOpenError</span><br><span class="line">    GoTo END_PROC</span><br><span class="line">  End If</span><br><span class="line"></span><br><span class="line">  If Not OverwriteFile( fileToPurge ) Then</span><br><span class="line">    errorState = FileStatus_FileOverwriteError</span><br><span class="line">    GoTo END_PROC</span><br><span class="line">  End If</span><br><span class="line"></span><br><span class="line">  if Erase( fileToPurge ) Then</span><br><span class="line">    errorState = FileStatus_FileEraseError</span><br><span class="line">    GoTo END_PROC</span><br><span class="line">  End If</span><br><span class="line"></span><br><span class="line">Wend</span><br><span class="line"></span><br><span class="line">END_PROC:</span><br><span class="line">DeletePurgeFileList( fileList, numFilesToPurge )</span><br><span class="line">End Sub</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>This routine is typical of circumstances in which experienced programmers decide to use a goto.<br>Similar cases come up when a routine needs to allocate and clean up resources like database connections, memory, or temporary files.<br>The alternative to gotos in those cases is usually duplicating code to clean up the resources.</p>
<br>
<br>

<p><em>Here’s a summary of guidelines for using gotos:</em></p>
<p>Use gotos to emulate structured control constructs in languages that don’t support them directly.<br>When you do, emulate them exactly.<br>Don’t abuse the extra flexibility the goto gives you.</p>
<p>Don’t use the goto when an equivalent built-in construct is available.</p>
<p>Measure the performance of any goto used to improve efficiency.<br>In most cases, you can recode without gotos for improved readability and no loss in efficiency.<br>If your case is the exception, document the efficiency improvement so that gotoless evangelists won’t remove the goto when they see it.</p>
<p>Limit yourself to one goto label per routine unless you’re emulating structured constructs.</p>
<p>Limit yourself to gotos that go forward, not backward, unless you’re emulating structured constructs.</p>
<p>Make sure all goto labels are used.<br>Unused labels might be an indication of missing code, namely the code that goes to the labels.<br>If the labels aren’t used, delete them.</p>
<p>Make sure a goto doesn’t create unreachable code.</p>
<p>If you’re a manager, adopt the perspective that a battle over a single goto isn’t worth the loss of the war.<br>If the programmer is aware of the alternatives and is willing to argue, the goto is probably OK.</p>
<br>
<br>

<h2 id="CHECKLIST-Unusual-Control-Structures"><a href="#CHECKLIST-Unusual-Control-Structures" class="headerlink" title="CHECKLIST: Unusual Control Structures"></a>CHECKLIST: Unusual Control Structures</h2><p><strong>return</strong></p>
<ul>
<li>Does each routine use return only when necessary?</li>
<li>Do returns enhance readability?</li>
</ul>
<br>
<br>

<p><strong>Recursion</strong></p>
<ul>
<li>Does the recursive routine include code to stop the recursion?</li>
<li>Does the routine use a safety counter to guarantee that the routine stops?</li>
<li>Is recursion limited to one routine?</li>
<li>Is the routine’s depth of recursion within the limits imposed by the size of the program’s stack?</li>
<li>Is recursion the best way to implement the routine? Is it better than simple iteration?</li>
</ul>
<br>
<br>

<p><strong>goto</strong></p>
<ul>
<li>Are gotos used only as a last resort, and then only to make code more readable and maintainable?</li>
<li>If a goto is used for the sake of efficiency, has the gain in efficiency been measured and documented?</li>
<li>Are gotos limited to one label per routine?</li>
<li>Do all gotos go forward, not backward?</li>
<li>Are all goto labels used?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Table-Driven-Methods"><a href="#Table-Driven-Methods" class="headerlink" title="Table-Driven Methods"></a>Table-Driven Methods</h1><p>When you use table-driven methods, you have to address two issues:</p>
<p>First you have to address the question of how to look up entries in the table.</p>
<p>Here’s a list of ways to look up an entry in a table:</p>
<ul>
<li>Direct access</li>
<li>Indexed access</li>
<li>Stair-step access</li>
</ul>
<p>The second issue you have to address if you’re using a table-driven method is what you should store in the table.</p>
<blockquote>
<p>In some cases, the result of a table lookup is data.<br>In other cases, the result of a table lookup is an action. I<br>n such a case, you can store a code that describes the action or, in some languages, you can store a reference to the routine that implements the action.</p>
</blockquote>
<h2 id="Direct-Access-Tables"><a href="#Direct-Access-Tables" class="headerlink" title="Direct Access Tables"></a>Direct Access Tables</h2><p>Like all lookup tables, direct-access tables replace more complicated logical control structures.</p>
<p>A table entry to describe one kind of message might look like this:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Message Begin</span><br><span class="line">   NumFields 5</span><br><span class="line">   MessageName &quot;Buoy Temperature Message&quot;</span><br><span class="line">   Field 1, FloatingPoint, &quot;Average Temperature&quot;</span><br><span class="line">   Field 2, FloatingPoint, &quot;Temperature Range&quot;</span><br><span class="line">   Field 3, Integer, &quot;Number of Samples&quot;</span><br><span class="line">   Field 4, String, &quot;Location&quot;</span><br><span class="line">   Field 5, TimeOfDay, &quot;Time of Measurement&quot;</span><br><span class="line">Message End</span><br></pre></td></tr></table></figure>

<p>Here’s how you would set up the object types in C++:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class AbstractField &#123;</span><br><span class="line">   public:</span><br><span class="line">   virtual void ReadAndPrint( string, FileStatus &amp; ) = 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class FloatingPointField : public AbstractField &#123;</span><br><span class="line">  public:</span><br><span class="line">  virtual void ReadAndPrint( string, FileStatus &amp; ) &#123; ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class IntegerField ...</span><br><span class="line">class StringField ... ...</span><br></pre></td></tr></table></figure>
<p>This code fragment declares a member routine for each class that has a string parameter and a FileStatus parameter.</p>
<p>The second step is to declare an array to hold the set of objects. The array is the lookup table, and here’s how it looks:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AbstractField* field[ Field_Last ];</span><br></pre></td></tr></table></figure>

<p>The final step required to set up the table of objects is to assign the names of specific objects to the Field array.<br>Here’s how those assignments would look:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">field[ Field_FloatingPoint ] = new FloatingPointField();</span><br><span class="line">field[ Field_Integer ] = new IntegerField();</span><br><span class="line">field[ Field_String ] = new StringField();</span><br><span class="line">field[ Field_TimeOfDay ] = new TimeOfDayField();</span><br><span class="line">field[ Field_Boolean ] = new BooleanField();</span><br><span class="line">field[ Field_BitField ] = new BitFieldField();</span><br></pre></td></tr></table></figure>

<p>Once the table of routines is set up, you can handle a field in the message simply by accessing the table of objects and calling one of the member routines in the table.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">messageIdx = 1;</span><br><span class="line">while ( ( messageIdx &lt;= numFieldsInMessage ) and ( fileStatus == OK ) ) &#123;</span><br><span class="line">  fieldType = fieldDescription[ messageIdx ].FieldType;</span><br><span class="line">  fieldName = fieldDescription[ messageIdx ].FieldName;</span><br><span class="line">  field[ fieldType ].ReadAndPrint( fieldName, fileStatus );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Fudging-Lookup-Keys"><a href="#Fudging-Lookup-Keys" class="headerlink" title="Fudging Lookup Keys"></a>Fudging Lookup Keys</h2><p>Duplicate information to make the key work directly.<br>Transform the key to make it work directly.<br>Isolate the key-transformation in its own routine.</p>
<h2 id="Indexed-Access-Tables"><a href="#Indexed-Access-Tables" class="headerlink" title="Indexed Access Tables"></a>Indexed Access Tables</h2><p>When you use indexes, you use the primary data to look up a key in an index table and then you use the value from the index table to look up the main data you’re interested in.</p>
<p>Indexed access schemes offer two main advantages.<br>First, if each of the entries in the main lookup table is large, it takes a lot less space to create an index array with a lot of wasted space than it does to create a main lookup table with a lot of wasted space.</p>
<p>The second advantage, even if you don’t save space by using an index, is that it’s sometimes cheaper to manipulate entries in an index than entries in a main table.</p>
<p>A final advantage of an index-access scheme is the general table-lookup advantage of maintainability.</p>
<h2 id="Stair-Step-Access-Tables"><a href="#Stair-Step-Access-Tables" class="headerlink" title="Stair-Step Access Tables"></a>Stair-Step Access Tables</h2><p>To use the stair-step method, you put the upper end of each range into a table and then write a loop to check a score against the upper end of each range.<br>When you find the point at which the score first exceeds the top of a range, you know what the grade is.<br>With the stair-step technique, you have to be careful to handle the endpoints of the ranges properly.</p>
<br>
<br>

<p>Watch the endpoints.<br>Consider using a binary search rather then a sequential search.<br>Consider using indexed access instead of the stair-step technique.<br>Put the stair-step table lookup into its own routine.</p>
<br>
<br>

<h2 id="CHECKLIST-Table-Driven-Methods"><a href="#CHECKLIST-Table-Driven-Methods" class="headerlink" title="CHECKLIST: Table-Driven Methods"></a>CHECKLIST: Table-Driven Methods</h2><ul>
<li>Have you considered table-driven methods as an alternative to complicated logic?</li>
<li>Have you considered table-driven methods as an alternative to complicated inheritance structures?</li>
<li>Have you considered storing the table’s data externally and reading it at run time so that the data can be modified without changing code?</li>
<li>If the table cannot be accessed directly via a straightforward array index (as in the Age example), have your put the access-key calculation into a routine rather than duplicating the index calculation in the code?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="General-Control-Issues"><a href="#General-Control-Issues" class="headerlink" title="General Control Issues"></a>General Control Issues</h1><p>Use the identifiers True and False in boolean expressions rather than using flags like 0 and 1.</p>
<p>Here are some tips on defining True and False in boolean tests:<br>Compare boolean values to True and False implicitly.<br>In C, use the 1==1 trick to define TRUE and FALSE.</p>
<br>
<br>

<h2 id="Making-Complicated-Expressions-Simple"><a href="#Making-Complicated-Expressions-Simple" class="headerlink" title="Making Complicated Expressions Simple"></a>Making Complicated Expressions Simple</h2><p>Break complicated tests into partial tests with new boolean variables.<br>Move complicated expressions into boolean functions.<br>Use decision tables to replace complicated conditions.</p>
<br>
<br>

<h2 id="Forming-Boolean-Expressions-Positively"><a href="#Forming-Boolean-Expressions-Positively" class="headerlink" title="Forming Boolean Expressions Positively"></a>Forming Boolean Expressions Positively</h2><p>In if statements, convert negatives to positives and flip-flop the code in the if and else clauses.<br>Apply DeMorgan’s Theorems to simplify boolean tests with negatives.</p>
<br>
<br>

<h2 id="Guidelines-for-Comparisons-to-0"><a href="#Guidelines-for-Comparisons-to-0" class="headerlink" title="Guidelines for Comparisons to 0"></a>Guidelines for Comparisons to 0</h2><p>&amp;&amp; (and) is evaluated left to right.<br>Compare logical variables implicitly.<br>Compare numbers to 0.</p>
<blockquote>
<p>Although it’s appropriate to compare logical expressions implicitly, you should compare numeric expressions explicitly. For numbers, write<br>while ( balance != 0 ) …<br>rather than<br>while ( balance ) …</p>
</blockquote>
<p>Compare pointers to NULL.</p>
<blockquote>
<p>For pointers, write<br>while ( bufferPtr != NULL ) …<br>rather than<br>while ( bufferPtr ) …</p>
</blockquote>
<p>In C and C++, put constants on the left side of comparisons.<br>In Java, know the difference between a==b and a.equals(b).</p>
<br>
<br>

<h2 id="Null-Statements"><a href="#Null-Statements" class="headerlink" title="Null Statements"></a>Null Statements</h2><p>Call attention to null statements.<br>Create a preprocessor null() macro or inline function for null statements.<br>Consider whether the code would be clearer with a non-null loop body.</p>
<br>
<br>

<h2 id="Taming-Dangerously-Deep-Nesting"><a href="#Taming-Dangerously-Deep-Nesting" class="headerlink" title="Taming Dangerously Deep Nesting"></a>Taming Dangerously Deep Nesting</h2><p>Simplify a nested if by retesting part of the condition.<br>Simplify a nested if by using a break block.<br>Convert a nested if to a set of if-then-elses.<br>Convert a nested if to a case statement.<br>Factor deeply nested code into its own routine.<br>Redesign deeply nested code.</p>
<div class="note ">
            <p>Summary of Techniques for Reducing Deep Nesting</p><ul><li>Retest part of the condition (this section)</li><li>Convert to if-then-elses (this section)</li><li>Convert to a case statement (this section)</li><li>Factor deeply nested code into its own routine (this section)</li><li>Use objects and polymorphic dispatch (this section)</li><li>Rewrite the code to use a status variable (in Section 17.3.)</li><li>Use guard clauses to exit a routine and make the nominal path through the code clearer (in Section 17.1.)</li><li>Use exceptions (Section 8.4)</li><li>Redesign deeply nested code entirely (this section)</li></ul>
          </div>

<br>
<br>

<h2 id="The-Three-Components-of-Structured-Programming"><a href="#The-Three-Components-of-Structured-Programming" class="headerlink" title="The Three Components of Structured Programming"></a>The Three Components of Structured Programming</h2><p><strong>Sequence</strong><br>A sequence is a set of statements executed in order.<br>Typical sequential statements include assignments and calls to routines.</p>
<p><strong>Selection</strong><br>A selection is a control structure that causes statements to be executed selectively.<br>The if-then-else statement is a common example.<br>Either the if-then clause or the else clause is executed, but not both.</p>
<p><strong>Iteration</strong><br>An iteration is a control structure that causes a group of statements to be executed multiple times.<br>An iteration is commonly referred to as a “loop.”</p>
<br>
<br>

<h2 id="CHECKLIST-Control-Structure-Issues"><a href="#CHECKLIST-Control-Structure-Issues" class="headerlink" title="CHECKLIST: Control-Structure Issues"></a>CHECKLIST: Control-Structure Issues</h2><ul>
<li>Do expressions use True and False rather than 1 and 0?</li>
<li>Are boolean values compared to True and False implicitly?</li>
<li>Are numeric values compared to their test values explicitly?</li>
<li>Have expressions been simplified by the addition of new boolean variables and the use of boolean functions and decision tables?</li>
<li>Are boolean expressions stated positively?</li>
<li>Do pairs of braces balance?</li>
<li>Are braces used everywhere they’re needed for clarity?</li>
<li>Are logical expressions fully parenthesized?</li>
<li>Have tests been written in number-line order?</li>
<li>Do Java tests uses a.equals(b) style instead of a == b when appropriate? Are null statements obvious?</li>
<li>Have nested statements been simplified by retesting part of the conditional, converting to if-then-else or case statements, moving nested code into its own routine, converting to a more object-oriented design, or improved in some other way?</li>
<li>If a routine has a decision count of more than 10, is there a good reason for not redesigning it?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="The-Software-Quality-Landscape"><a href="#The-Software-Quality-Landscape" class="headerlink" title="The Software-Quality Landscape"></a>The Software-Quality Landscape</h1><p>External characteristics are characteristics that a user of the software product is aware of:</p>
<div class="note ">
            <p>Correctness. The degree to which a system is free from faults in its specification, design, and implementation.</p><p>Usability. The ease with which users can learn and use a system.</p><p>Efficiency. Minimal use of system resources, including memory and execution time.</p><p>Reliability. The ability of a system to perform its required functions under stated conditions whenever required—having a long mean time between failures.</p><p>Integrity. The degree to which a system prevents unauthorized or improper access to its programs and its data. The idea of integrity includes restricting unauthorized user accesses as well as ensuring that data is accessed properly—that is, that tables with parallel data are modified in parallel, that date fields contain only valid dates, and so on.</p><p>Adaptability. The extent to which a system can be used, without modification, in applications or environments other than those for which it was specifically designed.</p><p>Accuracy. The degree to which a system, as built, is free from error, especially with respect to quantitative outputs. Accuracy differs from correctness; it is a determination of how well a system does the job it’s built for rather than whether it was built correctly.</p><p>Robustness. The degree to which a system continues to function in the presence of invalid inputs or stressful environmental conditions.</p>
          </div>

<br>
<br>

<p>External characteristics of quality are the only kind of software characteristics that users care about.</p>
<div class="note ">
            <p>Maintainability. The ease with which you can modify a software system to change or add capabilities, improve performance, or correct defects.</p><p>Flexibility. The extent to which you can modify a system for uses or environments other than those for which it was specifically designed.</p><p>Portability. The ease with which you can modify a system to operate in an environment different from that for which it was specifically designed.</p><p>Reusability. The extent to which and the ease with which you can use parts of a system in other systems.</p><p>Readability. The ease with which you can read and understand the source code of a system, especially at the detailed-statement level.</p><p>Testability. The degree to which you can unit-test and system-test a system; the degree to which you can verify that the system meets its requirements.</p><p>Understandability. The ease with which you can comprehend a system at both the system-organizational and detailed-statement levels. Understandability has to do with the coherence of the system at a more general level than readability does.</p>
          </div>

<br>
<br>

<h2 id="Techniques-for-Improving-Software-Quality"><a href="#Techniques-for-Improving-Software-Quality" class="headerlink" title="Techniques for Improving Software Quality"></a>Techniques for Improving Software Quality</h2><p>Software-quality objectives.<br>Explicit quality-assurance activity.<br>Testing strategy.<br>Software-engineering guidelines.<br>Informal technical reviews.<br>Formal technical reviews.<br>External audits.<br>Development process.<br>Change-control procedures.<br>Measurement of results.<br>Prototyping.</p>
<br>
<br>

<h2 id="Cost-of-Defects"><a href="#Cost-of-Defects" class="headerlink" title="Cost of Defects"></a>Cost of Defects</h2><p>Recommended combination:</p>
<ul>
<li>Formal design inspections of the critical parts of a system</li>
<li>Modeling or prototyping using a rapid prototyping technique</li>
<li>Code reading or inspections</li>
<li>Execution testing</li>
</ul>
<br>
<br>

<h2 id="CHECKLIST-A-Quality-Assurance-Plan"><a href="#CHECKLIST-A-Quality-Assurance-Plan" class="headerlink" title="CHECKLIST: A Quality-Assurance Plan"></a>CHECKLIST: A Quality-Assurance Plan</h2><ul>
<li>Have you identified specific quality characteristics that are important to your project?</li>
<li>Have you made others aware of the project’s quality objectives?</li>
<li>Have you differentiated between external and internal quality<br>characteristics?</li>
<li>Have you thought about the ways in which some characteristics may compete with or complement others?</li>
<li>Does your project call for the use of several different error-detection techniques suited to finding several different kinds of errors?</li>
<li>Does your project include a plan to take steps to assure software quality during each stage of software development?</li>
<li>Is the quality measured in some way so that you can tell whether it’s improving or degrading?</li>
<li>Does management understand that quality assurance incurs additional costs up front in order to save costs later?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Collaborative-Construction"><a href="#Collaborative-Construction" class="headerlink" title="Collaborative Construction"></a>Collaborative Construction</h1><p>With collective ownership, all code is owned by the group rather than by individuals and can be modified by various members of the group.<br>This produces several valuable benefits:</p>
<p>Better code quality arises from multiple sets of eyes seeing the code and multiple programmers working on the code.<br>The risk of someone leaving the project is lower because multiple people are familiar with each section of code.<br>Defect-correction cycles are shorter overall because any of several programmers can potentially be assigned to fix bugs on an as-available basis.</p>
<br>
<br>

<h2 id="Pair-Programming"><a href="#Pair-Programming" class="headerlink" title="Pair Programming"></a>Pair Programming</h2><h3 id="Keys-to-Success-with-Pair-Programming"><a href="#Keys-to-Success-with-Pair-Programming" class="headerlink" title="Keys to Success with Pair Programming"></a>Keys to Success with Pair Programming</h3><p>Support pair programming with coding standards.<br>Don’t let pair programming turn into watching.<br>Don’t force pair programming of the easy stuff.<br>Rotate pairs and work assignments regularly.<br>Encourage pairs to match each other’s pace.<br>Make sure both partners can see the monitor.<br>Don’t force people who don’t like each other to pair.<br>Avoid pairing all newbies.<br>Assign a team leader.</p>
<br>
<br>

<h3 id="CHECKLIST-Effective-Pair-Programming"><a href="#CHECKLIST-Effective-Pair-Programming" class="headerlink" title="CHECKLIST: Effective Pair Programming"></a>CHECKLIST: Effective Pair Programming</h3><ul>
<li>Do you have a coding standard to support pair programming that’s focused on programming rather than on philosophical coding-style discussions?</li>
<li>Are both partners participating actively?</li>
<li>Are you avoiding pair programming everything, instead selecting the<br>assignments that will really benefit from pair programming?</li>
<li>Are you rotating pair assignments and work assignments regularly?</li>
<li>Are the pairs well matched in terms of pace and personality?</li>
<li>Is there a team leader to act as the focal point for management and other people outside the project?</li>
</ul>
<br>
<br>

<h2 id="Formal-Inspections"><a href="#Formal-Inspections" class="headerlink" title="Formal Inspections"></a>Formal Inspections</h2><p>An inspection differs from a run-of- the-mill review in several key ways:</p>
<ul>
<li>Checklists focus the reviewers’ attention on areas that have been problems in the past.</li>
<li>The emphasis is on defect detection, not correction.</li>
<li>Reviewers prepare for the inspection meeting beforehand and arrive with a list of the problems they’ve discovered.</li>
<li>Distinct roles are assigned to all participants.</li>
<li>The moderator of the inspection isn’t the author of the work product under inspection.</li>
<li>The moderator has received specific training in moderating inspections.</li>
<li>Data is collected at each inspection and is fed into future inspections to improve them.</li>
<li>General management doesn’t attend the inspection meeting. Technical leaders might.</li>
</ul>
<h2 id="Roles-During-an-Inspection"><a href="#Roles-During-an-Inspection" class="headerlink" title="Roles During an Inspection"></a>Roles During an Inspection</h2><p>Moderator.</p>
<blockquote>
<p>The moderator is responsible for keeping the inspection moving at a rate that’s fast enough to be productive but slow enough to find the most errors possible.</p>
</blockquote>
<p>Author.</p>
<blockquote>
<p>Otherwise, the author’s duties are to explain parts of the design or code that are unclear and, occasionally, to explain why things that seem like errors are actually acceptable.</p>
</blockquote>
<p>Reviewer.</p>
<blockquote>
<p>A reviewer of a design might be the programmer who will implement the design.<br>A tester or higher-level architect might also be involved.<br>The role of the reviewers is to find defects.</p>
</blockquote>
<p>Scribe.</p>
<blockquote>
<p>The scribe records errors that are detected and the assignments of action items during the inspection meeting.</p>
</blockquote>
<p>Management.</p>
<blockquote>
<p>Not usually a good idea.<br>The point of a software inspection is that it is a purely technical review.<br>Management’s presence changes the focus from technical to political.<br>Management has a right to know the results of an inspection, and an inspection report is prepared to keep management informed.</p>
</blockquote>
<p>Evaluation of performance should be based on final products, not on work that isn’t finished.<br>Overall, an inspection should have no fewer than three participants.<br>Having more than two to three reviewers doesn’t appear to increase the number of defects found.</p>
<br>
<br>

<h2 id="General-Procedure-for-an-Inspection"><a href="#General-Procedure-for-an-Inspection" class="headerlink" title="General Procedure for an Inspection"></a>General Procedure for an Inspection</h2><p>An inspection consists of several distinct stages:</p>
<p>Planning.</p>
<blockquote>
<p>The author gives the design or code to the moderator.<br>The moderator decides who will review the material and when and where the inspection meeting will occur.<br>Distributes the design or code and a checklist that focuses the attention of the inspectors.</p>
</blockquote>
<p>Overview.</p>
<blockquote>
<p>The design or code should speak for itself; the overview shouldn’t speak for it.</p>
</blockquote>
<p>Preparation.</p>
<blockquote>
<p>Each reviewer works alone for about 90 minutes to become familiar with the design or code.<br>The reviewers use the checklist to stimulate and direct their examination of the review materials.</p>
</blockquote>
<p>Perspectives.</p>
<blockquote>
<p>A reviewer might be asked to inspect the design or code from the point of view of the maintenance programmer, the customer, or the designer, for example.</p>
</blockquote>
<p>Scenarios.</p>
<blockquote>
<p>A scenario might also involve a specific task that a reviewer is assigned to perform, such as listing the specific requirements that a particular design element satisfies.</p>
</blockquote>
<p>Inspection Meeting.</p>
<blockquote>
<p>Don’t discuss solutions during the meeting.<br>The group should stay focused on identifying defects.<br>The meeting generally should not last more than two hours.</p>
</blockquote>
<br>
<br>

<h2 id="Inspection-Report"><a href="#Inspection-Report" class="headerlink" title="Inspection Report"></a>Inspection Report</h2><p>Within a day of the inspection meeting, the moderator produces an inspection report (email, or equivalent) that lists each defect, including its type and severity.</p>
<p>If you collect data on the time spent and the number of errors found over time, you can respond to challenges about inspection’s efficacy with hard data.<br>Data collection is also important because any new methodology needs to justify its existence.</p>
<p>Rework.</p>
<blockquote>
<p>The moderator assigns defects to someone, usually the author, for repair.</p>
</blockquote>
<p>Follow-Up.</p>
<blockquote>
<p>The moderator is responsible for seeing that all rework assigned during the inspection is carried out.<br>If more than 5 percent of the design or code needs to be reworked, the whole inspection process should be repeated.</p>
</blockquote>
<p>Third-Hour Meeting.</p>
<blockquote>
<p>Even though during the inspection participants aren’t allowed to discuss solutions to the problems raised, some might still want to.<br>You can hold an informal, third-hour meeting to allow interested parties to discuss solutions after the official inspection is over.</p>
</blockquote>
<p>Fine-Tuning the Inspection.</p>
<br>
<br>

<h2 id="CHECKLIST-Effective-Inspections"><a href="#CHECKLIST-Effective-Inspections" class="headerlink" title="CHECKLIST: Effective Inspections"></a>CHECKLIST: Effective Inspections</h2><ul>
<li>Do you have checklists that focus reviewer attention on areas that have been problems in the past?</li>
<li>Is the emphasis on defect detection rather than correction?</li>
<li>Are inspectors given enough time to prepare before the inspection meeting, and is each one prepared?</li>
<li>Does each participant have a distinct role to play?</li>
<li>Does the meeting move at a productive rate?</li>
<li>Is the meeting limited to two hours?</li>
<li>Has the moderator received specific training in conducting inspections?</li>
<li>Is data about error types collected at each inspection so that you can tailor future checklists to your organization?</li>
<li>Is data about preparation and inspection rates collected so that you can optimize future preparation and inspections?</li>
<li>Are the action items assigned at each inspection followed up, either personally by the moderator or with a re-inspection?</li>
<li>Does management understand that it should not attend inspection meetings?</li>
</ul>
<br>
<br>

<h2 id="Other-Kinds-of-Collaborative-Development-Practices"><a href="#Other-Kinds-of-Collaborative-Development-Practices" class="headerlink" title="Other Kinds of Collaborative Development Practices"></a>Other Kinds of Collaborative Development Practices</h2><h3 id="Walkthroughs"><a href="#Walkthroughs" class="headerlink" title="Walkthroughs"></a>Walkthroughs</h3><blockquote>
<p>The term is loosely defined, and at least some of its popularity can be attributed to the fact that people can call virtually any kind of review a “walkthrough.”</p>
</blockquote>
<div class="note ">
            <ul><li>The walkthrough is usually hosted and moderated by the author of the design or code under review.</li><li>The walkthrough focuses on technical issues; it’s a working meeting.</li><li>All participants prepare for the walkthrough by reading the design or code and looking for errors.</li><li>The walkthrough is a chance for senior programmers to pass on experience and corporate culture to junior programmers. It’s also a chance for junior programmers to present new methodologies and to challenge timeworn, possibly obsolete, assumptions.</li><li>A walkthrough usually lasts 30 to 60 minutes.</li><li>The emphasis is on error detection, not correction.</li><li>Management doesn’t attend.</li><li>The walkthrough concept is flexible and can be adapted to the specific needs of the organization using it.</li></ul>
          </div>

<p>A review is basically a meeting, and meetings are expensive.<br>If the work product you’re reviewing doesn’t justify the overhead of a formal inspection, it doesn’t justify the overhead of a meeting at all.<br>You’re better off using document reading or another less interactive approach.</p>
<br>
<br>

<h3 id="Code-Reading"><a href="#Code-Reading" class="headerlink" title="Code Reading"></a>Code Reading</h3><p>You also comment on qualitative aspects of the code such as its design, style, readability, maintainability, and efficiency.</p>
<p>A code reading usually involves two or more people reading code independently and then meeting with the author of the code to discuss it.</p>
<br>
<br>

<div class="note ">
            <ul><li>In preparation for the meeting, the author of the code hands out source listings to the code readers. - The listings are from 1000 to 10,000 lines of code; 4000 lines is typical.</li><li>Two or more people read the code. Use at least two people to encourage competition between the reviewers. If you use more than two, measure everyone’s contribution so that you know how much the extra people contribute.</li><li>Reviewers read the code independently. Estimate a rate of about 1000 lines a day.</li><li>When the reviewers have finished reading the code, the code-reading meeting is hosted by the author of the code. The meeting lasts one or two hours and focuses on problems discovered by the code readers. No one makes any attempt to walk through the code line by line. The meeting is not even strictly necessary.</li><li>The author of the code fixes the problems identified by the reviewers.</li></ul>
          </div>

<p>The difference between code reading on the one hand and inspections and walkthroughs on the other is that code reading focuses more on individual review of the code than on the meeting.</p>
<br>
<br>

<h3 id="Dog-and-Pony-Shows"><a href="#Dog-and-Pony-Shows" class="headerlink" title="Dog-and-Pony Shows"></a>Dog-and-Pony Shows</h3><p>Dog-and-pony shows are reviews in which a software product is demonstrated to a customer.</p>
<blockquote>
<p>Preparing for them might have an indirect effect on technical quality, but usually more time is spent in making good-looking Microsoft Powerpoint slides than in improving the quality of the software.</p>
</blockquote>
<br>
<br>
<br>
<br>
<br>

<h1 id="Developer-Testing"><a href="#Developer-Testing" class="headerlink" title="Developer Testing"></a>Developer Testing</h1><p>Testing is a hard activity for most developers to swallow for several reasons:</p>
<div class="note ">
            <p>Testing’s goal runs counter to the goals of other development activities.<br>The goal is to find errors.<br>A successful test is one that breaks the software.<br>The goal of every other development activity is to prevent errors and keep the software from breaking.</p>
          </div>

<div class="note ">
            <p>Testing can never completely prove the absence of errors.<br>An absence of errors could mean ineffective or incomplete test cases as easily as it could mean perfect software.</p>
          </div>

<div class="note ">
            <p>Testing by itself does not improve software quality.<br>Test results are an indicator of quality, but in and of themselves, they don’t improve it.<br>If you want to improve your software, don’t just test more; develop better.</p>
          </div>

<div class="note ">
            <p>Testing requires you to assume that you’ll find errors in your code.<br>If you assume you won’t, you probably won’t, but only because you’ll have set up a self-fulfilling prophecy.<br>If you execute the program hoping that it won’t have any errors, it will be too easy to overlook the errors you find.<br>The main source of undetected errors was that erroneous output was not examined carefully enough. The errors were visible but the programmers didn’t notice them (Myers 1978).</p>
          </div>

<p>Depending on the project’s size and complexity, developer testing should probably take 8 to 25% of the total project time.</p>
<br>
<br>

<p>During construction you generally write a routine or class, check it mentally, and then review it or test it.<br>Regardless of your integration or system-testing strategy, you should test each unit thoroughly before you combine it with any others.</p>
<br>
<br>

<h2 id="Recommended-Approach-to-Developer-Testing"><a href="#Recommended-Approach-to-Developer-Testing" class="headerlink" title="Recommended Approach to Developer Testing"></a>Recommended Approach to Developer Testing</h2><ol>
<li>Test for each relevant requirement to make sure that the requirements have been implemented.<br>Plan the test cases for this step at the requirements stage or as early as possible—preferably before you begin writing the unit to be tested.<br>Consider testing for common omissions in requirements.<br>The level of security, storage, the installation procedure, and system reliability are all fair game for testing and are often overlooked at requirements time.</li>
</ol>
<br>
<br>

<ol start="2">
<li>Test for each relevant design concern to make sure that the design has been implemented.<br>Plan the test cases for this step at the design stage or as early as possible—before you begin the detailed coding of the routine or class to be tested.</li>
</ol>
<br>
<br>

<ol start="3">
<li>Use “basis testing” to add detailed test cases to those that test the requirements and the design.<br>Add data-flow tests, and then add the remaining test cases needed to thoroughly exercise the code.<br>At a minimum, you should test every line of code.</li>
</ol>
<br>
<br>

<h2 id="Test-First-or-Test-Last"><a href="#Test-First-or-Test-Last" class="headerlink" title="Test First or Test Last?"></a>Test First or Test Last?</h2><p><em>Reasons to write test cases first:</em></p>
<p>Writing test cases before writing the code doesn’t take any more effort than writing test cases after the code; it simply resequences the test-case-writing activity.</p>
<p>When you write test cases first, you detect defects earlier and you can correct them more easily.<br>Writing test cases first forces you to think at least a little bit about the requirements and design before writing code, which tends to produce better code.</p>
<p>Writing test cases first exposes requirements problems sooner, before the code is written, because it’s hard to write a test case for a poor requirement.</p>
<p>If you save your test cases (which you should), you can still test last, in addition to testing first.</p>
<br>
<br>

<h2 id="Limitations-of-Developer-Testing"><a href="#Limitations-of-Developer-Testing" class="headerlink" title="Limitations of Developer Testing"></a>Limitations of Developer Testing</h2><p>Developer tests tend to be “clean tests”.<br><em>Code works (clean tests); code breaks (dirty tests).</em></p>
<blockquote>
<p>Mature testing organizations tend to have five dirty tests for every clean test.<br>This ratio is not reversed by reducing the clean tests; it’s done by creating 25 times as many dirty tests.</p>
</blockquote>
<p>Developer testing tends to have an optimistic view of test coverage.</p>
<p>Developer testing tends to skip more sophisticated kinds of test coverage.</p>
<blockquote>
<p>A better coverage standard is to meet what’s called “100% branch coverage,” with every predicate term being tested for at least one true and one false value.</p>
</blockquote>
<br>
<br>

<h2 id="Bag-of-Testing-Tricks"><a href="#Bag-of-Testing-Tricks" class="headerlink" title="Bag of Testing Tricks"></a>Bag of Testing Tricks</h2><p>When you’re planning tests, eliminate <strong>those that don’t tell you anything new</strong>— that is, tests on new data that probably won’t produce an error if other, similar data didn’t produce an error.</p>
<br>
<br>

<p><strong>Structured basis testing</strong> is a fairly simple concept.<br>The idea is that you need to test each statement in a program at least once.</p>
<div class="note ">
            <p>Determining the Number of Test Cases Needed for Structured Basis Testing.</p><ol><li>Start with 1 for the straight path through the routine.</li><li>Add 1 for each of the following keywords, or their equivalents: if, while, repeat, for, and, and or.</li><li>Add 1 for each case in a case statement. If the case statement doesn’t have a default case, add 1 more.</li></ol>
          </div>

<br>
<br>

<h2 id="Data-Flow-Testing"><a href="#Data-Flow-Testing" class="headerlink" title="Data-Flow Testing"></a>Data-Flow Testing</h2><p>Data can exist in one of three states:</p>
<p><strong>Defined</strong><br>The data has been initialized, but it hasn’t been used yet.</p>
<p><strong>Used</strong><br>The data has been used for computation, as an argument to a routine, or for something else.</p>
<p><strong>Killed</strong><br>The data was once defined, but it has been undefined in some way.</p>
<blockquote>
<p>For example, if the data is a pointer, perhaps the pointer has been freed.<br>If it’s a for-loop index, perhaps the program is out of the loop and the programming language doesn’t define the value of a for-loop index once it’s outside the loop.<br>If it’s a pointer to a record in a file, maybe the file has been closed and the record pointer is no longer valid.</p>
</blockquote>
<br>
<br>

<p>In addition to having the terms “defined,” “used,” and “killed,” it’s convenient to have terms that describe entering or exiting a routine immediately before or after doing something to a variable:</p>
<p><strong>Entered</strong><br>The control flow enters the routine immediately before the variable is acted upon.<br>A working variable is initialized at the top of a routine, for example.</p>
<p><strong>Exited</strong><br>The control flow leaves the routine immediately after the variable is acted upon.<br>A return value is assigned to a status variable at the end of a routine, for example.</p>
<br>
<br>

<p>View the following patterns suspiciously:</p>
<p><strong>Defined-Killed</strong><br>Defining a variable and then killing it suggests either that the variable is extraneous or that the code that was supposed to use the variable is missing.</p>
<p><strong>Entered-Killed</strong><br>This is a problem if the variable is a local variable.<br>It wouldn’t need to be killed if it hasn’t been defined or used.<br>If, on the other hand, it’s a routine parameter or a global variable, this pattern is all right as long as the variable is defined somewhere else before it’s killed.</p>
<p><strong>Killed-Used</strong><br>Using a variable after it has been killed is a logical error.<br>If the code seems to work anyway (for example, a pointer that still points to memory that’s been freed), that’s an accident, and Murphy’s Law says that the code will stop working at the time when it will cause the most mayhem.</p>
<br>
<br>

<p><strong>Used-Defined</strong><br>Using and then defining a variable might or might not be a problem, depending on whether the variable was also defined before it was used.<br>Certainly if you see a used-defined pattern, it’s worthwhile to check for a previous definition.</p>
<p>Check for these anomalous sequences of data states before testing begins.<br>After you’ve checked for the anomalous sequences, the key to writing data-flow test cases is to exercise all possible defined-used paths.</p>
<br>
<br>

<p>You can do this to various degrees of thoroughness, including</p>
<p><strong>All definitions.</strong><br>Test every definition of every variable (that is, every place at which any variable receives a value).<br>This is a weak strategy because if you try to exercise every line of code you’ll do this by default.</p>
<p><strong>All defined-used combinations.</strong><br>Test every combination of defining a variable in one place and using it in another.<br>This is a stronger strategy than testing all definitions because merely executing every line of code does not guarantee that every defined-used combination will be tested.</p>
<br>
<br>

<h2 id="Error-Guessing"><a href="#Error-Guessing" class="headerlink" title="Error Guessing"></a>Error Guessing</h2><p>The term “error guessing” is a lowbrow name for a sensible concept.<br>It means creating test cases based upon guesses about where the program might have errors, although it implies a certain amount of sophistication in the guessing.</p>
<p>When you keep records of the kinds of errors you’ve made before, you improve the likelihood that your “error guess” will discover an error.</p>
<br>
<br>

<h3 id="Boundary-Analysis"><a href="#Boundary-Analysis" class="headerlink" title="Boundary Analysis"></a>Boundary Analysis</h3><p>Boundary analysis also applies to minimum and maximum allowable values.</p>
<h3 id="Compound-Boundaries"><a href="#Compound-Boundaries" class="headerlink" title="Compound Boundaries"></a>Compound Boundaries</h3><h3 id="Classes-of-Bad-Data"><a href="#Classes-of-Bad-Data" class="headerlink" title="Classes of Bad Data"></a>Classes of Bad Data</h3><p>Typical bad-data test cases include</p>
<ul>
<li>Too little data (or no data)</li>
<li>Too much data</li>
<li>The wrong kind of data (invalid data)</li>
<li>The wrong size of data</li>
<li>Uninitialized data</li>
</ul>
<br>
<br>

<h3 id="Classes-of-Good-Data"><a href="#Classes-of-Good-Data" class="headerlink" title="Classes of Good Data"></a>Classes of Good Data</h3><p>Here are other kinds of good data that are worth checking:</p>
<ul>
<li>Nominal cases—middle-of-the-road, expected values</li>
<li>Minimum normal configuration</li>
<li>Maximum normal configuration</li>
<li>Compatibility with old data</li>
</ul>
<blockquote>
<p>The minimum normal configuration is useful for testing not just one item, but a group of items.<br>It’s similar in spirit to the boundary condition of many minimal values, but it’s different in that it creates the set of minimum values out of the set of what is normally expected.</p>
</blockquote>
<br>
<br>

<h2 id="Typical-Errors"><a href="#Typical-Errors" class="headerlink" title="Typical Errors"></a>Typical Errors</h2><p>The scope of most errors is fairly limited.<br>Many errors are outside the domain of construction.<br>Most construction errors are the programmers’ fault.<br>Clerical errors (typos) are a surprisingly common source of problems.<br>Misunderstanding the design is a recurring theme in studies of programmer errors.<br>Most errors are easy to fix.<br>It’s a good idea to measure your own organization’s experiences with errors.</p>
<br>
<br>

<div class="note ">
            <p>On small projects, construction defects make up the vast bulk of all errors.<br>In one study of coding errors on a small project (1000 lines of code), 75% of defects resulted from coding, compared to 10% from requirements and 15% from design (Jones 1986a).<br>This error breakdown appears to be representative of many small projects.</p>
          </div>

<div class="note ">
            <p>Construction defects account for at least 35% of all defects.<br>Although the proportion of construction defects is smaller on large projects, they still account for at least 35% of all defects (Beizer 1990, Jones 2000).<br>Some researchers have reported proportions in the 75% range even on very large projects (Grady 1987).<br>In general, the better the application area is understood, the better the overall architecture is.<br>Errors then tend to be concentrated in detailed design and coding (Basili and Perricone 1984).</p>
          </div>

<div class="note ">
            <p>Construction errors, though cheaper to fix than requirements and design errors, are still expensive.<br>When the greater number of construction defects was figured into the overall equation, the total cost to fix construction defects was one to two times as much as the cost attributed to design defects.</p>
          </div>

<p>The General Principle of Software Quality:<br>It’s cheaper to build high-quality software than it is to build and fix low-quality software.</p>
<br>
<br>

<p><em>The error’s in the test data!</em><br><em>How idiotic it feels to waste hours tracking down an error in the test data rather than in the code!</em></p>
<p>Plug unit tests into a test framework.<br>Write code for unit tests first, but integrate them into a system-wide test framework (like JUnit) as you complete each test.</p>
<br>
<br>

<h2 id="Building-Scaffolding-to-Test-Individual-Classes"><a href="#Building-Scaffolding-to-Test-Individual-Classes" class="headerlink" title="Building Scaffolding to Test Individual Classes"></a>Building Scaffolding to Test Individual Classes</h2><p>One kind of scaffolding is a class that’s dummied up so that it can be used by another class that’s being tested.<br>Such a class is called a “mock object” or “stub object”.</p>
<p>It can:</p>
<ul>
<li>Return control immediately, having taken no action Test the data fed to it</li>
<li>Print a diagnostic message, perhaps an echo of the input parameters, or log a message to a file</li>
<li>Get return values from interactive input</li>
<li>Return a standard answer regardless of the input</li>
<li>Burn up the number of clock cycles allocated to the real object or routine</li>
<li>Function as a slow, fat, simple, or less accurate version of the real object or routine.</li>
</ul>
<br>
<br>

<p>Another kind of scaffolding is a fake routine that calls the real routine being tested.<br>This is called a “driver” or, sometimes, a “test harness.”</p>
<p>It can:</p>
<ul>
<li>Call the object with a fixed set of inputs</li>
<li>Prompt for input interactively and call the object with it</li>
<li>Take arguments from the command line (in operating systems that support it) and call the object</li>
<li>Read arguments from a file and call the object</li>
<li>Run through predefined sets of input data in multiple calls to the object</li>
</ul>
<br>
<br>

<p><strong>Diff Tools</strong></p>
<p><strong>Test-Data Generators</strong><br>You can also write code to exercise selected pieces of a program systematically.</p>
<br>
<br>

<h2 id="System-Perturbers"><a href="#System-Perturbers" class="headerlink" title="System Perturbers"></a>System Perturbers</h2><p>Another class of test-support tools are designed to perturb a system.</p>
<blockquote>
<p>Many people have stories of programs that work 99 times out of 100 but fail on the hundredth run-through with the same data.<br>The problem is nearly always a failure to initialize a variable somewhere, and it’s usually hard to reproduce because 99 times out of 100 the uninitialized variable happens to be 0.</p>
</blockquote>
<p>This class includes tools that have a variety of capabilities:</p>
<p><strong>Memory filling.</strong><br>You want to be sure you don’t have any uninitialized variables.<br>Some tools fill memory with arbitrary values before you run your program so that uninitialized variables aren’t set to 0 accidentally. In some cases, the memory may be set to a specific value.</p>
<p><strong>Memory shaking.</strong><br>In multi-tasking systems, some tools can rearrange memory as your program operates so that you can be sure you haven’t written any code that depends on data being in absolute rather than relative locations.</p>
<p><strong>Selective memory failing.</strong><br>A memory driver can simulate low-memory conditions in which a program might be running out of memory, fail on a memory request, grant an arbitrary number of memory requests before failing, or fail on an arbitrary number of requests before granting one.<br>This is especially useful for testing complicated programs that work with dynamically allocated memory.</p>
<p><strong>Memory-access checking (bounds checking).</strong><br>Bounds checkers watch pointer operations to make sure your pointers behave themselves.<br>Such a tool is useful for detecting uninitialized or dangling pointers.</p>
<br>
<br>

<h2 id="Error-Databases"><a href="#Error-Databases" class="headerlink" title="Error Databases"></a>Error Databases</h2><p>One powerful test tool is a database of errors that have been reported.<br>Such a database is both a management and a technical tool.<br>It allows you to check for recurring errors, track the rate at which new errors are being detected and corrected, and track the status of open and closed errors and their severity.</p>
<br>
<br>

<h2 id="Planning-to-Test"><a href="#Planning-to-Test" class="headerlink" title="Planning to Test"></a>Planning to Test</h2><p>One key to effective testing is planning from the beginning of the project to test.<br>Test planning is also an element of making the testing process repeatable.<br>If you can’t repeat it, you can’t improve it.</p>
<br>
<br>

<h3 id="Retesting-Regression-Testing"><a href="#Retesting-Regression-Testing" class="headerlink" title="Retesting (Regression Testing)"></a>Retesting (Regression Testing)</h3><p>Suppose that you’ve tested a product thoroughly and found no errors.<br>Suppose that the product is then changed in one area and you want to be sure that it still passes all the tests it did before the change—that the change didn’t introduce any new defects.<br>Testing designed to make sure the software hasn’t taken a step backwards, or “regressed,” is called “regression testing.”</p>
<p>If you run different tests after each change, you have no way of knowing for sure that no new defects have been introduced.<br>Consequently, regression testing must run the same tests each time.<br>Sometimes new tests are added as the product matures, but the old tests are kept too.</p>
<br>
<br>

<h3 id="Automated-Testing"><a href="#Automated-Testing" class="headerlink" title="Automated Testing"></a>Automated Testing</h3><p>The only practical way to manage regression testing is to automate it.<br>The main tools used to support automatic testing provide test scaffolding, generate input, capture output, and compare actual output with expected output.</p>
<br>
<br>

<h3 id="Keeping-Test-Records"><a href="#Keeping-Test-Records" class="headerlink" title="Keeping Test Records"></a>Keeping Test Records</h3><p>Here are a few kinds of data you can collect to measure your project:</p>
<ul>
<li>Administrative description of the defect (the date reported, the person who reported it, a title or description, the date fixed)</li>
<li>Full description of the problem</li>
<li>Steps to take to repeat the problem</li>
<li>Suggested workaround for the problem</li>
<li>Related defects</li>
<li>Severity of the problem—for example, fatal, bothersome, or cosmetic</li>
<li>Origin of the defect—requirements, design, coding, or testing</li>
<li>Subclassification of a coding defect—off-by-one, bad assignment, bad array index, bad routine call, and so on</li>
<li>Location of the fix for the defect</li>
<li>Classes and routines changed by the fix</li>
<li>Person responsible for the defect (this can be controversial and might be bad for morale)</li>
<li>Lines of code affected by the defect</li>
<li>Hours to find the defect</li>
<li>Hours to fix the defect</li>
</ul>
<br>
<br>

<p>Once you collect the data, you can crunch a few numbers to determine whether your project is getting sicker or healthier:</p>
<ul>
<li>Number of defects in each class, sorted from worst class to best</li>
<li>Number of defects in each routine, sorted from worst routine to best</li>
<li>Average number of testing hours per defect found</li>
<li>Average number of defects found per test case</li>
<li>Average number of programming hours per defect fixed</li>
<li>Percentage of code covered by test cases</li>
<li>Number of outstanding defects in each severity classification</li>
</ul>
<br>
<br>


<h2 id="Personal-Test-Records"><a href="#Personal-Test-Records" class="headerlink" title="Personal Test Records"></a>Personal Test Records</h2><p>In addition to project-level test records, you might find it useful to keep track of your personal test records.<br>These records can include both a checklist of the errors you most commonly make as well as a record of the amount of time you spend writing code, testing code, and correcting errors.</p>
<br>
<br>

<h2 id="CHECKLIST-Test-Cases"><a href="#CHECKLIST-Test-Cases" class="headerlink" title="CHECKLIST: Test Cases"></a>CHECKLIST: Test Cases</h2><ul>
<li>Does each requirement that applies to the class or routine have its own test case?</li>
<li>Does each element from the design that applies to the class or routine have its own test case?</li>
<li>Has each line of code been tested with at least one test case? Has this been verified by computing the minimum number of tests necessary to exercise each line of code?</li>
<li>Have all defined-used data-flow paths been tested with at least one test case?</li>
<li>Has the code been checked for data-flow patterns that are unlikely to be<br>correct, such as defined-defined, defined-exited, and defined-killed?</li>
<li>Has a list of common errors been used to write test cases to detect errors that have occurred frequently in the past?</li>
<li>Have all simple boundaries been tested—maximum, minimum, and off-by- one boundaries?</li>
<li>Have compound boundaries been tested—that is, combinations of input data that might result in a computed variable that’s too small or too large?</li>
<li>Do test cases check for the wrong kind of data—for example, a negative number of employees in a payroll program?</li>
<li>Are representative, middle-of-the-road values tested?</li>
<li>Is the minimum normal configuration tested?</li>
<li>Is the maximum normal configuration tested?</li>
<li>Is compatibility with old data tested? And are old hardware, old versions of the operating system, and interfaces with old versions of other software tested?</li>
<li>Do the test cases make hand-checks easy?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h1><p>Most of the defects you will have will be minor oversights and typos, easily found by looking at a source-code listing or stepping through the code in a debugger.</p>
<h2 id="Defects-as-Opportunities"><a href="#Defects-as-Opportunities" class="headerlink" title="Defects as Opportunities"></a>Defects as Opportunities</h2><p>Defects can:</p>
<p>Learn about the program you’re working on.<br>Learn about the kind of mistakes you make.<br>Learn about the quality of your code from the point of view of someone who has to read it.<br>Learn about how you solve problems.</p>
<blockquote>
<p>Do you guess randomly?<br>Do you need to improve?<br>Taking time to analyze and change the way you debug might be the quickest way to decrease the total amount of time it takes you to develop a program.</p>
</blockquote>
<p>Learn about how you fix defects.</p>
<blockquote>
<p>Do you make the easiest possible correction, by applying goto Band-Aids and special-case makeup that changes the symptom but not the problem?<br>Or do you make systemic corrections, demanding an accurate diagnosis and prescribing treatment for the heart of the problem?</p>
</blockquote>
<h2 id="The-Devil’s-Guide-to-Debugging"><a href="#The-Devil’s-Guide-to-Debugging" class="headerlink" title="The Devil’s Guide to Debugging"></a>The Devil’s Guide to Debugging</h2><p>他是在说反话对吧.</p>
<p>Find the defect by guessing.</p>
<blockquote>
<p>这不是我在136时做的(尼玛).</p>
</blockquote>
<p>Don’t waste time trying to understand the problem.</p>
<p>Fix the error with the most obvious fix.</p>
<blockquote>
<p>Don’t.</p>
</blockquote>
<img src="/blog/2025/03/20/P340/P340_50.png" class="">

<br>
<br>

<h2 id="The-Scientific-Method-of-Debugging"><a href="#The-Scientific-Method-of-Debugging" class="headerlink" title="The Scientific Method of Debugging"></a>The Scientific Method of Debugging</h2><div class="note ">
            <p>Here are the steps you go through when you use the scientific method:</p><ol><li>Gather data through repeatable experiments.</li><li>Form a hypothesis that accounts for the relevant data.</li><li>Design an experiment to prove or disprove the hypothesis.</li><li>Prove or disprove the hypothesis.</li><li>Repeat as needed.</li></ol>
          </div>

<div class="note ">
            <p>This process has many parallels in debugging.<br>Here’s an effective approach for finding a defect:</p><ol><li>Stabilize the error.</li><li>Locate the source of the error (the “fault”).<br>a. Gather the data that produces the defect.<br>b. Analyze the data that has been gathered and form a hypothesis about the defect.<br>c. Determine how to prove or disprove the hypothesis, either by testing the program or by examining the code.<br>d. Prove or disprove the hypothesis using the procedure identified in 2(c).</li><li>Fix the defect.</li><li>Test the fix.</li><li>Look for similar errors.</li></ol>
          </div>

<br>
<br>

<h2 id="Stabilize-the-Error"><a href="#Stabilize-the-Error" class="headerlink" title="Stabilize the Error"></a>Stabilize the Error</h2><p>An error that doesn’t occur predictably is usually an initialization error or a dangling-pointer problem.<br>If the calculation of a sum is right sometimes and wrong sometimes, a variable involved in the calculation probably isn’t being initialized properly.<br>If the problem is a strange and unpredictable phenomenon and you’re using pointers, you almost certainly have an uninitialized pointer or are using a pointer after the memory that it points to has been deallocated.</p>
<p>Stabilizing an error usually requires more than finding a test case that produces the error.<br>It includes narrowing the test case to the simplest one that still produces the error.</p>
<br>
<br>

<h2 id="Tips-for-Finding-Defects"><a href="#Tips-for-Finding-Defects" class="headerlink" title="Tips for Finding Defects"></a>Tips for Finding Defects</h2><p>Use all the data available to make your hypothesis.<br>Refine the test cases that produce the error.<br>Exercise the code in your unit test suite.<br>Use available tools.</p>
<blockquote>
<p>Numerous tools are available to support debugging sessions: interactive debuggers, picky compilers, memory checkers, and so on.<br>The right tool can make a difficult job easy.</p>
</blockquote>
<p>Reproduce the error several different ways.<br>Generate more data to generate more hypotheses.<br>Use the results of negative tests.<br>Brainstorm for possible hypotheses.<br>Narrow the suspicious region of the code.<br>Be suspicious of classes and routines that have had defects before.<br>Check code that’s changed recently.<br>Expand the suspicious region of the code.<br>Integrate incrementally.<br>Check for common defects.<br>Talk to someone else about the problem.<br>Take a break from the problem.</p>
<br>
<br>

<h2 id="Brute-Force-Debugging"><a href="#Brute-Force-Debugging" class="headerlink" title="Brute Force Debugging"></a>Brute Force Debugging</h2><p>By “brute force,” I’m referring to a technique that might be tedious, arduous, and time-consuming, but that it is guaranteed to solve the problem.</p>
<p>Here are some general candidates:</p>
<ul>
<li>Perform a full design and/or code review on the broken code</li>
<li>Throw away the section of code and redesign/recode it from scratch</li>
<li>Throw away the whole program and redesign/recode it from scratch</li>
<li>Compile code with full debugging information</li>
<li>Compile code at pickiest warning level and fix all the picky compiler warnings</li>
<li>Strap on a unit test harness and test the new code in isolation</li>
<li>Create an automated test suite and run it all night</li>
<li>Step through a big loop in the debugger manually until you get to the error condition</li>
<li>Instrument the code with print, display, or other logging statements</li>
<li>Replicate the end-user’s full machine configuration</li>
<li>Integrate new code in small pieces, fully testing each piece as its integrated</li>
</ul>
<br>
<br>

<p>Set a maximum time for quick and dirty debugging.<br>Make a list of brute force techniques.</p>
<br>
<br>

<h2 id="Syntax-Errors"><a href="#Syntax-Errors" class="headerlink" title="Syntax Errors"></a>Syntax Errors</h2><p>Don’t trust line numbers in compiler messages.<br>Don’t trust compiler messages.<br>Don’t trust the compiler’s second message.<br>Divide and conquer.<br>Find extra comments and quotation marks.</p>
<br>
<br>

<h2 id="Fixing-a-Defect"><a href="#Fixing-a-Defect" class="headerlink" title="Fixing a Defect"></a>Fixing a Defect</h2><p>Understand the problem before you fix it.<br>Understand the program, not just the problem.<br>Confirm the defect diagnosis.<br>Relax.<br>Save the original source code.<br>Fix the problem, not the symptom.</p>
<p>Change the code only for good reason.<br>Make one change at a time.<br>Check your fix.<br>Look for similar defects.</p>
<br>
<br>

<h2 id="Debugging-Tools—Obvious-and-Not-So-Obvious"><a href="#Debugging-Tools—Obvious-and-Not-So-Obvious" class="headerlink" title="Debugging Tools—Obvious and Not-So- Obvious"></a>Debugging Tools—Obvious and Not-So- Obvious</h2><p>Diff.<br>Compiler Warning Messages.<br>Set your compiler’s warning level to the highest, pickiest level possible and fix the code so that it doesn’t produce any compiler warnings.<br>Treat warnings as errors.<br>Initiate project wide standards for compile-time settings.</p>
<p>Extended Syntax and Logic Checking.<br>Execution Profiler.<br>Test Frameworks/Scaffolding.<br>Debugger.</p>
<br>
<br>

<h2 id="CHECKLIST-Debugging-Reminders"><a href="#CHECKLIST-Debugging-Reminders" class="headerlink" title="CHECKLIST: Debugging Reminders"></a>CHECKLIST: Debugging Reminders</h2><p><strong>Techniques for Finding Defects</strong></p>
<ul>
<li>Use all the data available to make your hypothesis</li>
<li>Refine the test cases that produce the error</li>
<li>Exercise the code in your unit test suite</li>
<li>Use available tools</li>
<li>Reproduce the error several different ways</li>
<li>Generate more data to generate more hypotheses</li>
<li>Use the results of negative tests</li>
<li>Brainstorm for possible hypotheses</li>
<li>Narrow the suspicious region of the code</li>
<li>Be suspicious of classes and routines that have had defects before</li>
<li>Check code that’s changed recently</li>
<li>Expand the suspicious region of the code</li>
<li>Integrate incrementally</li>
<li>Check for common defects</li>
<li>Talk to someone else about the problem</li>
<li>Take a break from the problem</li>
<li>Set a maximum time for quick and dirty debugging</li>
<li>Make a list of brute force techniques, and use them</li>
</ul>
<br>
<br>

<p><strong>Techniques for Syntax Errors</strong></p>
<ul>
<li>Don’t trust line numbers in compiler messages</li>
<li>Don’t trust compiler messages</li>
<li>Don’t trust the compiler’s second message</li>
<li>Divide and conquer</li>
<li>Find extra comments and quotation marks<br>Techniques for Fixing Defects</li>
<li>Understand the problem before you fix it</li>
<li>Understand the program, not just the problem</li>
<li>Confirm the defect diagnosis</li>
<li>Relax</li>
<li>Save the original source code</li>
<li>Fix the problem, not the symptom</li>
<li>Change the code only for good reason</li>
<li>Make one change at a time</li>
<li>Check your fix</li>
<li>Look for similar defects</li>
</ul>
<br>
<br>

<p><strong>General Approach to Debugging</strong></p>
<ul>
<li>Do you use debugging as an opportunity to learn more about your program, mistakes, code quality, and problem-solving approach?</li>
<li>Do you avoid the trial-and-error, superstitious approach to debugging?</li>
<li>Do you assume that errors are your fault?</li>
<li>Do you use the scientific method to stabilize intermittent errors?</li>
<li>Do you use the scientific method to find defects?</li>
<li>Rather than using the same approach every time, do you use several different techniques to find defects?</li>
<li>Do you verify that the fix is correct?</li>
<li>Do you use compiler warning messages, execution profiling, a test<br>framework, scaffolding, and interactive debugging?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Code-Tuning-Strategies"><a href="#Code-Tuning-Strategies" class="headerlink" title="Code-Tuning Strategies"></a>Code-Tuning Strategies</h1><h2 id="Quality-Characteristics-and-Performance"><a href="#Quality-Characteristics-and-Performance" class="headerlink" title="Quality Characteristics and Performance"></a>Quality Characteristics and Performance</h2><p>Users are more interested in tangible program characteristics than they are in code quality.<br>Users tend to be more interested in program throughput than raw performance.<br>Delivering software on time, providing a clean user interface, and avoiding downtime are often more significant.</p>
<br>
<br>

<p>Once you’ve chosen efficiency as a priority, whether its emphasis is on speed or on size, you should consider several options before choosing to improve either speed or size at the code level.<br>Think about efficiency from each of these view- points:</p>
<ul>
<li>Program requirements</li>
<li>System design</li>
<li>Class and routine design</li>
<li>Operating-system interactions</li>
<li>Code compilation</li>
<li>Hardware</li>
<li>Code tuning</li>
</ul>
<br>
<br>

<h2 id="Old-Wives’-Tales"><a href="#Old-Wives’-Tales" class="headerlink" title="Old Wives’ Tales"></a>Old Wives’ Tales</h2><p>Some common misapprehensions:</p>
<p>Reducing the lines of code in a high-level language improves the speed or size of the resulting machine code—false!</p>
<p>Certain operations are probably faster or smaller than others—false!</p>
<blockquote>
<p>There’s no room for “probably” when you’re talking about performance.<br>You must always measure performance to know whether your changes helped or hurt your program.</p>
</blockquote>
<p>You should optimize as you go—false!</p>
<blockquote>
<p>It’s almost impossible to identify performance bottlenecks before a program is working completely.<br>Focusing on optimization during initial development detracts from achieving other program objectives.</p>
</blockquote>
<p>A fast program is just as important as a correct one—false!</p>
<br>
<br>

<h2 id="When-to-Tune"><a href="#When-to-Tune" class="headerlink" title="When to Tune"></a>When to Tune</h2><p>Use a high-quality design.<br>Make the program right.<br>Make it modular and easily modifiable so that it’s easy to work on later.<br>When it’s complete and correct, check the performance.</p>
<br>
<br>

<p>Several common sources of inefficiency:</p>
<p>Input/output operations.</p>
<blockquote>
<p>One of the most significant sources of inefficiency is unnecessary I/O.</p>
</blockquote>
<p>System calls.</p>
<blockquote>
<p>Calls to system routines are often expensive.<br>System routines include in- put/output operations to disk, keyboard, screen, printer, or other device; mem- ory-management routines; and certain utility routines.</p>
</blockquote>
<p>Interpreted languages.<br>Errors.</p>
<br>
<br>

<h2 id="Measurement"><a href="#Measurement" class="headerlink" title="Measurement"></a>Measurement</h2><p>Whether you use someone else’s tool or write your own code to make the meas- urements, make sure that you’re measuring only the execution time of the code you’re tuning.<br>Use the number of CPU clock ticks allocated to your program rather than the time of day.<br>Otherwise, when the system switches from your pro- gram to another program, one of your routines will be penalized for the time spent executing another program.</p>
<br>
<br>

<h2 id="Summary-of-the-Approach-to-Code-Tuning"><a href="#Summary-of-the-Approach-to-Code-Tuning" class="headerlink" title="Summary of the Approach to Code Tuning"></a>Summary of the Approach to Code Tuning</h2><p>Here are the steps you should take as you consider whether code tuning can help improve the performance of a program:</p>
<ol>
<li>Develop the software using well-designed code that’s easy to understand and modify.</li>
<li>If performance is poor,<br>a. Save a working version of the code so that you can get back to the “last known good state.”<br>b. Measure the system to find hot spots.<br>c. Determine whether the weak performance comes from inadequate de- sign, data types, or algorithms and whether code tuning is appropriate. If code tuning isn’t appropriate, go back to step 1.<br>d. Tune the bottleneck identified in step (c).<br>e. Measure each improvement one at a time.<br>f. If an improvement doesn’t improve the code, revert to the code saved in step (a). (Typically, more than half the attempted tunings will produce only a negligible improvement in performance or degrade performance.)</li>
<li>Repeat from step 2.</li>
</ol>
<br>
<br>

<h2 id="CHECKLIST-Code-Tuning-Strategy"><a href="#CHECKLIST-Code-Tuning-Strategy" class="headerlink" title="CHECKLIST: Code-Tuning Strategy"></a>CHECKLIST: Code-Tuning Strategy</h2><p><strong>Overall Program Performance</strong></p>
<ul>
<li>Have you considered improving performance by changing the program re- quirements?</li>
<li>Have you considered improving performance by modifying the program’s design?</li>
<li>Have you considered improving performance by modifying the class design?</li>
<li>Have you considered improving performance by avoiding operating system interactions?</li>
<li>Have you considered improving performance by avoiding I/O?</li>
<li>Have you considered improving performance by using a compiled language<br>instead of an interpreted language?</li>
<li>Have you considered improving performance by using compiler optimiza- tions?</li>
<li>Have you considered improving performance by switching to different hardware?</li>
<li>Have you considered code tuning only as a last resort?</li>
</ul>
<p><strong>Code-Tuning Approach</strong></p>
<ul>
<li>Is your program fully correct before you begin code tuning?</li>
<li>Have you measured performance bottlenecks before beginning code tuning?</li>
<li>Have you measured the effect of each code-tuning change</li>
<li>Have you backed out the code-tuning changes that didn’t produce the in- tended improvement?</li>
<li>Have you tried more than one change to improve performance of each bot- tleneck, i.e., iterated?</li>
</ul>
<br>
<br>
<br>
<br>
<br>
<br>

<h1 id="Code-Tuning-Techniques"><a href="#Code-Tuning-Techniques" class="headerlink" title="Code-Tuning Techniques"></a>Code-Tuning Techniques</h1><p><strong>Order Tests by Frequency</strong></p>
<p>Arrange tests so that the one that’s fastest and most likely to be true is performed first.<br>It should be easy to drop through the normal case, and if there are inefficiencies, they should be in processing the uncommon cases.<br>This principle applies to case statements and to chains of if-then-elses.</p>
<br>
<br>

<p><strong>Substitute Table Lookups for Complicated Expressions</strong></p>
<p>In some circumstances, a table lookup may be quicker than traversing a complicated chain of logic.</p>
<br>
<br>

<p><strong>Use Lazy Evaluation</strong></p>
<p>If he waited long enough, he claimed, the things that weren’t important would be procrastinated into oblivion, and he wouldn’t waste his time doing them.<br>If a program uses lazy evaluation, it avoids doing any work until the work is needed.<br>Lazy evaluation is similar to just-in-time strategies that do the work closest to when it’s needed.</p>
<br>
<br>

<h2 id="Make-the-loop-itself-faster"><a href="#Make-the-loop-itself-faster" class="headerlink" title="Make the loop itself faster"></a>Make the loop itself faster</h2><p><strong>Unswitching</strong></p>
<p>If the decision doesn’t change while the loop is executing, you can unswitch the loop by making the decision outside the loop.</p>
<img src="/blog/2025/03/20/P340/P340_51.png" class="">

<p><strong>Jamming</strong></p>
<p>Jamming, or “fusion,” is the result of combining two loops that operate on the same set of elements.</p>
<p><strong>Unrolling</strong></p>
<p>The goal of loop unrolling is to reduce the amount of loop housekeeping.</p>
<p><strong>Minimizing the Work Inside Loops</strong></p>
<p><strong>Sentinel Values</strong></p>
<p><strong>Putting the Busiest Loop on the Inside when have nested loop</strong></p>
<p><strong>Strength Reduction</strong></p>
<p>Reducing strength means replacing an expensive operation such as multiplication with a cheaper operation such as addition.</p>
<br>
<br>

<h2 id="Data-Transformations"><a href="#Data-Transformations" class="headerlink" title="Data Transformations"></a>Data Transformations</h2><p>Use Integers Rather Than Floating-Point Numbers.<br>Use the Fewest Array Dimensions Possible.<br>Minimize Array References.<br>Use Supplementary Indexes.</p>
<blockquote>
<p>String-Length Index.<br>Independent, Parallel Index Structure.</p>
</blockquote>
<p>Use Caching.<br>Exploit Algebraic Identities.<br>Use Strength Reduction.</p>
<blockquote>
<p>Replace multiplication with addition.<br>Replace exponentiation with multiplication.<br>Replace trigonometric routines with their trigonometric identities.<br>Replace longlong integers with longs or ints (but watch for performance issues associated with using native-length vs. non-native–length integers)<br>Replace floating-point numbers with fixed-point numbers or integers.<br>Replace double-precision floating points with single-precision numbers.<br>Replace integer multiplication-by-two and division-by-two with shift operations.</p>
</blockquote>
<p>Initialize at Compile Time.</p>
<blockquote>
<p>If you’re using a named constant or a magic number in a routine call and it’s the only argument, that’s a clue that you could precompute the number, put it into a constant, and avoid the routine call.</p>
</blockquote>
<p>Be Wary of System Routines.<br>Use the Correct Type of Constants.<br>Precompute Results.</p>
<br>
<br>

<blockquote>
<p>Optimizing a program by precomputation can take several forms:</p>
</blockquote>
<ul>
<li>Computing results before the program executes and wiring them into constants that are assigned at compile time</li>
<li>Computing results before the program executes and hard-coding them into variables used at run time</li>
<li>Computing results before the program executes and putting them into a file that’s loaded at run time</li>
<li>Computing results once, at program startup, and then referencing them each time they’re needed</li>
<li>Computing as much as possible before a loop begins, minimizing the work done inside the loop</li>
<li>Computing results the first time they’re needed and storing them so that you can retrieve them when they’re needed again</li>
</ul>
<br>
<br>

<p>Eliminate Common Subexpressions.<br>Rewrite Routines In Line.<br>Recoding in Assembler.</p>
<br>
<br>

<h2 id="CHECKLIST-Code-Tuning-Techniques"><a href="#CHECKLIST-Code-Tuning-Techniques" class="headerlink" title="CHECKLIST: Code-Tuning Techniques"></a>CHECKLIST: Code-Tuning Techniques</h2><p><strong>Improve Both Speed and Size</strong></p>
<ul>
<li>Substitute table lookups for complicated logic</li>
<li>Jam loops</li>
<li>Use integer instead of floating-point variables</li>
<li>Initialize data at compile time</li>
<li>Use constants of the correct type</li>
<li>Precompute results</li>
<li>Eliminate common subexpressions</li>
<li>Translate key routines to assembler</li>
</ul>
<p><strong>Improve Speed Only</strong></p>
<ul>
<li>Stop testing when you know the answer</li>
<li>Order tests in case statements and if-then-else chains by frequency</li>
<li>Compare performance of similar logic structures</li>
<li>Use lazy evaluation</li>
<li>Unswitch loops that contain if tests</li>
<li>Unroll loops</li>
<li>Minimize work performed inside loops</li>
<li>Use sentinels in search loops</li>
<li>Put the busiest loop on the inside of nested loops</li>
<li>Reduce the strength of operations performed inside loops</li>
<li>Change multiple-dimension arrays to a single dimension</li>
<li>Minimize array references</li>
<li>Augment data types with indexes</li>
<li>Cache frequently used values</li>
<li>Exploit algebraic identities</li>
<li>Reduce strength in logical and mathematical expressions</li>
<li>Be wary of system routines</li>
<li>Rewrite routines in line</li>
</ul>
<br>
<br>

<h1 id="How-Program-Size-Affects-Construction"><a href="#How-Program-Size-Affects-Construction" class="headerlink" title="How Program Size Affects Construction"></a>How Program Size Affects Construction</h1><p>Communication and Size.<br>Range of Project Sizes.<br>Effect of Project Size on Errors.<br>Effect of Project Size on Productivity.<br>Effect of Project Size on Development Activities.<br>Activity Proportions and Size.</p>
<p>Here’s a list of activities that grow at a more-than-linear rate as project size increases:</p>
<ul>
<li>Communication</li>
<li>Planning</li>
<li>Management</li>
<li>Requirements development</li>
<li>System functional design</li>
<li>Interface design and specification</li>
<li>Architecture</li>
<li>Integration</li>
<li>Defect removal</li>
<li>System testing</li>
<li>Document production</li>
</ul>
<p>Programs, Products, Systems, and System Products.<br>Methodology and Size.</p>
<br>
<br>
<br>
<br>

<h1 id="Managing-Construction"><a href="#Managing-Construction" class="headerlink" title="Managing Construction"></a>Managing Construction</h1><h2 id="Considerations-in-Setting-Standards"><a href="#Considerations-in-Setting-Standards" class="headerlink" title="Considerations in Setting Standards"></a>Considerations in Setting Standards</h2><p>Here are several techniques for achieving good coding practices that are less heavy-handed than laying down rigid coding standards:</p>
<p>Assign two people to every part of the project.<br>Review every line of code.<br>Require code sign-offs.<br>Route good code examples for review.<br>Emphasize that code listings are public assets.</p>
<blockquote>
<p>Although it is the result of their work, code is part of the project and should be freely available to anyone else on the project that needs it.<br>It should be seen by others during reviews and maintenance, even if at no other time.</p>
</blockquote>
<p>Reward good code.<br>One easy standard.</p>
<br>
<br>

<h2 id="What-Is-Configuration-Management"><a href="#What-Is-Configuration-Management" class="headerlink" title="What Is Configuration Management?"></a>What Is Configuration Management?</h2><p>Configuration management is the practice of identifying project artifacts and handling changes systematically so that a system can maintain its integrity over time.<br>Another name for it is “change control.”<br>It includes techniques for evaluating proposed changes, tracking changes, and keeping copies of the system as it existed at various points in time.</p>
<br>
<br>

<h2 id="Requirements-and-Design-Changes"><a href="#Requirements-and-Design-Changes" class="headerlink" title="Requirements and Design Changes"></a>Requirements and Design Changes</h2><p>Follow a systematic change-control procedure.<br>Handle change requests in groups.<br>Estimate the cost of each change.<br>Be wary of high change volumes.<br>Establish a change-control board or its equivalent in a way that makes sense for your project.<br>Watch for bureaucracy, but don’t let the fear of bureaucracy preclude effective change control.</p>
<br>
<br>

<h2 id="Software-Code-Changes"><a href="#Software-Code-Changes" class="headerlink" title="Software Code Changes"></a>Software Code Changes</h2><p>Version-control software.<br>Backup Plan.</p>
<br>
<br>

<h2 id="CHECKLIST-Configuration-Management"><a href="#CHECKLIST-Configuration-Management" class="headerlink" title="CHECKLIST: Configuration Management"></a>CHECKLIST: Configuration Management</h2><p><strong>General</strong></p>
<ul>
<li>Is your software-configuration-management plan designed to help programmers and minimize overhead?</li>
<li>Does your SCM approach avoid overcontrolling the project?</li>
<li>Do you group change requests, either through informal means such as a list of pending changes or through a more systematic approach such as a change-control board?</li>
<li>Do you systematically estimate the effect of each proposed change?</li>
<li>Do you view major changes as a warning that requirements development<br>isn’t yet complete?</li>
</ul>
<p><strong>Tools</strong></p>
<ul>
<li>Do you use version-control software to facilitate configuration management?</li>
<li>Do you use version-control software to reduce coordination problems of<br>working in teams?</li>
</ul>
<p><strong>Backup</strong></p>
<ul>
<li>Do you back up all project materials periodically?</li>
<li>Are project backups transferred to off-site storage periodically?</li>
<li>Are all materials backed up, including source code, documents, graphics, and important notes?</li>
<li>Have you tested the backup-recovery procedure?</li>
</ul>
<br>
<br>

<h2 id="Estimation-Approaches"><a href="#Estimation-Approaches" class="headerlink" title="Estimation Approaches"></a>Estimation Approaches</h2><ul>
<li>Use scheduling software.</li>
<li>Use an algorithmic approach, such as Cocomo II, Barry Boehm’s estimation model (Boehm et al 2000).</li>
<li>Have outside estimation experts estimate the project.</li>
<li>Have a walkthrough meeting for estimates.</li>
<li>Estimate pieces of the project, and then add the pieces together.</li>
<li>Have people estimate their own pieces, and then add the pieces together.</li>
<li>Estimate the time needed for the whole project, and then divide up the time among the pieces.</li>
<li>Refer to experience on previous projects.</li>
<li>Keep previous estimates and see how accurate they were. Use them to adjust new estimates.</li>
</ul>
<p>Here’s a good approach to estimating a project:</p>
<p>Establish objectives.<br>Allow time for the estimate, and plan it.<br>Spell out software requirements.<br>Estimate at a low level of detail.<br>Use several different estimation techniques, and compare the results.<br>Re-estimate periodically.</p>
<br>
<br>

<p>Here are some of the less easily quantified factors that can influence a software- development schedule.</p>
<ul>
<li>Requirements developer experience and capability</li>
<li>Programmer experience and capability</li>
<li>Team motivation</li>
<li>Management quality</li>
<li>Amount of code reused</li>
<li>Personnel turnover</li>
<li>Requirements volatility</li>
<li>Quality of relationship with customer</li>
<li>User participation in requirements</li>
<li>Customer experience with the type of application</li>
<li>Extent to which programmers participate in requirements development</li>
<li>Classified security environment for computer, programs, and data</li>
<li>Amount of documentation</li>
<li>Project objectives (schedule vs. quality vs. usability vs. the many other possible objectives)</li>
</ul>
<br>
<br>

<h2 id="What-to-do-If-You’re-Behind"><a href="#What-to-do-If-You’re-Behind" class="headerlink" title="What to do If You’re Behind"></a>What to do If You’re Behind</h2><p>Hope that you’ll catch up.<br>Expand the team.<br>Reduce the scope of the project.</p>
<h2 id="Measuring"><a href="#Measuring" class="headerlink" title="Measuring"></a>Measuring</h2><p>For any project attribute, it’s possible to measure that attribute in a way that’s superior to not measuring it at all.<br>To argue against measurement is to argue that it’s better not to know what’s really happening on your project.</p>
<img src="/blog/2025/03/20/P340/P340_52.png" class="">
<img src="/blog/2025/03/20/P340/P340_53.png" class="">
<img src="/blog/2025/03/20/P340/P340_54.png" class="">

<h2 id="Religious-Issues"><a href="#Religious-Issues" class="headerlink" title="Religious Issues"></a>Religious Issues</h2><p>Here’s a list of religious issues:</p>
<ul>
<li>Programming language</li>
<li>Indentation style</li>
<li>Placing of braces</li>
<li>Choice of IDE</li>
<li>Commenting style</li>
<li>Efficiency vs. readability trade-offs</li>
<li>Choice of methodology—for example, scrum vs. extreme programming vs. evolutionary delivery</li>
<li>Programming utilities</li>
<li>Naming conventions</li>
<li>Use of gotos</li>
<li>Use of global variables</li>
<li>Measurements, especially productivity measures such as lines of code per day</li>
</ul>
<br>
<br>

<h2 id="Managing-Your-Manager"><a href="#Managing-Your-Manager" class="headerlink" title="Managing Your Manager"></a>Managing Your Manager</h2><p>Here are some approaches to dealing with your manager:</p>
<p>-Plant ideas for what you want to do, and then wait for your manager to have a brainstorm (your idea) about doing what you want to do.<br>-Educate your manager about the right way to do things. This is an ongoing job because managers are often promoted, transferred, or fired.<br>-Focus on your manager’s interests, doing what he or she really wants you to do, and don’t distract your manager with unnecessary implementation details. (Think of it as “encapsulation” of your job.)<br>-Refuse to do what your manager tells you, and insist on doing your job the right way.<br>-Find another job.</p>
<br>
<br>
<br>
<br>

<h1 id="Integration"><a href="#Integration" class="headerlink" title="Integration"></a>Integration</h1><p>Here are some of the benefits you can expect from careful integration:</p>
<p>-Easier defect diagnosis<br>-Fewer defects<br>-Less scaffolding<br>-Shorter time to first working product<br>-Shorter overall development schedules<br>-Better customer relations<br>-Improved morale<br>-Improved chance of project completion<br>-More reliable schedule estimates<br>-More accurate status reporting<br>-Improved code quality<br>-Less documentation</p>
<br>
<br>

<h2 id="Integration-Frequency—Phased-or-Incremental"><a href="#Integration-Frequency—Phased-or-Incremental" class="headerlink" title="Integration Frequency—Phased or Incremental?"></a>Integration Frequency—Phased or Incremental?</h2><h3 id="Phased-Integration"><a href="#Phased-Integration" class="headerlink" title="Phased Integration"></a>Phased Integration</h3><p>Until a few years ago, phased integration was the norm. It follows these well- defined steps:</p>
<ol>
<li>Design, code, test, and debug each class. This step is called “unit development.”</li>
<li>Combine the classes into one whopping-big system. This is called “system integration.”</li>
<li>Test and debug the whole system. This is called “system dis-integration.” (Thanks to Meilir Page-Jones for this witty observation.)</li>
</ol>
<p>One problem with phased integration is that when the classes in a system are put together for the first time, new problems inevitably surface and the causes of the problems could be anywhere.<br>But in most cases, another approach is better.</p>
<br>
<br>

<h3 id="Incremental-Integration"><a href="#Incremental-Integration" class="headerlink" title="Incremental Integration"></a>Incremental Integration</h3><p>In incremental integration, you write and test a program in small pieces and then combine the pieces one at a time. In this one-piece-at-a-time approach to integration, you follow these steps:</p>
<ol>
<li>Develop a small, functional part of the system.<br>It can be the smallest functional part, the hardest part, a key part, or some combination.<br>Thoroughly test and debug it.<br>It will serve as a skeleton on which to hang the muscles, nerves, and skin that make up the remaining parts of the system.</li>
<li>Design, code, test, and debug a class.</li>
<li>Integrate the new class with the skeleton.<br>Test and debug the combination of skeleton and new class.<br>Make sure the combination works before you add any new classes.<br>If work remains to be done, repeat the process starting at step 2.</li>
</ol>
<br>
<br>

<h3 id="Top-Down-Integration"><a href="#Top-Down-Integration" class="headerlink" title="Top-Down Integration"></a>Top-Down Integration</h3><p>In top-down integration, the class at the top of the hierarchy is written and integrated first.</p>
<img src="/blog/2025/03/20/P340/P340_55.png" class="">

<p>An important aspect of top-down integration is that the interfaces between classes must be carefully specified.<br>The most troublesome errors to debug are not the ones that affect single classes but those that arise from subtle interactions between classes.</p>
<h3 id="Bottom-Up-Integration"><a href="#Bottom-Up-Integration" class="headerlink" title="Bottom-Up Integration"></a>Bottom-Up Integration</h3><h3 id="Sandwich-Integration"><a href="#Sandwich-Integration" class="headerlink" title="Sandwich Integration"></a>Sandwich Integration</h3><h3 id="Risk-Oriented-Integration"><a href="#Risk-Oriented-Integration" class="headerlink" title="Risk-Oriented Integration"></a>Risk-Oriented Integration</h3><p>Risk-oriented integration is also called “hard part first” integration.<br>Coincidentally, it also tends to integrate the classes at the top and the bottom first, saving the middle-level classes for last. The motivation, however, is different.</p>
<h3 id="Feature-Oriented-Integration"><a href="#Feature-Oriented-Integration" class="headerlink" title="Feature-Oriented Integration"></a>Feature-Oriented Integration</h3><p>Another approach is to integrate one feature at a time.</p>
<p>First, it eliminates scaffolding for virtually everything except low-level library classes.<br>The second main advantage is that each newly integrated feature brings about an incremental addition in functionality.<br>A third advantage is that feature-oriented integration works well with object- oriented design.</p>
<h3 id="T-Shaped-Integration"><a href="#T-Shaped-Integration" class="headerlink" title="T-Shaped Integration"></a>T-Shaped Integration</h3><p>A final approach that often addresses the problems associated with top-down and bottom-up integration is called “T-Shaped Integration.”</p>
<br>
<br>

<h2 id="Daily-Build-and-Smoke-Test"><a href="#Daily-Build-and-Smoke-Test" class="headerlink" title="Daily Build and Smoke Test"></a>Daily Build and Smoke Test</h2><p>Whatever integration strategy you select, a good approach to integrating the software is the “daily build and smoke test.<br>Every file is compiled, linked, and combined into an executable program every day, and the program is then put through a “smoke test,” a relatively simple check to see whether the product “smokes” when it runs.</p>
<p>Here are some of the ins and outs of using daily builds.</p>
<p>Build daily.<br>Check for broken builds.</p>
<div class="note ">
            <p>At a minimum, a “good” build should</p><p>-compile all files, libraries, and other components successfully<br>-link all files, libraries, and other components successfully<br>-not contain any showstopper bugs that prevent the program from being launched or that make it hazardous to operate<br>-pass the smoke test</p>
          </div>

<br>
<br>

<p>Smoke test daily.<br>Automate the daily build and smoke test.<br>Establish a build group.<br>Add revisions to the build only when it makes sense to do so.<br>… but don’t wait too long to add a set of revisions.<br>Require developers to smoke test their code before adding it to the system.<br>Create a holding area for code that’s to be added to the build.<br>Create a penalty for breaking the build.<br>Release builds in the morning.<br>Build and smoke test even under pressure.</p>
<br>
<br>

<h2 id="CHECKLIST-Integration"><a href="#CHECKLIST-Integration" class="headerlink" title="CHECKLIST: Integration"></a>CHECKLIST: Integration</h2><p><strong>Integration Strategy</strong></p>
<ul>
<li>Does the strategy identify the optimal order in which subsystems, classes, and routines should be integrated?</li>
<li>Is the integration order coordinated with the construction order so that classes will be ready for integration at the right time?</li>
<li>Does the strategy lead to easy diagnosis of defects?</li>
<li>Does the strategy keep scaffolding to a minimum?</li>
<li>Is the strategy better than other approaches?</li>
<li>Have the interfaces between components been specified well? (Specifying interfaces isn’t an integration task, but verifying that they have been specified well is.)</li>
</ul>
<br>
<br>

<p><strong>Daily Build and Smoke Test</strong></p>
<ul>
<li>Is the project building frequently—ideally, daily—to support incremental integration?</li>
<li>Is a smoke test run with each build so that you know whether the build works?</li>
<li>Have you automated the build and the smoke test?</li>
<li>Do developers check in their code frequently—going no more than a day or two between check-ins?</li>
<li>Is a broken build a rare occurrence?</li>
<li>Do you build and smoke test the software even when you’re under pressure?</li>
</ul>
<br>
<br>

<h1 id="Programming-Tools"><a href="#Programming-Tools" class="headerlink" title="Programming Tools"></a>Programming Tools</h1><p>Graphical design tools generally allow you to express a design in common graphical notations—UML, architecture block diagrams, hierarchy charts, entity relationship diagrams, or class diagrams.</p>
<br>
<br>

<h2 id="Editing"><a href="#Editing" class="headerlink" title="Editing"></a>Editing</h2><p>This group of tools relates to editing source code.</p>
<br>
<br>

<h3 id="Integrated-Development-Environments-IDEs"><a href="#Integrated-Development-Environments-IDEs" class="headerlink" title="Integrated Development Environments (IDEs)."></a>Integrated Development Environments (IDEs).</h3><p>In addition to basic word-processing functions, good IDEs offer these features:</p>
<p>-Compilation and error detection from within the editor<br>-Compressed or outline views of programs (class names only or logical structures without the contents)<br>-Jump to definitions of classes, routines, and variables<br>-Jump to all places where a class, routine, or variable is used<br>-Language-specific formatting<br>-Interactive help for the language being edited<br>-Brace (begin-end) matching<br>-Templates for common language constructs (the editor completing the structure of a for loop after the programmer types for, for example)<br>-Smart indenting (including easily changing the indentation of a block of statements when logic changes)<br>-Macros programmable in a familiar programming language<br>-Memory of search strings so that commonly used strings don’t need to be retyped<br>-Regular expressions in search-and-replace<br>-Search-and-replace across a group of files<br>-Editing multiple files simultaneously<br>-Multi-level undo</p>
<br>
<br>

<p>Multiple-File String Searching and Replacing<br>Diff Tools<br>Merge Tools<br>Source-Code Beautifiers<br>Interface Documentation Tools<br>Templates<br>Cross-Reference Tools<br>Class Hierarchy Generators</p>
<br>
<br>

<p>Analyzing Code Quality<br>Picky Syntax and Semantics Checkers<br>Metrics Reporters</p>
<p>Refactoring Source Code<br>Refactorers<br>Restructurers<br>Code Translators</p>
<p>Version Control</p>
<blockquote>
<p>-Source-code control<br>-Make-style dependency control<br>-Project documentation versioning</p>
</blockquote>
<p>Data Dictionaries</p>
<blockquote>
<p>A data dictionary is a database that describes all the significant data in a project.<br>On large projects, a data dictionary is also useful for keeping track of the hundreds or thousands of class definitions.</p>
</blockquote>
<br>
<br>

<h2 id="Executable-Code-Tools"><a href="#Executable-Code-Tools" class="headerlink" title="Executable-Code Tools"></a>Executable-Code Tools</h2><p><strong>Code Creation</strong></p>
<ul>
<li>Compilers and Linkers</li>
<li>Make</li>
<li>Code Libraries</li>
<li>Code Generation Wizards</li>
<li>Setup and Installation</li>
<li>Macro Preprocessors</li>
</ul>
<p><strong>Debugging</strong></p>
<ul>
<li>Compiler warning messages</li>
<li>Test scaffolding</li>
<li>File comparators (for comparing different versions of source-code files)</li>
<li>Execution profilers</li>
<li>Trace monitors</li>
<li>Interactive debuggers—both software and hardware. Testing tools, discussed next, are related to debugging tools.</li>
</ul>
<p><strong>Testing</strong></p>
<ul>
<li>Automatic test frameworks like JUnit, NUnit, CppUnit and so on Automated test generators</li>
<li>Test-case record and playback utilities</li>
<li>Coverage monitors (logic analyzers and execution profilers) Symbolic debuggers</li>
<li>System perturbers (memory fillers, memory shakers, selective memory failers, memory-access checkers)</li>
<li>Diff tools (for comparing data files, captured output, and screen images)</li>
<li>Scaffolding</li>
<li>Defect tracking software</li>
</ul>
<p><strong>Code Tuning</strong></p>
<ul>
<li>Execution Profilers</li>
<li>Assembler Listings and Disassemblers</li>
</ul>
<br>
<br>

<h2 id="Checklist-Programming-Tools"><a href="#Checklist-Programming-Tools" class="headerlink" title="Checklist: Programming Tools"></a>Checklist: Programming Tools</h2><ul>
<li>Do you have an effective IDE?</li>
<li>Does your IDE support outline view of your program; jumping to definitions of classes, routines, and variables; source code formatting; brace matching or begin-end matching; multiple file string search and replace; convenient compilation; and integrated debugging?</li>
<li>Do you have tools that automate common refactorings?</li>
<li>Are you using version control to manage source code, content, requirements, designs, project plans, and other project artifacts?</li>
<li>If you’re working on a very large project, are you using a data dictionary or some other central repository that contains authoritative descriptions of each class used in the system?</li>
<li>Have you considered code libraries as alternatives to writing custom code, where available?</li>
<li>Are you making use of an interactive debugger?</li>
<li>Do you use make or other dependency-control software to build programs<br>efficiently and reliably?</li>
<li>Does your test environment include an automated test framework, automated test generators, coverage monitors, system perturbers, diff tools, and defect tracking software?</li>
<li>Have you created any custom tools that would help support your specific project’s needs, especially tools that automate repetitive tasks?</li>
<li>Overall, does your environment benefit from adequate tool support?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Layout-and-Style"><a href="#Layout-and-Style" class="headerlink" title="Layout and Style"></a>Layout and Style</h1><h2 id="Objectives-of-Good-Layout"><a href="#Objectives-of-Good-Layout" class="headerlink" title="Objectives of Good Layout"></a>Objectives of Good Layout</h2><p>Explicitly, then, a good layout scheme should:</p>
<p>Accurately represent the logical structure of the code.<br>Consistently represent the logical structure of the code.<br>Improve readability.<br>Withstand modifications.</p>
<br>
<br>

<h2 id="Layout-Techniques"><a href="#Layout-Techniques" class="headerlink" title="Layout Techniques"></a>Layout Techniques</h2><p>White Space<br>Grouping.<br>Blank lines.<br>Indentation.<br>Parentheses.</p>
<br>
<br>

<h2 id="Layout-Styles"><a href="#Layout-Styles" class="headerlink" title="Layout Styles"></a>Layout Styles</h2><p>The following sections describe four general styles of layout:</p>
<p>• Pure blocks<br>• Emulating pure blocks</p>
<img src="/blog/2025/03/20/P340/P340_57.png" class="">

<p>• using begin-end pairs (braces) to designate block boundaries</p>
<img src="/blog/2025/03/20/P340/P340_58.png" class="">

<p>• Endline layout</p>
<img src="/blog/2025/03/20/P340/P340_56.png" class="" title="endline layout">

<p>Overall, endline layout is inaccurate, hard to apply consistently, and hard to maintain. You’ll see other problems with endline layout throughout the chapter.</p>
<br>
<br>

<h2 id="Which-Style-Is-Best"><a href="#Which-Style-Is-Best" class="headerlink" title="Which Style Is Best?"></a>Which Style Is Best?</h2><p>If you’re working in Visual Basic, use pure-block indentation. (The Visual Basic IDE makes it hard not to use this style anyway.)</p>
<p>In Java, standard practice is to use pure-block indentation.</p>
<p>In C++, you might simply choose the style you like or the one that is preferred by the majority of people on your team.<br>Either pure-block emulation or begin- end block boundaries work equally well.</p>
<br>
<br>

<h2 id="Fine-Points-of-Formatting-Control-Structure-Blocks"><a href="#Fine-Points-of-Formatting-Control-Structure-Blocks" class="headerlink" title="Fine Points of Formatting Control-Structure Blocks"></a>Fine Points of Formatting Control-Structure Blocks</h2><p>Avoid unindented begin-end pairs.</p>
<img src="/blog/2025/03/20/P340/P340_59.png" class="">

<p>Avoid double indentation with begin and end.</p>
<blockquote>
<p>Avoid the problem by using pure-block emulation or by using begin and end as block boundaries and aligning begin and end with the statements they enclose.</p>
</blockquote>
<p>Use blank lines between paragraphs.</p>
<p>Format single-statement blocks consistently.</p>
<br>
<br>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//Style 1</span><br><span class="line">if ( expression )</span><br><span class="line">  one-statement;</span><br><span class="line"></span><br><span class="line">//Style 2a</span><br><span class="line">if ( expression ) &#123;</span><br><span class="line">  one-statement;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//Style 2b</span><br><span class="line">if ( expression )</span><br><span class="line">  &#123;</span><br><span class="line">  one-statement;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">//Style 3</span><br><span class="line">if ( expression ) one-statement;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Style 1 follows the indentation scheme used with blocks, so it’s consistent with other approaches.<br>Style 2 (either 2a or 2b) is also consistent, and the begin-end pair reduces the chance that you’ll add statements after the if test and forget to add begin and end.</p>
<p>Its advantage over Style 1 is that if it’s copied to another place in the program, it’s more likely to be copied correctly.<br>Its disadvantage is that in a line-oriented debugger, the debugger treats the line as one line and the debugger doesn’t show you whether it executes the statement after the if test.</p>
<br>
<br>

<p>For complicated expressions, put separate conditions on separate lines.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if ( ( ( &#x27;0&#x27; &lt;= inChar ) &amp;&amp; ( inChar &lt;= &#x27;9&#x27; ) ) ||</span><br><span class="line">  ( ( &#x27;a&#x27; &lt;= inChar ) &amp;&amp; ( inChar &lt;= &#x27;z&#x27; ) ) ||</span><br><span class="line">  ( ( &#x27;A&#x27; &lt;= inChar ) &amp;&amp; ( inChar &lt;= &#x27;Z&#x27; ) ) )</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>Avoid gotos.</p>
<blockquote>
<p>Avoid gotos. This sidesteps the formatting problem altogether.<br>Use a name in all caps for the label the code goes to. This makes the label<br>obvious.<br>Put the statement containing the goto on a line by itself. This makes the goto obvious.<br>Put the label the goto goes to on a line by itself. Surround it with blank lines. This makes the label obvious. Outdent the line containing the label to the left margin to make the label as obvious as possible.</p>
</blockquote>
<br>
<br>

<p>No endline exception for case statements.</p>
<br>
<br>

<h2 id="Laying-Out-Individual-Statements"><a href="#Laying-Out-Individual-Statements" class="headerlink" title="Laying Out Individual Statements"></a>Laying Out Individual Statements</h2><h3 id="Statement-Length"><a href="#Statement-Length" class="headerlink" title="Statement Length"></a>Statement Length</h3><p>A common rule is to limit statement line length to 80 characters.<br>Here are the reasons:</p>
<blockquote>
<p>• Lines longer than 80 characters are hard to read.<br>• The 80-character limitation discourages deep nesting.<br>• Lines longer than 80 characters often won’t fit on 8.5” x 11” paper.<br>• Paper larger than 8.5” x 11” is hard to file.</p>
</blockquote>
<br>
<br>

<h3 id="Using-Spaces-for-Clarity"><a href="#Using-Spaces-for-Clarity" class="headerlink" title="Using Spaces for Clarity"></a>Using Spaces for Clarity</h3><p>Add white space within a statement for the sake of readability:</p>
<p><em>Use spaces to make logical expressions readable.</em></p>
<p>The expression</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">while(pathName[startPath+position]&lt;&gt;&#x27;;&#x27;) and</span><br><span class="line">  ((startPath+position)&lt;length(pathName)) do</span><br></pre></td></tr></table></figure>
<p>is about as readable as Idareyoutoreadthis.</p>
<p>As a rule, you should separate identifiers from other identifiers with spaces.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">while ( pathName[ startPath+position ] &lt;&gt; &#x27;;&#x27; ) and</span><br><span class="line">  (( startPath + position ) &lt; length( pathName )) do</span><br></pre></td></tr></table></figure>

<br>
<br>

<p><em>Use spaces to make array references readable.</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grossRate[census[groupId].gender,census[groupId].ageGroup]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grossRate[ census[ groupId ].gender, census[ groupId ].ageGroup ]</span><br></pre></td></tr></table></figure>

<br>
<br>

<p><em>Use spaces to make routine arguments readable.</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ReadEmployeeData(maxEmps,empData,inputFile,empCount,inputError);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GetCensus( inputFile, empCount, empData, maxEmps, inputError );</span><br></pre></td></tr></table></figure>

<br>
<br>

<h3 id="Formatting-Continuation-Lines"><a href="#Formatting-Continuation-Lines" class="headerlink" title="Formatting Continuation Lines"></a>Formatting Continuation Lines</h3><p><em>Make the incompleteness of a statement obvious.</em></p>
<img src="/blog/2025/03/20/P340/P340_60.png" class="">

<p><em>Keep closely related elements together.</em></p>
<blockquote>
<p>When you break a line, keep things together that belong together—array refer- ences, arguments to a routine, and so on.</p>
</blockquote>
<p><em>Indent routine-call continuation lines the standard amount.</em></p>
<img src="/blog/2025/03/20/P340/P340_61.png" class="">

<p><em>Make it easy to find the end of a continuation line.</em></p>
<p><em>Indent control-statement continuation lines the standard amount.</em></p>
<p><em>Do not align right sides of assignment statements.</em></p>
<p>Do this.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">customerPurchases = customerPurchases + CustomerSales( CustomerID );</span><br><span class="line">customerBill = customerBill + customerPurchases;</span><br><span class="line">totalCustomerBill = customerBill + PreviousBalance( customerID ) +</span><br><span class="line">  LateCharge( customerID );// &lt;- indent like this</span><br><span class="line">customerRating = Rating( customerID, totalCustomerBill );</span><br></pre></td></tr></table></figure>

<p><em>Indent assignment-statement continuation lines the standard amount.</em></p>
<br>
<br>

<h3 id="Using-Only-One-Statement-per-Line"><a href="#Using-Only-One-Statement-per-Line" class="headerlink" title="Using Only One Statement per Line"></a>Using Only One Statement per Line</h3><p>Reasons to limit yourself to one statement per line are more compelling:</p>
<div class="note ">
            <p>Putting each statement on a line of its own provides an accurate view of a program’s complexity.<br>It doesn’t hide complexity by making complex statements look trivial.<br>Statements that are complex look complex.<br>State- ments that are easy look easy.</p><p>Putting several statements on one line doesn’t provide optimization clues to modern compilers.<br>Today’s optimizing compilers don’t depend on format- ting clues to do their optimizations.<br>This is illustrated later in this section.</p><p>With statements on their own lines, the code reads from top to bottom, in- stead of top to bottom and left to right.<br>When you’re looking for a specific line of code, your eye should be able to follow the left margin of the code.<br>It shouldn’t have to dip into each and every line just because a single line might contain two statements.</p><p>With statements on their own lines, it’s easy to find syntax errors when your compiler provides only the line numbers of the errors.<br>If you have multiple statements on a line, the line number doesn’t tell you which statement is in error.</p><p>With one statement to a line, it’s easy to step through the code with line- oriented debuggers.<br>If you have several statements on a line, the debugger executes them all at once, and you have to switch to assembler to step through individual statements.</p><p>With one to a line, it’s easy to edit individual statements—to delete a line or temporarily convert a line to a comment.<br>If you have multiple statements on a line, you have to do your editing between other statements.</p>
          </div>

<br>
<br>

<p>In C++, avoid using multiple operations per line (side effects).</p>
<blockquote>
<p>PrintMessage( ++n, n + 2 ); // couldn’t tell</p>
</blockquote>
<br>
<br>

<h3 id="Laying-Out-Data-Declarations"><a href="#Laying-Out-Data-Declarations" class="headerlink" title="Laying Out Data Declarations"></a>Laying Out Data Declarations</h3><p>Use only one data declaration per line.<br>Declare variables close to where they’re first used.<br>Order declarations sensibly.</p>
<blockquote>
<p>In the example above, the declarations are grouped by types.<br>Grouping by types is usually sensible since variables of the same type tend to be used in related op- erations.</p>
</blockquote>
<br>
<br>

<h3 id="In-C-put-the-asterisk-next-to-the-variable-name-in-pointer-declarations-or-declare-pointer-types"><a href="#In-C-put-the-asterisk-next-to-the-variable-name-in-pointer-declarations-or-declare-pointer-types" class="headerlink" title="In C++, put the asterisk next to the variable name in pointer declarations or declare pointer types"></a>In C++, put the asterisk next to the variable name in pointer declarations or declare pointer types</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EmployeeList* employees;</span><br><span class="line">File* inputFile;</span><br></pre></td></tr></table></figure>

<p>The problem with putting the asterisk next to the type name rather than the vari- able name is that, when you put more than one declaration on a line, the asterisk will apply only to the first variable even though the visual formatting suggests it applies to all variables on the line.</p>
<p>You can avoid this problem by putting the asterisk next to the variable name rather than the type name.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EmployeeList *employees;</span><br><span class="line">File *inputFile;</span><br></pre></td></tr></table></figure>

<p>This approach has the weakness of suggesting that the asterisk is part of the vari- able name, which it isn’t.<br>The variable can be used either with or without the asterisk.</p>
<p>The best approach is to declare a type for the pointer and use that instead.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">EmployeeListPointer employees;</span><br><span class="line">FilePointer inputFile;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h3 id="Laying-Out-Comments"><a href="#Laying-Out-Comments" class="headerlink" title="Laying Out Comments"></a>Laying Out Comments</h3><p>Indent a comment with its corresponding code.<br>Set off each comment with at least one blank line.</p>
<br>
<br>

<h3 id="Laying-Out-Routines"><a href="#Laying-Out-Routines" class="headerlink" title="Laying Out Routines"></a>Laying Out Routines</h3><p>Use blank lines to separate parts of a routine.<br>Use standard indentation for routine arguments.</p>
<p>As appealing aesthetically but take less work to maintain.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public bool ReadEmployeeData(</span><br><span class="line">   int maxEmployees,</span><br><span class="line">   EmployeeList *employees,</span><br><span class="line">   EmployeeFile *inputFile,</span><br><span class="line">   int *employeeCount,</span><br><span class="line">   bool *isInputError</span><br><span class="line">)</span><br><span class="line">...</span><br><span class="line">public void InsertionSort(</span><br><span class="line">   SortArray data,</span><br><span class="line">   int firstElement,</span><br><span class="line">   int lastElement</span><br><span class="line">)   </span><br></pre></td></tr></table></figure>

<p>Visual Basic example of routine headers with readable, maintainable standard indentation.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Public Sub ReadEmployeeData ( _</span><br><span class="line">  ByVal maxEmployees As Integer, _</span><br><span class="line">  ByRef employees As EmployeeList, _</span><br><span class="line">  ByRef inputFile As EmployeeFile, _</span><br><span class="line">  ByRef employeeCount As Integer, _</span><br><span class="line">  ByRef isInputError As Boolean _</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<br>
<br>
<br>
<br>

<h2 id="Laying-Out-Class"><a href="#Laying-Out-Class" class="headerlink" title="Laying Out Class"></a>Laying Out Class</h2><h3 id="Laying-out-class-interfaces"><a href="#Laying-out-class-interfaces" class="headerlink" title="Laying out class interfaces"></a>Laying out class interfaces</h3><p>The convention is to present the class members in the following order:</p>
<ol>
<li>Header comment that describes the class and provides any notes about the overall usage of the class</li>
<li>Constructors and destructors</li>
<li>Public routines</li>
<li>Protected routines</li>
<li>Private routines and member data</li>
</ol>
<br>
<br>

<h3 id="Laying-Out-Class-Implementations"><a href="#Laying-Out-Class-Implementations" class="headerlink" title="Laying Out Class Implementations"></a>Laying Out Class Implementations</h3><p>Class implementations are generally laid out in this order:</p>
<ol>
<li>Header comment that describes the contents of the file the class is in</li>
<li>Class data</li>
<li>Public routines</li>
<li>Protected routines</li>
<li>Private routines</li>
</ol>
<br>
<br>

<p>If you have more than one class in a file, identify each class clearly.</p>
<p>Use division like this.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//**********************************************************************</span><br><span class="line">// MATHEMATICAL FUNCTIONS</span><br><span class="line">//</span><br><span class="line">// This class contains the program//s mathematical functions.</span><br><span class="line">//**********************************************************************</span><br><span class="line"></span><br><span class="line">//----------------------------------------------------------------------</span><br><span class="line">// find the arithmetic minimum of arg1 and arg2</span><br><span class="line">//----------------------------------------------------------------------</span><br><span class="line">int Math::Min( int arg1, int arg2 ) &#123;</span><br><span class="line">   if ( arg1 &lt; arg2 ) &#123;</span><br><span class="line">      return arg1;</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">      return arg2;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h3 id="Laying-Out-Files-and-Programs"><a href="#Laying-Out-Files-and-Programs" class="headerlink" title="Laying Out Files and Programs"></a>Laying Out Files and Programs</h3><p>Put one class in one file.<br>Give the file a name related to the class name.<br>Separate routines within a file clearly.<br>Sequence routines alphabetically.</p>
<blockquote>
<p>If you can’t break a program up into classes or if your editor doesn’t allow you to find functions easily, the alphabetical approach can save search time.</p>
</blockquote>
<p>In C++, order the source file carefully.</p>
<p>Here’s the standard order of source-file contents in C++:</p>
<div class="note ">
            <p>File-description comment<br>#include files<br>Constant definitions<br>Enums<br>Macro function definitions<br>Type definitions<br>Global variables and functions imported<br>Global variables and functions exported Variables and functions that are private to the file Classes</p>
          </div>

<br>
<br>

<h2 id="CHECKLIST-Layout"><a href="#CHECKLIST-Layout" class="headerlink" title="CHECKLIST: Layout"></a>CHECKLIST: Layout</h2><p><strong>General</strong></p>
<ul>
<li>Is formatting done primarily to illuminate the logical structure of the code?</li>
<li>Can the formatting scheme be used consistently?</li>
<li>Does the formatting scheme result in code that’s easy to maintain?</li>
<li>Does the formatting scheme improve code readability?</li>
</ul>
<br>
<br>

<p><strong>Control Structures</strong></p>
<ul>
<li>Does the code avoid doubly indented begin-end or {} pairs?</li>
<li>Are sequential blocks separated from each other with blank lines?</li>
<li>Are complicated expressions formatted for readability?</li>
<li>Are single-statement blocks formatted consistently?</li>
<li>Are case statements formatted in a way that’s consistent with the formatting of other control structures?</li>
<li>Have gotos been formatted in a way that makes their use obvious? Individual Statements</li>
<li>Is white space used to make logical expressions, array references, and rou- tine arguments readable?</li>
<li>Do incomplete statements end the line in a way that’s obviously incorrect?</li>
<li>Are continuation lines indented the standard indentation amount?</li>
<li>Does each line contain at most one statement?</li>
<li>Is each statement written without side effects?</li>
<li>Is there at most one data declaration per line?</li>
</ul>
<br>
<br>

<p><strong>Comments</strong></p>
<ul>
<li>Are the comments indented the same number of spaces as the code they comment?</li>
<li>Is the commenting style easy to maintain?</li>
</ul>
<br>
<br>

<p><strong>Routines</strong></p>
<ul>
<li>Are the arguments to each routine formatted so that each argument is easy to read, modify, and comment?</li>
<li>Are blank lines used to separate parts of a routine?</li>
</ul>
<br>
<br>

<p><strong>Classes, Files and Programs</strong></p>
<ul>
<li>Is there a one-to-one relationship between classes and files for most classes and files?</li>
<li>If a file does contain multiple classes, are all the routines in each class grouped together and is the class clearly identified?</li>
<li>Are routines within a file clearly separated with blank lines?</li>
<li>In lieu of a stronger organizing principle, are all routines in alphabetical se-quence?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Self-Documenting-Code"><a href="#Self-Documenting-Code" class="headerlink" title="Self-Documenting Code"></a>Self-Documenting Code</h1><h2 id="External-Documentation"><a href="#External-Documentation" class="headerlink" title="External Documentation"></a>External Documentation</h2><h3 id="Unit-development-folders"><a href="#Unit-development-folders" class="headerlink" title="Unit development folders"></a>Unit development folders</h3><p>A Unit Development Folder (UDF), or software-development folder (SDF), is an informal document that contains notes used by a developer during construction.</p>
<h3 id="Detailed-design-document"><a href="#Detailed-design-document" class="headerlink" title="Detailed-design document"></a>Detailed-design document</h3><p>The detailed-design document is the low-level design document.<br>It describes the class-level or routine-level design decisions, the alternatives that were considered, and the reasons for selecting the approaches that were selected.</p>
<h3 id="Programming-Style-as-Documentation"><a href="#Programming-Style-as-Documentation" class="headerlink" title="Programming Style as Documentation"></a>Programming Style as Documentation</h3><p>It’s the most detailed kind of documentation, at the source- statement level.<br>The main contributor to code-level documentation isn’t comments, but good programming style.</p>
<p>Style includes good program structure, use of straight- forward and easily understandable approaches, good variable names, good routine names, use of named constants instead of literals, clear layout, and minimization of control-flow and data-structure complexity.</p>
<br>
<br>

<h2 id="CHECKLIST-Self-Documenting-Code"><a href="#CHECKLIST-Self-Documenting-Code" class="headerlink" title="CHECKLIST: Self-Documenting Code"></a>CHECKLIST: Self-Documenting Code</h2><p><strong>Classes</strong></p>
<ul>
<li>Does the class’s interface present a consistent abstraction?</li>
<li>Is the class well named, and does its name describe its central purpose?</li>
<li>Does the class’s interface make obvious how you should use the class?</li>
<li>Is the class’s interface abstract enough that you don’t have to think about how its services are implemented? Can you treat the class as a black box?</li>
</ul>
<p><strong>Routines</strong></p>
<ul>
<li>Does each routine’s name describe exactly what the routine does?</li>
<li>Does each routine perform one well-defined task?</li>
<li>Have all parts of each routine that would benefit from being put into their own routines been put into their own routines?</li>
<li>Is each routine’s interface obvious and clear?</li>
</ul>
<p><strong>Data Names</strong></p>
<ul>
<li>Are type names descriptive enough to help document data declarations?</li>
<li>Are variables named well?</li>
<li>Are variables used only for the purpose for which they’re named?</li>
<li>Are loop counters given more informative names than i, j, and k?</li>
<li>Are well-named enumerated types used instead of makeshift flags or boolean variables?</li>
<li>Are named constants used instead of magic numbers or magic strings?</li>
<li>Do naming conventions distinguish among type names, enumerated types, named constants, local variables, class variables, and global variables?</li>
</ul>
<p><strong>Data Organization</strong></p>
<ul>
<li>Are extra variables used for clarity when needed?</li>
<li>Are references to variables close together?</li>
<li>Are data types simple so that they minimize complexity?</li>
<li>Is complicated data accessed through abstract access routines (abstract data types)?</li>
</ul>
<p><strong>Control</strong></p>
<ul>
<li>Is the nominal path through the code clear?<br>Are related statements grouped together?<br>Have relatively independent groups of statements been packaged into their own routines?<br>Does the normal case follow the if rather than the else?<br>Are control structures simple so that they minimize complexity?<br>Does each loop perform one and only one function, as a well-defined routine would?<br>Is nesting minimized?<br>Have boolean expressions been simplified by using additional boolean variables, boolean functions, and decision tables?</li>
</ul>
<p><strong>Layout</strong></p>
<ul>
<li>Does the program’s layout show its logical structure?</li>
</ul>
<p><strong>Design</strong></p>
<ul>
<li>Is the code straightforward, and does it avoid cleverness? Are implementation details hidden as much as possible?</li>
<li>Is the program written in terms of the problem domain as much as possible rather than in terms of computer-science or programming-language structures?</li>
</ul>
<br>
<br>

<h2 id="Comments"><a href="#Comments" class="headerlink" title="Comments"></a>Comments</h2><p>Comments can be classified into five categories:</p>
<p>Repeat of the Code</p>
<blockquote>
<p>Not that useful.</p>
</blockquote>
<p>Explanation of the Code</p>
<blockquote>
<p>Make sure code itself be clear.</p>
</blockquote>
<p>Marker in the Code</p>
<blockquote>
<p>A marker comment is one that isn’t intended to be left in the code.<br>It’s a note to the developer that the work isn’t done yet.</p>
</blockquote>
<p>Summary of the Code</p>
<blockquote>
<p>Distills a few lines of code into one or two sentences.<br>Summary comments are particularly useful when someone other than the code’s original author tries to modify the code.</p>
</blockquote>
<p>Description of the Code’s Intent</p>
<blockquote>
<p>Explains the purpose of a section of code.</p>
</blockquote>
<br>
<br>

<p>Use styles that don’t break down or discourage modification.</p>
<blockquote>
<p>Any style that’s too fancy is annoying to maintain.</p>
</blockquote>
<p>Use the Pseudocode Programming Process to reduce commenting time.</p>
<p>Integrate commenting into your development style.</p>
<blockquote>
<p>“When you’re concentrating on the code you shouldn’t break your concentration to write comments.”<br>The appropriate response is that, if you have to concentrate so hard on writing code that commenting interrupts your thinking, you need to design in pseudocode first and then convert the pseudocode to comments.</p>
</blockquote>
<p>Performance is not a good reason to avoid commenting.</p>
<br>
<br>

<h2 id="Commenting-Techniques"><a href="#Commenting-Techniques" class="headerlink" title="Commenting Techniques"></a>Commenting Techniques</h2><h3 id="Commenting-Individual-Lines"><a href="#Commenting-Individual-Lines" class="headerlink" title="Commenting Individual Lines"></a>Commenting Individual Lines</h3><p>Here are two possible reasons a line of code would need a comment:</p>
<ul>
<li>The single line is complicated enough to need an explanation.</li>
<li>The single line once had an error and you want a record of the error.</li>
</ul>
<p>Here are some guidelines for commenting a line of code:<br>Avoid self-indulgent comments.</p>
<h3 id="Endline-Comments-and-Their-Problems"><a href="#Endline-Comments-and-Their-Problems" class="headerlink" title="Endline Comments and Their Problems"></a>Endline Comments and Their Problems</h3><blockquote>
</blockquote>
<p>Although useful in some circumstances, endline comments pose several problems.<br>Endline comments tend to be hard to format.<br>Endline comments are also hard to maintain.<br>Endline comments also tend to be cryptic.</p>
<p>Avoid endline comments on single lines.<br>Avoid endline comments for multiple lines of code.</p>
<blockquote>
<p>If an endline comment is intended to apply to more than one line of code, the formatting doesn’t show which lines the comment applies to.</p>
</blockquote>
<br>
<br>

<p>Here are three exceptions to the recommendation against using endline comments:</p>
<p>Use endline comments to annotate data declarations.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int boundary;    // upper index of sorted part of array</span><br><span class="line">String insertVal;   // data elmt to insert in sorted part of array</span><br><span class="line">int insertPos;   // position to insert elmt in sorted part of array</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>Avoid using endline comments for maintenance notes.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i = 1 to maxElmts – 1 -- fixed error #A423 10/1/92 (scm)</span><br></pre></td></tr></table></figure>
<p>Adding such a comment can be gratifying after a late-night debugging session on software that’s in production, but such comments really have no place in production code.</p>
<br>
<br>

<p>Use endline comments to mark ends of blocks.</p>
<br>
<br>

<h3 id="Commenting-Paragraphs-of-Code"><a href="#Commenting-Paragraphs-of-Code" class="headerlink" title="Commenting Paragraphs of Code"></a>Commenting Paragraphs of Code</h3><p>Write comments at the level of the code’s intent.<br>Focus your documentation efforts on the code itself.<br>Focus paragraph comments on the why rather than the how.<br>Use comments to prepare the reader for what is to follow.<br>Make every comment count.<br>Document surprises.<br>Avoid abbreviations.<br>Differentiate between major and minor comments.</p>
<img src="/blog/2025/03/20/P340/P340_62.png" class="">

<p>Comment anything that gets around an error or an undocumented feature in a language or an environment.<br>Justify violations of good programming style.<br>Don’t comment tricky code.</p>
<blockquote>
<p>Rewrite it.</p>
</blockquote>
<br>
<br>

<h3 id="Commenting-Data-Declarations"><a href="#Commenting-Data-Declarations" class="headerlink" title="Commenting Data Declarations"></a>Commenting Data Declarations</h3><p>Comment the units of numeric data.<br>Comment the range of allowable numeric values.<br>Comment coded meanings.</p>
<img src="/blog/2025/03/20/P340/P340_63.png" class="">
<p>Comment limitations on input data.<br>Document flags to the bit level.<br>Stamp comments related to a variable with the variable’s name.<br>Document global data.</p>
<h3 id="Commenting-Control-Structures"><a href="#Commenting-Control-Structures" class="headerlink" title="Commenting Control Structures"></a>Commenting Control Structures</h3><p>Put a comment before each block of statements, if, case, or loop.<br>Comment the end of each control structure.</p>
<img src="/blog/2025/03/20/P340/P340_64.png" class="">
<p>Treat end-of-loop comments as a warning indicating complicated code.</p>
<h2 id="Commenting-Routines"><a href="#Commenting-Routines" class="headerlink" title="Commenting Routines"></a>Commenting Routines</h2><p>Keep comments close to the code they describe.<br>Describe each routine in one or two sentences at the top of the routine.<br>Document parameters where they are declared.</p>
<blockquote>
<p>The easiest way to document input and output variables is to put comments next to the parameter declarations.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public void InsertionSort(</span><br><span class="line">  int[] dataToSort, // elements to sort in locations firstElement..lastElement</span><br><span class="line">  int firstElement, // index of first element to sort (&gt;=0)</span><br><span class="line">  int lastElement // index of last element to sort (&lt;= MAX_ELEMENTS)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Differentiate between input and output data.<br>Document interface assumptions.<br>Comment on the routine’s limitations.<br>Document the routine’s global effects.<br>Document the source of algorithms that are used.<br>Use comments to mark parts of your program.</p>
<blockquote>
<p>One such technique in C++ and Java is to mark the top of each routine with a comment such as<br>/**<br>This allows you to jump from routine to routine by doing a string search for /**.</p>
</blockquote>
<br>
<br>

<h2 id="Commenting-Classes-Files-and-Programs"><a href="#Commenting-Classes-Files-and-Programs" class="headerlink" title="Commenting Classes, Files, and Programs"></a>Commenting Classes, Files, and Programs</h2><h3 id="General-Guidelines-for-Class-Documentation"><a href="#General-Guidelines-for-Class-Documentation" class="headerlink" title="General Guidelines for Class Documentation"></a>General Guidelines for Class Documentation</h3><p>Describe the design approach to the class.<br>Describe limitations, usage assumptions, and so on.<br>Comment the class interface.<br>Don’t document implementation details in the class interface.</p>
<h3 id="General-Guidelines-for-File-Documentation"><a href="#General-Guidelines-for-File-Documentation" class="headerlink" title="General Guidelines for File Documentation"></a>General Guidelines for File Documentation</h3><p>Describe the purpose and contents of each file.<br>Put your name, email address, and phone number in the block comment.<br>Include a copyright statement in the block comment.<br>Give the file a name related to its contents.</p>
<br>
<br>

<h2 id="CHECKLIST-Good-Commenting-Technique"><a href="#CHECKLIST-Good-Commenting-Technique" class="headerlink" title="CHECKLIST: Good Commenting Technique"></a>CHECKLIST: Good Commenting Technique</h2><p><strong>General</strong></p>
<ul>
<li>Can someone pick up the code and immediately start to understand it?</li>
<li>Do comments explain the code’s intent or summarize what the code does, rather than just repeating the code?</li>
<li>Is the Pseudocode Programming Process used to reduce commenting time?</li>
<li>Has tricky code been rewritten rather than commented?</li>
<li>Are comments up to date?</li>
<li>Are comments clear and correct?</li>
<li>Does the commenting style allow comments to be easily modified?</li>
</ul>
<br>
<br>

<p><strong>Statements and Paragraphs</strong></p>
<ul>
<li>Does the code avoid endline comments?</li>
<li>Do comments focus on why rather than how?</li>
<li>Do comments prepare the reader for the code to follow?</li>
<li>Does every comment count? Have redundant, extraneous, and self-indulgent comments been removed or improved?</li>
<li>Are surprises documented?</li>
<li>Have abbreviations been avoided?</li>
<li>Is the distinction between major and minor comments clear?</li>
<li>Is code that works around an error or undocumented feature commented?</li>
</ul>
<br>
<br>

<p><strong>Data Declarations</strong></p>
<ul>
<li>Are units on data declarations commented?</li>
<li>Are the ranges of values on numeric data commented?</li>
<li>Are coded meanings commented?</li>
<li>Are limitations on input data commented?</li>
<li>Are flags documented to the bit level?</li>
<li>Has each global variable been commented where it is declared?</li>
<li>Has each global variable been identified as such at each usage, by a naming convention, a comment, or both?</li>
<li>Are magic numbers replaced with named constants or variables rather than just documented?</li>
</ul>
<br>
<br>

<p><strong>Control Structures</strong></p>
<ul>
<li>Is each control statement commented?</li>
<li>Are the ends of long or complex control structures commented or, when possible, simplified so that they don’t need comments?</li>
</ul>
<br>
<br>

<p><strong>Routines</strong></p>
<ul>
<li>Is the purpose of each routine commented?</li>
<li>Are other facts about each routine given in comments, when relevant, including input and output data, interface assumptions, limitations, error corrections, global effects, and sources of algorithms?</li>
</ul>
<br>
<br>

<p><strong>Files, Classes, and Programs</strong></p>
<ul>
<li>Does the program have a short document such as that described in the Book Paradigm that gives an overall view of how the program is organized?</li>
<li>Is the purpose of each file described?</li>
<li>Are the author’s name, email address, and phone number in the listing?</li>
</ul>
<br>
<br>
<br>
<br>

<h1 id="Personal-Character"><a href="#Personal-Character" class="headerlink" title="Personal Character"></a>Personal Character</h1><p>If you want to be great, you’re responsible for making yourself great.<br>It’s a matter of your personal character.</p>
<p>The purpose of many good programming practices is to reduce the load on your gray cells.</p>
<div class="note ">
            <p>Here are a few examples:</p><p>The point of “decomposing” a system is to make it simpler to understand. (See Section TBD for more details.)</p><p>Conducting reviews, inspections, and tests is a way of compensating for anticipated human fallibilities. These review techniques originated as part of “egoless programming” (Weinberg 1998).</p><p>If you never made mistakes, you wouldn’t need to review your software. But you know that your intellectual capacity is limited, so you augment it with someone else’s.</p><p>Keeping routines short reduces the load on your brain.</p><p>Writing programs in terms of the problem domain rather than in terms of low-level implementation-level details reduces your mental workload.</p><p>Using conventions of all sorts frees your brain from the relatively mundane aspects of programming, which offer little payback.</p>
          </div>

<p>Empirically, however, it’s been shown that humble programmers who compensate for their fallibilities write code that’s easier for themselves and others to understand and that has fewer errors.</p>
<br>
<br>

<h2 id="Curiosity"><a href="#Curiosity" class="headerlink" title="Curiosity"></a>Curiosity</h2><p>Once you admit that your brain is too small to understand most programs and you realize that effective programming is a search for ways to offset that fact, you begin a career-long search for ways to compensate.</p>
<p>In the development of a superior programmer, curiosity about technical subjects must be a priority.</p>
<p>Build your awareness of the development process.</p>
<blockquote>
<p>If your workload consists entirely of short-term assignments that don’t develop your skills, be dissatisfied.<br>If you’re not learning, you’re turning into a dinosaur.<br>You’re in too much demand to spend time working for management that doesn’t have your interests in mind.<br>If you can’t learn at your job, find a new one.</p>
</blockquote>
<p>Experiment.</p>
<blockquote>
<p>One effective way to learn about programming is to experiment with programming and the development process.<br>Prototype!<br>One key to effective programming is learning to make mistakes quickly, learning from them each time.<br>Making a mistake is no sin.<br>Failing to learn from a mistake is.</p>
</blockquote>
<p>Read about problem solving.</p>
<blockquote>
<p>The implication is that even if you want to reinvent the wheel, you can’t count on success.<br>You might reinvent the square instead.</p>
</blockquote>
<p>Analyze and plan before you act.</p>
<p>Learn about successful projects.</p>
<blockquote>
<p>Ask to look at the code of programmers you respect.<br>Ask to look at the code of programmers you don’t.<br>Compare their code, and compare their code to your own.<br>In addition to reading other people’s code, develop a desire to know what expert programmers think about your code.</p>
</blockquote>
<p>Read!</p>
<blockquote>
<p>Computer documentation tends to be poorly written and poorly organized, but for all its problems, there’s much to gain from overcoming an excessive fear of computer- screen photons or paper products.<br>Documentation contains the keys to the castle, and it’s worth spending time reading it.<br>Often the company that provides the language product has already created many of the classes you need.<br>If it has, make sure you know about them.<br>Skim the documentation every couple of months.</p>
</blockquote>
<p>Read other books and periodicals.</p>
<p>Make a commitment to professional development.</p>
<div class="note ">
            <p>Good programmers constantly look for ways to become better.<br>Consider the following professional development ladder used at my company and several others:</p><p><strong>Level 1: Beginning.</strong><br>A beginner is a programmer capable of using the basic capabilities of one language.<br>Such a person can write classes, routines, loops, and conditionals and use many of the features of a language.</p><p><strong>Level 2: Introductory.</strong><br>An intermediate programmer who has moved past the beginner phase is capable of using the basic capabilities of multiple languages and is very comfortable in at least one language.</p><p><strong>Level 3: Competency.</strong><br>A competent programmer has expertise in a language or an environment or both.<br>A programmer at this level might know all the intricacies of J2EE or have the C++ Annotated C++ Reference Manual memorized.<br>Programmers at this level are valuable to their companies, and many programmers never move beyond this level.</p><p><strong>Level 4: Leadership.</strong><br>A leader has the expertise of a Level 3 programmer and recognizes that programming is only 15 percent communicating with the computer, that it’s 85 percent communicating with people.<br>Only 30 percent of an average programmer’s time is spent working alone (McCue 1978).<br>Even less time is spent communicating with the computer.<br>The guru writes code for an audience of people rather than machines.<br>True guru-level programmers write code that’s crystal-clear, and they document it too.<br>They don’t want to waste their valuable gray cells reconstructing the logic of a section of code that they could have read in a one-sentence comment.</p>
          </div>

<p>The sin is in how long you remain a beginner or intermediate after you know what you have to do to improve.</p>
<br>
<br>

<h2 id="Intellectual-Honesty"><a href="#Intellectual-Honesty" class="headerlink" title="Intellectual Honesty"></a>Intellectual Honesty</h2><p>Intellectual honesty commonly manifests itself in several ways:</p>
<blockquote>
<p>Refusing to pretend you’re an expert when you’re not<br>Readily admitting your mistakes<br>Trying to understand a compiler warning rather than suppressing the message<br>Clearly understanding your program—not compiling it to see if it works<br>Providing realistic status reports<br>Providing realistic schedule estimates and holding your ground when management asks you to adjust them</p>
</blockquote>
<br>
<br>

<p>You’d be better off pretending that you don’t know anything.<br>Listen to people’s explanations, learn something new from them, and assess whether they know what they are talking about.</p>
<p>A related kind of intellectual sloppiness occurs when you don’t quite understand your program and “just compile it to see if it works.”<br>In that situation, it doesn’t really matter whether the program works because you don’t understand it well enough to know whether it works or not.<br>Remember that testing can only show the presence of errors, not their absence.</p>
<br>
<br>

<p>The mistake Bert made was not realizing that estimates aren’t negotiable.<br>He can revise an estimate to be more accurate, but negotiating with his boss won’t change the time it takes to develop a software project.<br>In the long run, he’ll lose credibility by compromising.<br>In the short run, he’ll gain respect by standing firm on his estimate.</p>
<br>
<br>

<h2 id="Communication-and-Cooperation"><a href="#Communication-and-Cooperation" class="headerlink" title="Communication and Cooperation"></a>Communication and Cooperation</h2><p>Programming is communicating with another programmer first, communicating with the computer second.</p>
<br>
<br>

<h2 id="Creativity-and-Discipline"><a href="#Creativity-and-Discipline" class="headerlink" title="Creativity and Discipline"></a>Creativity and Discipline</h2><p>Without standards and conventions on large projects, project completion itself is impossible.<br>Don’t waste your creativity on things that don’t matter.</p>
<br>
<br>

<h2 id="Laziness"><a href="#Laziness" class="headerlink" title="Laziness"></a>Laziness</h2><p>Laziness manifests itself in several ways:</p>
<ul>
<li>Deferring an unpleasant task</li>
<li>Doing an unpleasant task quickly to get it out of the way</li>
<li>Writing a tool to do the unpleasant task so that you never have to do the task again</li>
</ul>
<p>It’s easy to confuse motion with progress; busy-ness with being productive.<br>The most important work in effective programming is thinking, and people tend not to look busy when they’re thinking.</p>
<br>
<br>

<h2 id="Persistence-1"><a href="#Persistence-1" class="headerlink" title="Persistence"></a>Persistence</h2><p>Depending on the situation, persistence can be either an asset or a liability.<br>Persistence when you’re stuck on a piece of new code is hardly ever a virtue.<br>Try redesigning the class, try an alternative coding approach, or try coming back to it later.<br>When one approach isn’t working, that’s a good time to try an alternative.</p>
<p>In debugging, it can be mighty satisfying to track down the error that has been annoying you for four hours, but it’s often better to give up on the error after a certain amount of time with no progress—say 15 minutes.<br>Let your subconscious chew on the problem for a while.</p>
<br>
<br>

<h2 id="Experience"><a href="#Experience" class="headerlink" title="Experience"></a>Experience</h2><p>In software, if you can’t shake the habits of thinking you developed while using your former programming language or the code-tuning techniques that worked on your old machine, your experience will be worse than none at all.</p>
<p>The bottom line on experience is this: If you work for 10 years, do you get 10 years of experience or do you get 1 year of experience 10 times? You have to reflect on your activities to get true experience. If you make learning a continuous commitment, you’ll get experience. If you don’t, you won’t, no matter how many years you have under your belt.</p>
<br>
<br>

<p>Good habits matter because most of what you do as a programmer you do without consciously thinking about it.<br>When you first learn something, learn it the right way.<br>In programming, try to develop new habits that work.<br>Develop the habit of writing a class in pseudocode before coding it and carefully reading the code before compiling it, for instance.</p>
<br>
<br>
<br>
<br>

<h1 id="Themes-in-Software-Craftsmanship"><a href="#Themes-in-Software-Craftsmanship" class="headerlink" title="Themes in Software Craftsmanship"></a>Themes in Software Craftsmanship</h1><h2 id="Conquer-Complexity"><a href="#Conquer-Complexity" class="headerlink" title="Conquer Complexity"></a>Conquer Complexity</h2><ul>
<li>Dividing a system into subsystems at the architecture level so that your brain can focus on a smaller amount of the system at one time.</li>
<li>Carefully defining class interfaces so that you can ignore the internal workings of the class</li>
<li>Preserving the abstraction represented by the class interface so that your brain doesn’t have to remember arbitrary details.</li>
<li>Avoiding global data, because global data vastly increases the percentage of the code you need to juggle in your brain at any one time.</li>
<li>Avoiding deep inheritance hierarchies because they are intellectually demanding</li>
<li>Avoiding deep nesting of loops and conditionals because they can be replaced by simpler control structures that burn up fewer gray cells.</li>
<li>Avoiding gotos because they introduce non-linearity that has been found to be difficult for most people to follow.</li>
<li>Carefully defining your approach to error handling rather than using an arbitrary proliferation of different error-handling techniques.</li>
<li>Being systematic about the use of the built-in exception mechanism, which can become a non-linear control structure that is about as hard to understand as gotos if not used with discipline.</li>
<li>Not allowing classes to grow into monster classes that amount to whole programs in themselves.</li>
<li>Keeping routines short.</li>
<li>Using clear, self-explanatory variable names so that your brain doesn’t have to waste cycles remembering details like “i stands for the account index, and j stands for the customer index, or was it the other way around?”</li>
<li>Minimizing the number of parameters passed to a routine, or, more important, passing only the parameters needed to preserve the routine interface’s abstraction.</li>
<li>Using conventions to spare your brain the challenge of remembering arbitrary, accidental differences between different sections of code.</li>
<li>In general, attacking what Chapter 5 describes as “accidental details” wherever possible.</li>
</ul>
<p>Naming variables functionally, for the “what” of the problem rather than the “how” of the implementation-level solution, increases the level of abstraction.</p>
<br>
<br>

<h2 id="Pick-Your-Process"><a href="#Pick-Your-Process" class="headerlink" title="Pick Your Process"></a>Pick Your Process</h2><p>One example of the way in which process matters is the consequence of not making requirements stable before you begin designing and coding.</p>
<p>The same principle of consciously attending to process applies to design.<br>You have to lay a solid foundation before you can begin building on it.<br>If you rush to coding before the foundation is complete, it will be harder to make fundamental changes in the system’s architecture.</p>
<p>The main reason the process matters is that in software, quality must be built in from the first step onward.<br>Premature optimization is another kind of process error. In an effective process, you make coarse adjustments at the beginning and fine adjustments at the end.</p>
<p>Low-level processes matter too. If you follow the process of writing pseudocode and then filling in the code around the pseudocode, you reap the benefits of designing from the top down.</p>
<p>Observing large processes and small processes means pausing to pay attention to how you create software.</p>
<br>
<br>

<h2 id="Write-Programs-for-People-First-Computers-Second"><a href="#Write-Programs-for-People-First-Computers-Second" class="headerlink" title="Write Programs for People First, Computers Second"></a>Write Programs for People First, Computers Second</h2><p>Habits affect all your work; you can’t turn them on and off at will, so be sure that what you’re doing is something you want to become a habit.<br>A professional programmer writes readable code, period.</p>
<br>
<br>

<h2 id="Program-Into-Your-Language-Not-In-It"><a href="#Program-Into-Your-Language-Not-In-It" class="headerlink" title="Program Into Your Language, Not In It"></a>Program Into Your Language, Not In It</h2><p>The best programmers think of what they want to do, and then they assess how to accomplish their objectives with the programming tools at their disposal.<br>In more typical cases, the gap between what you want to do and what your tools will readily support will require you to make only relatively minor concessions to your environment.</p>
<br>
<br>

<h2 id="Focus-Your-Attention-with-the-Help-of-Conventions"><a href="#Focus-Your-Attention-with-the-Help-of-Conventions" class="headerlink" title="Focus Your Attention with the Help of Conventions"></a>Focus Your Attention with the Help of Conventions</h2><p>Indentation conventions can concisely show the logical structure of a program.<br>Alignment conventions can indicate concisely that statements are related.</p>
<p>Conventions protect against known hazards.</p>
<br>
<br>

<h2 id="Program-in-Terms-of-the-Problem-Domain"><a href="#Program-in-Terms-of-the-Problem-Domain" class="headerlink" title="Program in Terms of the Problem Domain"></a>Program in Terms of the Problem Domain</h2><p>Another specific method of dealing with complexity is to work at the highest possible level of abstraction.<br>One way of working at a high level of abstraction is to work in terms of the programming problem rather than the computer-science solution.</p>
<br>
<br>

<h2 id="Separating-a-Program-into-Levels-of-Abstraction"><a href="#Separating-a-Program-into-Levels-of-Abstraction" class="headerlink" title="Separating a Program into Levels of Abstraction"></a>Separating a Program into Levels of Abstraction</h2><img src="/blog/2025/03/20/P340/P340_65.png" class="">

<p>Level 0: Operating System Operations and Machine Instructions</p>
<blockquote>
<p>If you’re working in a low-level language, you should try to create higher layers for yourself to work in, even though many programmers don’t do that.</p>
</blockquote>
<p>Level 1: Programming-Language Structures and Tools</p>
<p>Level 2: Low-Level Implementation Structures</p>
<blockquote>
<p>They tend to be the operations and data types you learn about in college courses in algorithms and data types—stacks, queues, linked lists, trees, indexed files, sequential files, sort algorithms, search algorithms, and so on.</p>
</blockquote>
<p>Level 3: Low-Level Problem-Domain Terms</p>
<blockquote>
<p>To write code at this level, you need to figure out the vocabulary of the problem area and create building blocks you can use to work with the problem the program solves.<br>In many applications, this will be the business objects layer or a services layer.</p>
</blockquote>
<p>Level 4: High-Level Problem-Domain Terms</p>
<blockquote>
<p>Changes in the problem domain should affect this layer a lot, but they should be easy to accommodate by programming in the problem-domain building blocks from the layer below.</p>
</blockquote>
<br>
<br>

<h2 id="Low-Level-Techniques-for-Working-in-the-Problem-Domain"><a href="#Low-Level-Techniques-for-Working-in-the-Problem-Domain" class="headerlink" title="Low-Level Techniques for Working in the Problem Domain"></a>Low-Level Techniques for Working in the Problem Domain</h2><p>You can use many of the techniques in this book to work in terms of the real-world problem rather than the computer-science solution:</p>
<ul>
<li>Use classes to implement structures that are meaningful in problem-domain terms.</li>
<li>Hide information about the low-level data types and their implementation details.</li>
<li>Use named constants to document the meanings of strings and of numeric literals.</li>
<li>Assign intermediate variables to document the results of intermediate calculations.</li>
<li>Use boolean functions to clarify complex boolean tests.</li>
</ul>
<br>
<br>

<h2 id="Watch-for-Falling-Rocks"><a href="#Watch-for-Falling-Rocks" class="headerlink" title="Watch for Falling Rocks"></a>Watch for Falling Rocks</h2><p>When you or someone else says “This is really tricky code,” that’s a warning sign, usually of poor code. “Tricky code” is a code phrase for “bad code.”</p>
<p>A class’s having more errors than average is a warning sign.</p>
<p>You can use design metrics as another kind of warning sign.</p>
<p>Because programming is still a craft, however, a warning sign merely points to an issue that you should consider.</p>
<p>A good process wouldn’t allow error-prone code to be developed.</p>
<p>It would include the checks and balances of architecture followed by architecture reviews, design followed by design reviews, and code followed by code reviews.</p>
<p><strong>Any warning sign should cause you to doubt the quality of your program.</strong><br><em>“Doubt is an uneasy and dissatisfied state from which we struggle to free ourselves and pass into the state of belief.”</em></p>
<br>
<br>

<p>If you find yourself working on repetitious code or making similar modifications in several areas, you should feel “uneasy and dissatisfied,” doubting that control has been adequately centralized in classes or routines.</p>
<p>The quality of the thinking that goes into a program largely determines the quality of the program, so paying attention to warnings about the quality of thinking directly affects the final product.</p>
<br>
<br>

<h2 id="Iterate-Repeatedly-Again-and-Again"><a href="#Iterate-Repeatedly-Again-and-Again" class="headerlink" title="Iterate, Repeatedly, Again and Again"></a>Iterate, Repeatedly, Again and Again</h2><p>The purpose of a review is to check the quality of the work at a particular point.<br>If the product fails the review, it’s sent back for rework.<br>If it succeeds, it doesn’t need further iteration.</p>
<br>
<br>

<h2 id="Eclecticism-折衷主义"><a href="#Eclecticism-折衷主义" class="headerlink" title="Eclecticism(折衷主义)"></a>Eclecticism(折衷主义)</h2><p>If you decide on the solution method before you fully understand the problem, you act prematurely.<br>You over-constrain the set of possible solutions, and you might rule out the most effective solution.</p>
<p>You’ll be uncomfortable with any new methodology initially, and the advice that you avoid religion in programming isn’t meant to suggest that you should stop using a new method as soon as you have a little trouble solving a problem with it.</p>
<br>
<br>
<br>
<br>
<link rel="stylesheet" href="/blog/css/spoiler.css" type="text/css"><script src="/blog/js/spoiler.js" type="text/javascript" async></script>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/C/" rel="tag"># C#</a>
              <a href="/blog/tags/C/" rel="tag"># C++</a>
              <a href="/blog/tags/python/" rel="tag"># python</a>
              <a href="/blog/tags/Java/" rel="tag"># Java</a>
              <a href="/blog/tags/VBA/" rel="tag"># VBA</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2025/06/01/P349/" rel="prev" title="清醒梦">
      <i class="fa fa-chevron-left"></i> 清醒梦
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2025/03/05/P348/" rel="next" title="简历">
      简历 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Stable-Requirements"><span class="nav-number">1.</span> <span class="nav-text">Stable Requirements</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-Requirements"><span class="nav-number">1.1.</span> <span class="nav-text">Checklist: Requirements</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Typical-Architectural-Components"><span class="nav-number">2.</span> <span class="nav-text">Typical Architectural Components</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Program-Organization"><span class="nav-number">2.1.</span> <span class="nav-text">Program Organization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Major-Classes"><span class="nav-number">2.2.</span> <span class="nav-text">Major Classes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Design"><span class="nav-number">2.3.</span> <span class="nav-text">Data Design</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#User-Interface-Design"><span class="nav-number">2.4.</span> <span class="nav-text">User Interface Design</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Input-Output"><span class="nav-number">2.5.</span> <span class="nav-text">Input&#x2F;Output</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resource-Management"><span class="nav-number">2.6.</span> <span class="nav-text">Resource Management</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Security"><span class="nav-number">2.7.</span> <span class="nav-text">Security</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Performance"><span class="nav-number">2.8.</span> <span class="nav-text">Performance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scalability"><span class="nav-number">2.9.</span> <span class="nav-text">Scalability</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Interoperability"><span class="nav-number">2.10.</span> <span class="nav-text">Interoperability</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Internationalization-Localization"><span class="nav-number">2.11.</span> <span class="nav-text">Internationalization &#x2F; Localization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Error-Processing"><span class="nav-number">2.12.</span> <span class="nav-text">Error Processing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fault-Tolerance"><span class="nav-number">2.13.</span> <span class="nav-text">Fault Tolerance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Architectural-Feasibility"><span class="nav-number">2.14.</span> <span class="nav-text">Architectural Feasibility</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Overengineering"><span class="nav-number">2.15.</span> <span class="nav-text">Overengineering</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Buy-vs-Build-Decisions"><span class="nav-number">2.16.</span> <span class="nav-text">Buy-vs.-Build Decisions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reuse-Decisions"><span class="nav-number">2.17.</span> <span class="nav-text">Reuse Decisions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Change-Strategy"><span class="nav-number">2.18.</span> <span class="nav-text">Change Strategy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#General-Architectural-Quality"><span class="nav-number">2.19.</span> <span class="nav-text">General Architectural Quality</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-Architecture"><span class="nav-number">2.20.</span> <span class="nav-text">Checklist: Architecture</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Amount-of-Time-to-Spend-on-Upstream-Prerequisites"><span class="nav-number">3.</span> <span class="nav-text">Amount of Time to Spend on Upstream Prerequisites</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-Upstream-Prerequisites"><span class="nav-number">3.1.</span> <span class="nav-text">Checklist: Upstream Prerequisites</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Choice-of-Programming-Language"><span class="nav-number">3.2.</span> <span class="nav-text">Choice of Programming Language</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-Major-Construction-Practices"><span class="nav-number">3.3.</span> <span class="nav-text">Checklist: Major Construction Practices</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Design-in-Construction"><span class="nav-number">4.</span> <span class="nav-text">Design in Construction</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Accidental-and-Essential-Difficulties"><span class="nav-number">4.1.</span> <span class="nav-text">Accidental and Essential Difficulties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Importance-of-Managing-Complexity"><span class="nav-number">4.2.</span> <span class="nav-text">Importance of Managing Complexity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Desirable-Characteristics-of-a-Design"><span class="nav-number">4.3.</span> <span class="nav-text">Desirable Characteristics of a Design</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Minimal-complexity"><span class="nav-number">4.3.1.</span> <span class="nav-text">Minimal complexity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ease-of-maintenance"><span class="nav-number">4.3.2.</span> <span class="nav-text">Ease of maintenance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Minimal-connectedness"><span class="nav-number">4.3.3.</span> <span class="nav-text">Minimal connectedness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Extensibility"><span class="nav-number">4.3.4.</span> <span class="nav-text">Extensibility</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reusability"><span class="nav-number">4.3.5.</span> <span class="nav-text">Reusability</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#High-fan-in"><span class="nav-number">4.3.6.</span> <span class="nav-text">High fan-in</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Low-to-medium-fan-out"><span class="nav-number">4.3.7.</span> <span class="nav-text">Low-to-medium fan-out</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Portability"><span class="nav-number">4.3.8.</span> <span class="nav-text">Portability</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leanness"><span class="nav-number">4.3.9.</span> <span class="nav-text">Leanness</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stratification"><span class="nav-number">4.3.10.</span> <span class="nav-text">Stratification</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Standard-techniques"><span class="nav-number">4.3.11.</span> <span class="nav-text">Standard techniques</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Levels-of-Design"><span class="nav-number">4.4.</span> <span class="nav-text">Levels of Design</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Subsystems"><span class="nav-number">4.4.1.</span> <span class="nav-text">Common Subsystems</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Find-Real-World-Objects"><span class="nav-number">4.4.2.</span> <span class="nav-text">Find Real-World Objects</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Form-Consistent-Abstractions"><span class="nav-number">4.4.3.</span> <span class="nav-text">Form Consistent Abstractions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Encapsulate-Implementation-Details"><span class="nav-number">4.4.4.</span> <span class="nav-text">Encapsulate Implementation Details</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inherit-When-Inheritance-Simplifies-the-Design"><span class="nav-number">4.4.5.</span> <span class="nav-text">Inherit When Inheritance Simplifies the Design</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hide-Secrets-Information-Hiding"><span class="nav-number">4.4.6.</span> <span class="nav-text">Hide Secrets (Information Hiding)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Secrets-and-the-Right-to-Privacy"><span class="nav-number">4.4.7.</span> <span class="nav-text">Secrets and the Right to Privacy</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Excessive-Distribution-Of-Information"><span class="nav-number">4.5.</span> <span class="nav-text">Excessive Distribution Of Information</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Circular-Dependencies"><span class="nav-number">4.6.</span> <span class="nav-text">Circular Dependencies</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class-Data-Mistaken-For-Global-Data"><span class="nav-number">4.7.</span> <span class="nav-text">Class Data Mistaken For Global Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Perceived-Performance-Penalties"><span class="nav-number">4.8.</span> <span class="nav-text">Perceived Performance Penalties</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Value-of-Information-Hiding"><span class="nav-number">4.9.</span> <span class="nav-text">Value of Information Hiding</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Identify-Areas-Likely-to-Change"><span class="nav-number">4.10.</span> <span class="nav-text">Identify Areas Likely to Change</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Anticipating-Different-Degrees-of-Change"><span class="nav-number">4.11.</span> <span class="nav-text">Anticipating Different Degrees of Change</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Keep-Coupling-Loose"><span class="nav-number">4.12.</span> <span class="nav-text">Keep Coupling Loose</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Coupling-Criteria"><span class="nav-number">4.12.1.</span> <span class="nav-text">Coupling Criteria</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Coupling-Criteria-1"><span class="nav-number">4.12.2.</span> <span class="nav-text">Coupling Criteria</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Look-for-Common-Design-Patterns"><span class="nav-number">4.13.</span> <span class="nav-text">Look for Common Design Patterns</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Guidelines-for-Using-Heuristics"><span class="nav-number">4.14.</span> <span class="nav-text">Guidelines for Using Heuristics</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Top-Down-and-Bottom-Up-Design-Approaches"><span class="nav-number">4.15.</span> <span class="nav-text">Top-Down and Bottom-Up Design Approaches</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Experimental-Prototyping"><span class="nav-number">4.16.</span> <span class="nav-text">Experimental Prototyping</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Capturing-Your-Design-Work"><span class="nav-number">4.17.</span> <span class="nav-text">Capturing Your Design Work</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Design-in-Construction"><span class="nav-number">4.18.</span> <span class="nav-text">CHECKLIST: Design in Construction</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Working-Classes"><span class="nav-number">5.</span> <span class="nav-text">Working Classes</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Good-Class-Interfaces"><span class="nav-number">5.1.</span> <span class="nav-text">Good Class Interfaces</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Good-Abstraction"><span class="nav-number">5.1.1.</span> <span class="nav-text">Good Abstraction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Good-Encapsulation"><span class="nav-number">5.1.2.</span> <span class="nav-text">Good Encapsulation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Design-and-Implementation-Issues"><span class="nav-number">5.2.</span> <span class="nav-text">Design and Implementation Issues</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Containment-%E2%80%9Chas-a%E2%80%9D-relationships"><span class="nav-number">5.2.1.</span> <span class="nav-text">Containment (“has a” relationships)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inheritance-%E2%80%9Cis-a%E2%80%9D-relationships"><span class="nav-number">5.2.2.</span> <span class="nav-text">Inheritance (“is a” relationships)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Member-Functions-and-Data"><span class="nav-number">5.2.3.</span> <span class="nav-text">Member Functions and Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Constructors"><span class="nav-number">5.2.4.</span> <span class="nav-text">Constructors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reasons-to-Create-a-Class"><span class="nav-number">5.3.</span> <span class="nav-text">Reasons to Create a Class</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Classes-to-Avoid"><span class="nav-number">5.4.</span> <span class="nav-text">Classes to Avoid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Language-Specific-Issues"><span class="nav-number">5.5.</span> <span class="nav-text">Language-Specific Issues</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Class-Quality"><span class="nav-number">5.6.</span> <span class="nav-text">CHECKLIST: Class Quality</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#High-Quality-Routines"><span class="nav-number">6.</span> <span class="nav-text">High-Quality Routines</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Valid-Reasons-to-Create-a-Routine"><span class="nav-number">6.1.</span> <span class="nav-text">Valid Reasons to Create a Routine</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Design-at-the-Routine-Level"><span class="nav-number">6.2.</span> <span class="nav-text">Design at the Routine Level</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Good-Routine-Names"><span class="nav-number">6.3.</span> <span class="nav-text">Good Routine Names</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-Use-Routine-Parameters"><span class="nav-number">6.4.</span> <span class="nav-text">How to Use Routine Parameters</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-to-Use-a-Function-and-When-to-Use-a-Procedure"><span class="nav-number">6.5.</span> <span class="nav-text">When to Use a Function and When to Use a Procedure</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Setting-the-Function%E2%80%99s-Return-Value"><span class="nav-number">6.6.</span> <span class="nav-text">Setting the Function’s Return Value</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Macro-Routines-and-Inline-Routines"><span class="nav-number">6.7.</span> <span class="nav-text">Macro Routines and Inline Routines</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Limitations-on-the-Use-of-Macro-Routines"><span class="nav-number">6.8.</span> <span class="nav-text">Limitations on the Use of Macro Routines</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-High-Quality-Routines"><span class="nav-number">6.9.</span> <span class="nav-text">CHECKLIST: High-Quality Routines</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Defensive-Programming"><span class="nav-number">7.</span> <span class="nav-text">Defensive Programming</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Protecting-Your-Program-From-Invalid-Inputs"><span class="nav-number">7.1.</span> <span class="nav-text">Protecting Your Program From Invalid Inputs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Assertions"><span class="nav-number">7.2.</span> <span class="nav-text">Assertions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Guidelines-for-Using-Assertions"><span class="nav-number">7.2.1.</span> <span class="nav-text">Guidelines for Using Assertions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Error-Handling-Techniques"><span class="nav-number">7.3.</span> <span class="nav-text">Error Handling Techniques</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Robustness-vs-Correctness"><span class="nav-number">7.4.</span> <span class="nav-text">Robustness vs. Correctness</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exceptions"><span class="nav-number">7.5.</span> <span class="nav-text">Exceptions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Barricade-Your-Program-to-Contain-the-Damage-Caused-by-Errors"><span class="nav-number">7.6.</span> <span class="nav-text">Barricade Your Program to Contain the Damage Caused by Errors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging-Aids"><span class="nav-number">7.7.</span> <span class="nav-text">Debugging Aids</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-Offensive-Programming"><span class="nav-number">7.7.1.</span> <span class="nav-text">Use Offensive Programming</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Plan-to-Remove-Debugging-Aids"><span class="nav-number">7.7.2.</span> <span class="nav-text">Plan to Remove Debugging Aids</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Determining-How-Much-Defensive-Pro-gramming-to-Leave-in-Production-Code"><span class="nav-number">7.8.</span> <span class="nav-text">Determining How Much Defensive Pro- gramming to Leave in Production Code</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Defensive-Programming"><span class="nav-number">7.9.</span> <span class="nav-text">CHECKLIST: Defensive Programming</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#The-Pseudocode-Programming-Process"><span class="nav-number">8.</span> <span class="nav-text">The Pseudocode Programming Process</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Pseudocode-for-Pros"><span class="nav-number">8.1.</span> <span class="nav-text">Pseudocode for Pros</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Constructing-Routines-Using-the-PPP"><span class="nav-number">8.1.1.</span> <span class="nav-text">Constructing Routines Using the PPP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Alternatives-to-the-PPP"><span class="nav-number">8.1.2.</span> <span class="nav-text">Alternatives to the PPP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CHECKLIST-The-Pseudocode-Programming-Process"><span class="nav-number">8.1.3.</span> <span class="nav-text">CHECKLIST: The Pseudocode Programming Process</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#General-Issues-in-Using-Variables"><span class="nav-number">9.</span> <span class="nav-text">General Issues in Using Variables</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Guidelines-for-Initializing-Variables"><span class="nav-number">9.1.</span> <span class="nav-text">Guidelines for Initializing Variables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scope"><span class="nav-number">9.2.</span> <span class="nav-text">Scope</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#General-Guidelines-for-Minimizing-Scope"><span class="nav-number">9.2.1.</span> <span class="nav-text">General Guidelines for Minimizing Scope.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comments-on-Minimizing-Scope"><span class="nav-number">9.2.2.</span> <span class="nav-text">Comments on Minimizing Scope</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Persistence"><span class="nav-number">9.3.</span> <span class="nav-text">Persistence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Binding-Time"><span class="nav-number">9.4.</span> <span class="nav-text">Binding Time</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Relationship-Between-Data-Types-and-Control-Structures"><span class="nav-number">9.5.</span> <span class="nav-text">Relationship Between Data Types and Control Structures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Using-Each-Variable-for-Exactly-One-Purpose"><span class="nav-number">9.6.</span> <span class="nav-text">Using Each Variable for Exactly One Purpose</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-General-Considerations-In-Using-Data"><span class="nav-number">9.7.</span> <span class="nav-text">CHECKLIST: General Considerations In Using Data</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#The-Power-of-Variable-Names"><span class="nav-number">10.</span> <span class="nav-text">The Power of Variable Names</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Considerations-in-Choosing-Good-Names"><span class="nav-number">10.1.</span> <span class="nav-text">Considerations in Choosing Good Names</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Naming-Status-Variables"><span class="nav-number">10.1.1.</span> <span class="nav-text">Naming Status Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Naming-Boolean-Variables"><span class="nav-number">10.1.2.</span> <span class="nav-text">Naming Boolean Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Naming-Enumerated-Types"><span class="nav-number">10.1.3.</span> <span class="nav-text">Naming Enumerated Types</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Guidelines-for-a-Language-Independent-Convention"><span class="nav-number">10.2.</span> <span class="nav-text">Guidelines for a Language-Independent Convention</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#User-Defined%E2%80%93Type-UDT-Abbreviation"><span class="nav-number">10.2.1.</span> <span class="nav-text">User-Defined–Type (UDT) Abbreviation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-Short-Names-That-Are-Readable"><span class="nav-number">10.2.2.</span> <span class="nav-text">Creating Short Names That Are Readable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comments-on-Abbreviations"><span class="nav-number">10.2.3.</span> <span class="nav-text">Comments on Abbreviations</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Naming-Variables"><span class="nav-number">10.3.</span> <span class="nav-text">CHECKLIST: Naming Variables</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Fundamental-Data-Types"><span class="nav-number">11.</span> <span class="nav-text">Fundamental Data Types</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Numbers-in-General"><span class="nav-number">11.1.</span> <span class="nav-text">Numbers in General</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Integers"><span class="nav-number">11.2.</span> <span class="nav-text">Integers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Floating-Point-Numbers"><span class="nav-number">11.3.</span> <span class="nav-text">Floating-Point Numbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Characters-and-Strings"><span class="nav-number">11.4.</span> <span class="nav-text">Characters and Strings</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Boolean-Variables"><span class="nav-number">11.5.</span> <span class="nav-text">Boolean Variables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enumerated-Types"><span class="nav-number">11.6.</span> <span class="nav-text">Enumerated Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Named-Constants"><span class="nav-number">11.7.</span> <span class="nav-text">Named Constants</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Arrays"><span class="nav-number">11.8.</span> <span class="nav-text">Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creating-Your-Own-Types"><span class="nav-number">11.9.</span> <span class="nav-text">Creating Your Own Types</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Fundamental-Data"><span class="nav-number">11.10.</span> <span class="nav-text">CHECKLIST: Fundamental Data</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Unusual-Data-Types"><span class="nav-number">12.</span> <span class="nav-text">Unusual Data Types</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Structures"><span class="nav-number">12.1.</span> <span class="nav-text">Structures</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pointers"><span class="nav-number">12.2.</span> <span class="nav-text">Pointers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Location-in-Memory"><span class="nav-number">12.2.1.</span> <span class="nav-text">Location in Memory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Knowledge-of-How-to-Interpret-the-Contents"><span class="nav-number">12.2.2.</span> <span class="nav-text">Knowledge of How to Interpret the Contents</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#General-Tips-on-Pointers"><span class="nav-number">12.3.</span> <span class="nav-text">General Tips on Pointers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#C-Pointer-Pointers"><span class="nav-number">12.3.1.</span> <span class="nav-text">C-Pointer Pointers</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Global-Data"><span class="nav-number">12.4.</span> <span class="nav-text">Global Data</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Problems-with-Global-Data"><span class="nav-number">12.4.1.</span> <span class="nav-text">Common Problems with Global Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reasons-to-Use-Global-Data"><span class="nav-number">12.4.2.</span> <span class="nav-text">Reasons to Use Global Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Use-Global-Data-Only-as-a-Last-Resort"><span class="nav-number">12.4.3.</span> <span class="nav-text">Use Global Data Only as a Last Resort</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Using-Access-Routines-Instead-of-Global-Data"><span class="nav-number">12.5.</span> <span class="nav-text">Using Access Routines Instead of Global Data</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Advantages-of-Access-Routines"><span class="nav-number">12.5.1.</span> <span class="nav-text">Advantages of Access Routines</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-Use-Access-Routines"><span class="nav-number">12.5.2.</span> <span class="nav-text">How to Use Access Routines</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-Reduce-the-Risks-of-Using-Global-Data"><span class="nav-number">12.6.</span> <span class="nav-text">How to Reduce the Risks of Using Global Data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Considerations-In-Using-Unusual-Data-Types"><span class="nav-number">12.7.</span> <span class="nav-text">CHECKLIST: Considerations In Using Unusual Data Types</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Organizing-Straight-Line-Code"><span class="nav-number">13.</span> <span class="nav-text">Organizing Straight-Line Code</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Statements-That-Must-Be-in-a-Specific-Order"><span class="nav-number">13.1.</span> <span class="nav-text">Statements That Must Be in a Specific Order</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Statements-Whose-Order-Doesn%E2%80%99t-Matter"><span class="nav-number">13.2.</span> <span class="nav-text">Statements Whose Order Doesn’t Matter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-Organizing-Straight-Line-Code"><span class="nav-number">13.3.</span> <span class="nav-text">Checklist: Organizing Straight-Line Code</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Using-Conditionals"><span class="nav-number">14.</span> <span class="nav-text">Using Conditionals</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Plain-if-then-Statements"><span class="nav-number">14.1.</span> <span class="nav-text">Plain if-then Statements</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Chains-of-if-then-else-Statements"><span class="nav-number">14.2.</span> <span class="nav-text">Chains of if-then-else Statements</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Case-Statements"><span class="nav-number">14.3.</span> <span class="nav-text">Case Statements</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Conditionals"><span class="nav-number">14.4.</span> <span class="nav-text">CHECKLIST: Conditionals</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Controlling-Loops"><span class="nav-number">15.</span> <span class="nav-text">Controlling Loops</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Selecting-the-Kind-of-Loop"><span class="nav-number">15.1.</span> <span class="nav-text">Selecting the Kind of Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-to-Use-a-while-Loop"><span class="nav-number">15.2.</span> <span class="nav-text">When to Use a while Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-to-Use-a-loop-with-exit-Loop"><span class="nav-number">15.3.</span> <span class="nav-text">When to Use a loop-with-exit Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-to-Use-a-for-Loop"><span class="nav-number">15.4.</span> <span class="nav-text">When to Use a for Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-to-Use-a-foreach-Loop"><span class="nav-number">15.5.</span> <span class="nav-text">When to Use a foreach Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Controlling-the-Loop"><span class="nav-number">15.6.</span> <span class="nav-text">Controlling the Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Entering-the-Loop"><span class="nav-number">15.7.</span> <span class="nav-text">Entering the Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Processing-the-Middle-of-the-Loop"><span class="nav-number">15.8.</span> <span class="nav-text">Processing the Middle of the Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exiting-the-Loop"><span class="nav-number">15.9.</span> <span class="nav-text">Exiting the Loop</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exiting-Loops-Early"><span class="nav-number">15.10.</span> <span class="nav-text">Exiting Loops Early</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checking-Endpoints"><span class="nav-number">15.11.</span> <span class="nav-text">Checking Endpoints</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Using-Loop-Variables"><span class="nav-number">15.12.</span> <span class="nav-text">Using Loop Variables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-Long-Should-a-Loop-Be"><span class="nav-number">15.13.</span> <span class="nav-text">How Long Should a Loop Be?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creating-Loops-Easily%E2%80%94from-the-Inside-Out"><span class="nav-number">15.14.</span> <span class="nav-text">Creating Loops Easily—from the Inside Out</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Loops"><span class="nav-number">15.15.</span> <span class="nav-text">CHECKLIST: Loops</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Unusual-Control-Structures"><span class="nav-number">16.</span> <span class="nav-text">Unusual Control Structures</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Multiple-Returns-from-a-Routine"><span class="nav-number">16.1.</span> <span class="nav-text">Multiple Returns from a Routine</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Recursion"><span class="nav-number">16.2.</span> <span class="nav-text">Recursion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tips-for-Using-Recursion"><span class="nav-number">16.3.</span> <span class="nav-text">Tips for Using Recursion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#goto"><span class="nav-number">16.4.</span> <span class="nav-text">goto</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Unusual-Control-Structures"><span class="nav-number">16.5.</span> <span class="nav-text">CHECKLIST: Unusual Control Structures</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Table-Driven-Methods"><span class="nav-number">17.</span> <span class="nav-text">Table-Driven Methods</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Direct-Access-Tables"><span class="nav-number">17.1.</span> <span class="nav-text">Direct Access Tables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fudging-Lookup-Keys"><span class="nav-number">17.2.</span> <span class="nav-text">Fudging Lookup Keys</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Indexed-Access-Tables"><span class="nav-number">17.3.</span> <span class="nav-text">Indexed Access Tables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stair-Step-Access-Tables"><span class="nav-number">17.4.</span> <span class="nav-text">Stair-Step Access Tables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Table-Driven-Methods"><span class="nav-number">17.5.</span> <span class="nav-text">CHECKLIST: Table-Driven Methods</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#General-Control-Issues"><span class="nav-number">18.</span> <span class="nav-text">General Control Issues</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Making-Complicated-Expressions-Simple"><span class="nav-number">18.1.</span> <span class="nav-text">Making Complicated Expressions Simple</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Forming-Boolean-Expressions-Positively"><span class="nav-number">18.2.</span> <span class="nav-text">Forming Boolean Expressions Positively</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Guidelines-for-Comparisons-to-0"><span class="nav-number">18.3.</span> <span class="nav-text">Guidelines for Comparisons to 0</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Null-Statements"><span class="nav-number">18.4.</span> <span class="nav-text">Null Statements</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Taming-Dangerously-Deep-Nesting"><span class="nav-number">18.5.</span> <span class="nav-text">Taming Dangerously Deep Nesting</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#The-Three-Components-of-Structured-Programming"><span class="nav-number">18.6.</span> <span class="nav-text">The Three Components of Structured Programming</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Control-Structure-Issues"><span class="nav-number">18.7.</span> <span class="nav-text">CHECKLIST: Control-Structure Issues</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#The-Software-Quality-Landscape"><span class="nav-number">19.</span> <span class="nav-text">The Software-Quality Landscape</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Techniques-for-Improving-Software-Quality"><span class="nav-number">19.1.</span> <span class="nav-text">Techniques for Improving Software Quality</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cost-of-Defects"><span class="nav-number">19.2.</span> <span class="nav-text">Cost of Defects</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-A-Quality-Assurance-Plan"><span class="nav-number">19.3.</span> <span class="nav-text">CHECKLIST: A Quality-Assurance Plan</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Collaborative-Construction"><span class="nav-number">20.</span> <span class="nav-text">Collaborative Construction</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Pair-Programming"><span class="nav-number">20.1.</span> <span class="nav-text">Pair Programming</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Keys-to-Success-with-Pair-Programming"><span class="nav-number">20.1.1.</span> <span class="nav-text">Keys to Success with Pair Programming</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CHECKLIST-Effective-Pair-Programming"><span class="nav-number">20.1.2.</span> <span class="nav-text">CHECKLIST: Effective Pair Programming</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Formal-Inspections"><span class="nav-number">20.2.</span> <span class="nav-text">Formal Inspections</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Roles-During-an-Inspection"><span class="nav-number">20.3.</span> <span class="nav-text">Roles During an Inspection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#General-Procedure-for-an-Inspection"><span class="nav-number">20.4.</span> <span class="nav-text">General Procedure for an Inspection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Inspection-Report"><span class="nav-number">20.5.</span> <span class="nav-text">Inspection Report</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Effective-Inspections"><span class="nav-number">20.6.</span> <span class="nav-text">CHECKLIST: Effective Inspections</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Other-Kinds-of-Collaborative-Development-Practices"><span class="nav-number">20.7.</span> <span class="nav-text">Other Kinds of Collaborative Development Practices</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Walkthroughs"><span class="nav-number">20.7.1.</span> <span class="nav-text">Walkthroughs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Code-Reading"><span class="nav-number">20.7.2.</span> <span class="nav-text">Code Reading</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dog-and-Pony-Shows"><span class="nav-number">20.7.3.</span> <span class="nav-text">Dog-and-Pony Shows</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Developer-Testing"><span class="nav-number">21.</span> <span class="nav-text">Developer Testing</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Recommended-Approach-to-Developer-Testing"><span class="nav-number">21.1.</span> <span class="nav-text">Recommended Approach to Developer Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Test-First-or-Test-Last"><span class="nav-number">21.2.</span> <span class="nav-text">Test First or Test Last?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Limitations-of-Developer-Testing"><span class="nav-number">21.3.</span> <span class="nav-text">Limitations of Developer Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bag-of-Testing-Tricks"><span class="nav-number">21.4.</span> <span class="nav-text">Bag of Testing Tricks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Flow-Testing"><span class="nav-number">21.5.</span> <span class="nav-text">Data-Flow Testing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Error-Guessing"><span class="nav-number">21.6.</span> <span class="nav-text">Error Guessing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Boundary-Analysis"><span class="nav-number">21.6.1.</span> <span class="nav-text">Boundary Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Compound-Boundaries"><span class="nav-number">21.6.2.</span> <span class="nav-text">Compound Boundaries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Classes-of-Bad-Data"><span class="nav-number">21.6.3.</span> <span class="nav-text">Classes of Bad Data</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Classes-of-Good-Data"><span class="nav-number">21.6.4.</span> <span class="nav-text">Classes of Good Data</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Typical-Errors"><span class="nav-number">21.7.</span> <span class="nav-text">Typical Errors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Building-Scaffolding-to-Test-Individual-Classes"><span class="nav-number">21.8.</span> <span class="nav-text">Building Scaffolding to Test Individual Classes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#System-Perturbers"><span class="nav-number">21.9.</span> <span class="nav-text">System Perturbers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Error-Databases"><span class="nav-number">21.10.</span> <span class="nav-text">Error Databases</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Planning-to-Test"><span class="nav-number">21.11.</span> <span class="nav-text">Planning to Test</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Retesting-Regression-Testing"><span class="nav-number">21.11.1.</span> <span class="nav-text">Retesting (Regression Testing)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Automated-Testing"><span class="nav-number">21.11.2.</span> <span class="nav-text">Automated Testing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Keeping-Test-Records"><span class="nav-number">21.11.3.</span> <span class="nav-text">Keeping Test Records</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Personal-Test-Records"><span class="nav-number">21.12.</span> <span class="nav-text">Personal Test Records</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Test-Cases"><span class="nav-number">21.13.</span> <span class="nav-text">CHECKLIST: Test Cases</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Debugging"><span class="nav-number">22.</span> <span class="nav-text">Debugging</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Defects-as-Opportunities"><span class="nav-number">22.1.</span> <span class="nav-text">Defects as Opportunities</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#The-Devil%E2%80%99s-Guide-to-Debugging"><span class="nav-number">22.2.</span> <span class="nav-text">The Devil’s Guide to Debugging</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#The-Scientific-Method-of-Debugging"><span class="nav-number">22.3.</span> <span class="nav-text">The Scientific Method of Debugging</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stabilize-the-Error"><span class="nav-number">22.4.</span> <span class="nav-text">Stabilize the Error</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tips-for-Finding-Defects"><span class="nav-number">22.5.</span> <span class="nav-text">Tips for Finding Defects</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Brute-Force-Debugging"><span class="nav-number">22.6.</span> <span class="nav-text">Brute Force Debugging</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Syntax-Errors"><span class="nav-number">22.7.</span> <span class="nav-text">Syntax Errors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fixing-a-Defect"><span class="nav-number">22.8.</span> <span class="nav-text">Fixing a Defect</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging-Tools%E2%80%94Obvious-and-Not-So-Obvious"><span class="nav-number">22.9.</span> <span class="nav-text">Debugging Tools—Obvious and Not-So- Obvious</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Debugging-Reminders"><span class="nav-number">22.10.</span> <span class="nav-text">CHECKLIST: Debugging Reminders</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Code-Tuning-Strategies"><span class="nav-number">23.</span> <span class="nav-text">Code-Tuning Strategies</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Quality-Characteristics-and-Performance"><span class="nav-number">23.1.</span> <span class="nav-text">Quality Characteristics and Performance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Old-Wives%E2%80%99-Tales"><span class="nav-number">23.2.</span> <span class="nav-text">Old Wives’ Tales</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#When-to-Tune"><span class="nav-number">23.3.</span> <span class="nav-text">When to Tune</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Measurement"><span class="nav-number">23.4.</span> <span class="nav-text">Measurement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary-of-the-Approach-to-Code-Tuning"><span class="nav-number">23.5.</span> <span class="nav-text">Summary of the Approach to Code Tuning</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Code-Tuning-Strategy"><span class="nav-number">23.6.</span> <span class="nav-text">CHECKLIST: Code-Tuning Strategy</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Code-Tuning-Techniques"><span class="nav-number">24.</span> <span class="nav-text">Code-Tuning Techniques</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Make-the-loop-itself-faster"><span class="nav-number">24.1.</span> <span class="nav-text">Make the loop itself faster</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Transformations"><span class="nav-number">24.2.</span> <span class="nav-text">Data Transformations</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Code-Tuning-Techniques"><span class="nav-number">24.3.</span> <span class="nav-text">CHECKLIST: Code-Tuning Techniques</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#How-Program-Size-Affects-Construction"><span class="nav-number">25.</span> <span class="nav-text">How Program Size Affects Construction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Managing-Construction"><span class="nav-number">26.</span> <span class="nav-text">Managing Construction</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Considerations-in-Setting-Standards"><span class="nav-number">26.1.</span> <span class="nav-text">Considerations in Setting Standards</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-Is-Configuration-Management"><span class="nav-number">26.2.</span> <span class="nav-text">What Is Configuration Management?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Requirements-and-Design-Changes"><span class="nav-number">26.3.</span> <span class="nav-text">Requirements and Design Changes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Software-Code-Changes"><span class="nav-number">26.4.</span> <span class="nav-text">Software Code Changes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Configuration-Management"><span class="nav-number">26.5.</span> <span class="nav-text">CHECKLIST: Configuration Management</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Estimation-Approaches"><span class="nav-number">26.6.</span> <span class="nav-text">Estimation Approaches</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-to-do-If-You%E2%80%99re-Behind"><span class="nav-number">26.7.</span> <span class="nav-text">What to do If You’re Behind</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Measuring"><span class="nav-number">26.8.</span> <span class="nav-text">Measuring</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Religious-Issues"><span class="nav-number">26.9.</span> <span class="nav-text">Religious Issues</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Managing-Your-Manager"><span class="nav-number">26.10.</span> <span class="nav-text">Managing Your Manager</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Integration"><span class="nav-number">27.</span> <span class="nav-text">Integration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Integration-Frequency%E2%80%94Phased-or-Incremental"><span class="nav-number">27.1.</span> <span class="nav-text">Integration Frequency—Phased or Incremental?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Phased-Integration"><span class="nav-number">27.1.1.</span> <span class="nav-text">Phased Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Incremental-Integration"><span class="nav-number">27.1.2.</span> <span class="nav-text">Incremental Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Top-Down-Integration"><span class="nav-number">27.1.3.</span> <span class="nav-text">Top-Down Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bottom-Up-Integration"><span class="nav-number">27.1.4.</span> <span class="nav-text">Bottom-Up Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sandwich-Integration"><span class="nav-number">27.1.5.</span> <span class="nav-text">Sandwich Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Risk-Oriented-Integration"><span class="nav-number">27.1.6.</span> <span class="nav-text">Risk-Oriented Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Feature-Oriented-Integration"><span class="nav-number">27.1.7.</span> <span class="nav-text">Feature-Oriented Integration</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#T-Shaped-Integration"><span class="nav-number">27.1.8.</span> <span class="nav-text">T-Shaped Integration</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Daily-Build-and-Smoke-Test"><span class="nav-number">27.2.</span> <span class="nav-text">Daily Build and Smoke Test</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Integration"><span class="nav-number">27.3.</span> <span class="nav-text">CHECKLIST: Integration</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Programming-Tools"><span class="nav-number">28.</span> <span class="nav-text">Programming Tools</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Editing"><span class="nav-number">28.1.</span> <span class="nav-text">Editing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Integrated-Development-Environments-IDEs"><span class="nav-number">28.1.1.</span> <span class="nav-text">Integrated Development Environments (IDEs).</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Executable-Code-Tools"><span class="nav-number">28.2.</span> <span class="nav-text">Executable-Code Tools</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-Programming-Tools"><span class="nav-number">28.3.</span> <span class="nav-text">Checklist: Programming Tools</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Layout-and-Style"><span class="nav-number">29.</span> <span class="nav-text">Layout and Style</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Objectives-of-Good-Layout"><span class="nav-number">29.1.</span> <span class="nav-text">Objectives of Good Layout</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Layout-Techniques"><span class="nav-number">29.2.</span> <span class="nav-text">Layout Techniques</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Layout-Styles"><span class="nav-number">29.3.</span> <span class="nav-text">Layout Styles</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Which-Style-Is-Best"><span class="nav-number">29.4.</span> <span class="nav-text">Which Style Is Best?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fine-Points-of-Formatting-Control-Structure-Blocks"><span class="nav-number">29.5.</span> <span class="nav-text">Fine Points of Formatting Control-Structure Blocks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Laying-Out-Individual-Statements"><span class="nav-number">29.6.</span> <span class="nav-text">Laying Out Individual Statements</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Statement-Length"><span class="nav-number">29.6.1.</span> <span class="nav-text">Statement Length</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-Spaces-for-Clarity"><span class="nav-number">29.6.2.</span> <span class="nav-text">Using Spaces for Clarity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Formatting-Continuation-Lines"><span class="nav-number">29.6.3.</span> <span class="nav-text">Formatting Continuation Lines</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Using-Only-One-Statement-per-Line"><span class="nav-number">29.6.4.</span> <span class="nav-text">Using Only One Statement per Line</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Laying-Out-Data-Declarations"><span class="nav-number">29.6.5.</span> <span class="nav-text">Laying Out Data Declarations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#In-C-put-the-asterisk-next-to-the-variable-name-in-pointer-declarations-or-declare-pointer-types"><span class="nav-number">29.6.6.</span> <span class="nav-text">In C++, put the asterisk next to the variable name in pointer declarations or declare pointer types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Laying-Out-Comments"><span class="nav-number">29.6.7.</span> <span class="nav-text">Laying Out Comments</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Laying-Out-Routines"><span class="nav-number">29.6.8.</span> <span class="nav-text">Laying Out Routines</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Laying-Out-Class"><span class="nav-number">29.7.</span> <span class="nav-text">Laying Out Class</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Laying-out-class-interfaces"><span class="nav-number">29.7.1.</span> <span class="nav-text">Laying out class interfaces</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Laying-Out-Class-Implementations"><span class="nav-number">29.7.2.</span> <span class="nav-text">Laying Out Class Implementations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Laying-Out-Files-and-Programs"><span class="nav-number">29.7.3.</span> <span class="nav-text">Laying Out Files and Programs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Layout"><span class="nav-number">29.8.</span> <span class="nav-text">CHECKLIST: Layout</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Self-Documenting-Code"><span class="nav-number">30.</span> <span class="nav-text">Self-Documenting Code</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#External-Documentation"><span class="nav-number">30.1.</span> <span class="nav-text">External Documentation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Unit-development-folders"><span class="nav-number">30.1.1.</span> <span class="nav-text">Unit development folders</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Detailed-design-document"><span class="nav-number">30.1.2.</span> <span class="nav-text">Detailed-design document</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Programming-Style-as-Documentation"><span class="nav-number">30.1.3.</span> <span class="nav-text">Programming Style as Documentation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Self-Documenting-Code"><span class="nav-number">30.2.</span> <span class="nav-text">CHECKLIST: Self-Documenting Code</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Comments"><span class="nav-number">30.3.</span> <span class="nav-text">Comments</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Commenting-Techniques"><span class="nav-number">30.4.</span> <span class="nav-text">Commenting Techniques</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Commenting-Individual-Lines"><span class="nav-number">30.4.1.</span> <span class="nav-text">Commenting Individual Lines</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Endline-Comments-and-Their-Problems"><span class="nav-number">30.4.2.</span> <span class="nav-text">Endline Comments and Their Problems</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Commenting-Paragraphs-of-Code"><span class="nav-number">30.4.3.</span> <span class="nav-text">Commenting Paragraphs of Code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Commenting-Data-Declarations"><span class="nav-number">30.4.4.</span> <span class="nav-text">Commenting Data Declarations</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Commenting-Control-Structures"><span class="nav-number">30.4.5.</span> <span class="nav-text">Commenting Control Structures</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Commenting-Routines"><span class="nav-number">30.5.</span> <span class="nav-text">Commenting Routines</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Commenting-Classes-Files-and-Programs"><span class="nav-number">30.6.</span> <span class="nav-text">Commenting Classes, Files, and Programs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#General-Guidelines-for-Class-Documentation"><span class="nav-number">30.6.1.</span> <span class="nav-text">General Guidelines for Class Documentation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#General-Guidelines-for-File-Documentation"><span class="nav-number">30.6.2.</span> <span class="nav-text">General Guidelines for File Documentation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CHECKLIST-Good-Commenting-Technique"><span class="nav-number">30.7.</span> <span class="nav-text">CHECKLIST: Good Commenting Technique</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Personal-Character"><span class="nav-number">31.</span> <span class="nav-text">Personal Character</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Curiosity"><span class="nav-number">31.1.</span> <span class="nav-text">Curiosity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Intellectual-Honesty"><span class="nav-number">31.2.</span> <span class="nav-text">Intellectual Honesty</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Communication-and-Cooperation"><span class="nav-number">31.3.</span> <span class="nav-text">Communication and Cooperation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creativity-and-Discipline"><span class="nav-number">31.4.</span> <span class="nav-text">Creativity and Discipline</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Laziness"><span class="nav-number">31.5.</span> <span class="nav-text">Laziness</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Persistence-1"><span class="nav-number">31.6.</span> <span class="nav-text">Persistence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Experience"><span class="nav-number">31.7.</span> <span class="nav-text">Experience</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Themes-in-Software-Craftsmanship"><span class="nav-number">32.</span> <span class="nav-text">Themes in Software Craftsmanship</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Conquer-Complexity"><span class="nav-number">32.1.</span> <span class="nav-text">Conquer Complexity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pick-Your-Process"><span class="nav-number">32.2.</span> <span class="nav-text">Pick Your Process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Write-Programs-for-People-First-Computers-Second"><span class="nav-number">32.3.</span> <span class="nav-text">Write Programs for People First, Computers Second</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Program-Into-Your-Language-Not-In-It"><span class="nav-number">32.4.</span> <span class="nav-text">Program Into Your Language, Not In It</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Focus-Your-Attention-with-the-Help-of-Conventions"><span class="nav-number">32.5.</span> <span class="nav-text">Focus Your Attention with the Help of Conventions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Program-in-Terms-of-the-Problem-Domain"><span class="nav-number">32.6.</span> <span class="nav-text">Program in Terms of the Problem Domain</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Separating-a-Program-into-Levels-of-Abstraction"><span class="nav-number">32.7.</span> <span class="nav-text">Separating a Program into Levels of Abstraction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Low-Level-Techniques-for-Working-in-the-Problem-Domain"><span class="nav-number">32.8.</span> <span class="nav-text">Low-Level Techniques for Working in the Problem Domain</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Watch-for-Falling-Rocks"><span class="nav-number">32.9.</span> <span class="nav-text">Watch for Falling Rocks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Iterate-Repeatedly-Again-and-Again"><span class="nav-number">32.10.</span> <span class="nav-text">Iterate, Repeatedly, Again and Again</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Eclecticism-%E6%8A%98%E8%A1%B7%E4%B8%BB%E4%B9%89"><span class="nav-number">32.11.</span> <span class="nav-text">Eclecticism(折衷主义)</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mazui"
      src="/blog/images/logo_11.jpg">
  <p class="site-author-name" itemprop="name">Mazui</p>
  <div class="site-description" itemprop="description">与孤独和平共处.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">347</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:mazui.and.rio@gmail.com" title="E-Mail → mailto:mazui.and.rio@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3032131561?topnav=1&wvr=6&topsug=1&ssl_rnd=1606158448.6943&is_all=1" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3032131561?topnav&#x3D;1&amp;wvr&#x3D;6&amp;topsug&#x3D;1&amp;ssl_rnd&#x3D;1606158448.6943&amp;is_all&#x3D;1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/mazui_3" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/mazui_3" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

<br>
      <!--new music test-->

  <!--网易云插件-->
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/4mCwspCTPF1aoWUNxsS5aD?utm_source=generator" width="100%" height="80" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mazui</span>

<!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>


    <span title="C">2m</span>
  -->

  <!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="T">30:05</span>

  -->

</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
<br>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">阅览室一共有2m的老兔正在打瞌睡</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://mazui3-com.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://mazui3.github.io/blog/2025/03/20/P340/";
    this.page.identifier = "2025/03/20/P340/";
    this.page.title = "Code Complete的笔记";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://mazui3-com.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
