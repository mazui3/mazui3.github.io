<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/star.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/blog/lib/pace/pace-theme-minimal.min.css">
  <script src="/blog/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mazui3.github.io","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":265,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"text":"Load Disqus","order":-1}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="这份笔记……在我全部整理完想快速发布的时候,编辑器崩坏,记录全丢惹(atom你真的不行了).……不准备再记一遍惹反正看过有点印象在脑子里也足够.只剩下一点碎片的截图和没搞懂的概念重新看一遍.">
<meta property="og:type" content="article">
<meta property="og:title" content="关于C#的笔记">
<meta property="og:url" content="https://mazui3.github.io/blog/2025/02/25/P339/index.html">
<meta property="og:site_name" content="Underlake Reading Room">
<meta property="og:description" content="这份笔记……在我全部整理完想快速发布的时候,编辑器崩坏,记录全丢惹(atom你真的不行了).……不准备再记一遍惹反正看过有点印象在脑子里也足够.只剩下一点碎片的截图和没搞懂的概念重新看一遍.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_1.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_2.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_3.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_4.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_5.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_6.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_7.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_8.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_9.jpg">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_10.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_11.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_12.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_13.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_14.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_15.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_16.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_17.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_18.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_19.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_20.png">
<meta property="article:published_time" content="2025-02-24T19:08:08.000Z">
<meta property="article:modified_time" content="2025-03-19T01:02:16.621Z">
<meta property="article:author" content="Mazui">
<meta property="article:tag" content="C#">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mazui3.github.io/blog/2025/02/25/P339/P339_1.png">

<link rel="canonical" href="https://mazui3.github.io/blog/2025/02/25/P339/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>关于C#的笔记 | Underlake Reading Room</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Underlake Reading Room</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">这里是图书馆外的阅览室🌟</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-zone">

    <a href="https://cerulean-raclette-358.notion.site/QQ-7770800c659c4c5cbda0ba1b6720dec8" rel="noopener" target="_blank"><i class="fab fa-diaspora fa-fw"></i>Zone</a>

  </li>
        <li class="menu-item menu-item-back">

    <a href="https://mazui3.github.io/" rel="section"><i class="fa fa-cloud fa-fw"></i>Back</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://mazui3.github.io/blog/2025/02/25/P339/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/logo_11.jpg">
      <meta itemprop="name" content="Mazui">
      <meta itemprop="description" content="与孤独和平共处.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Underlake Reading Room">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          关于C#的笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2025-02-25 03:08:08" itemprop="dateCreated datePublished" datetime="2025-02-25T03:08:08+08:00">2025-02-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2025-03-19 09:02:16" itemprop="dateModified" datetime="2025-03-19T09:02:16+08:00">2025-03-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E5%86%99%E7%A0%81%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">写码笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/blog/2025/02/25/P339/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2025/02/25/P339/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="C">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6.2k</span>
            </span>
            <span class="post-meta-item" title="T">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>这份笔记……在我全部整理完想快速发布的时候,编辑器崩坏,记录全丢惹(atom你真的不行了).<br>……不准备再记一遍惹反正看过有点印象在脑子里也足够.<br>只剩下一点碎片的截图和没搞懂的概念重新看一遍.</p>
<span id="more"></span>

<br>
<br>

<img src="/blog/2025/02/25/P339/P339_1.png" class="">
<img src="/blog/2025/02/25/P339/P339_2.png" class="">
<img src="/blog/2025/02/25/P339/P339_3.png" class="">
<img src="/blog/2025/02/25/P339/P339_4.png" class="">
<img src="/blog/2025/02/25/P339/P339_5.png" class="">
<img src="/blog/2025/02/25/P339/P339_6.png" class="">
<img src="/blog/2025/02/25/P339/P339_7.png" class="">
<img src="/blog/2025/02/25/P339/P339_8.png" class="">


<br>
<br>

<h2 id="C-索引器-Indexer"><a href="#C-索引器-Indexer" class="headerlink" title="C# 索引器 - Indexer"></a>C# 索引器 - Indexer</h2><p>索引器（Indexer） 允许一个对象可以像数组一样被索引。<br>当您为类定义一个索引器时，该类的行为就会像一个 虚拟数组（virtual array） 一样。</p>
<p>索引器（Indexer）的用途</p>
<p>索引器的行为的声明在某种程度上类似于属性（property）。就像属性（property），您可使用 get 和 set 访问器来定义索引器。但是，属性返回或设置一个特定的数据成员，而索引器返回或设置对象实例的一个特定值。换句话说，它把实例数据分为更小的部分，并索引每个部分，获取或设置每个部分。</p>
<p>定义一个属性（property）包括提供属性名称。索引器定义的时候不带有名称，但带有 this 关键字，它指向对象实例。</p>
<p>重载索引器（Indexer）</p>
<p>索引器（Indexer）可被重载。索引器声明的时候也可带有多个参数，且每个参数可以是不同的类型。没有必要让索引器必须是整型的。C# 允许索引器可以是其他类型，例如，字符串类型。</p>
<br>
<br>

<h2 id="委托-Delegate"><a href="#委托-Delegate" class="headerlink" title="委托 - Delegate"></a>委托 - Delegate</h2><p>C# 中的委托（Delegate）类似于 C 或 C++ 中函数的指针。委托（Delegate） 是存有对某个方法的引用的一种引用类型变量。引用可在运行时被改变。</p>
<blockquote>
<p>有点像unity的unity event?</p>
</blockquote>
<p>委托（Delegate）特别用于实现事件和回调方法。所有的委托（Delegate）都派生自 System.Delegate 类。</p>
<p>声明委托类型.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delegate void MyDel( int x );</span><br></pre></td></tr></table></figure>
<p>变量声明.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MyDel delVar;</span><br></pre></td></tr></table></figure>
<p>两种创立委托的方式.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delVar = new MyDel(myInstObj.MyM1);</span><br><span class="line"></span><br><span class="line">delVar = myInstObj.MyM1; //快捷方式,因为declare过了</span><br></pre></td></tr></table></figure>
<p>委托可以使用格外的运算符来组合.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MyDel delA = myInstObj.MyM1;</span><br><span class="line">MyDel delB = SClass.OtherM2;</span><br><span class="line"></span><br><span class="line">MyDel delC = delA + delB;//C为新生成,不会更改A或B</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyDel delVar = inst.MyM1;</span><br><span class="line">delVar += SC1.m3;</span><br><span class="line">delVar += X.Act;</span><br></pre></td></tr></table></figure>
<p>使用+=运算符的时候,创造了新的委托,然后把这个新的委托赋值给delVar.</p>
<p>可以用-=移除委托.</p>
<blockquote>
<p>如果在调用列表中的方法中有多个实例, -=运算符将从列表最后开始搜索,并移除第一个与方法匹配的实例.<br>试图删除委托中不存在的方法将无效.<br>试图调用空委托会抛出异常.可以跟null比较.</p>
</blockquote>
<p>调用委托的两种方式.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (delVar != null)</span><br><span class="line">  &#123; delVar(55);&#125; // 调用</span><br><span class="line">delVar?.Invoke(65); // 使用Invoke和空条件运算符</span><br></pre></td></tr></table></figure>
<p>调用委托时,它使用相同的参数来执行调用列表中的每一个方法.</p>
<p>如果委托有返回值并且在调用列表中有一个以上的方式时.</p>
<ol>
<li>调用列表中最后一个方法返回的值就是委托调用返回的值.</li>
<li>调用列表中所有其他方法的返回值都会被忽略.</li>
</ol>
<p>如果委托有引用参数,参数值会根据调用列表中的一个或多个方法的返回值而改变.<br>在调用委托列表中的下一个方法时,参数的新值(不是初始值)会传给下一个方法.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">delegate void MyDel( ref int x );</span><br><span class="line"></span><br><span class="line">class MyClass &#123;</span><br><span class="line">  public void Add2(ref int x) &#123; x += 2; &#125;</span><br><span class="line">  public void Add2(ref int x) &#123; x += 3; &#125;</span><br><span class="line"></span><br><span class="line">  static void Main() &#123;</span><br><span class="line">    MyClass mc = new MyClass();</span><br><span class="line">    MyDel mDel = mc.Add2;</span><br><span class="line">    mDel += mc.Add3;</span><br><span class="line">    mDel += mc.Add2;</span><br><span class="line"></span><br><span class="line">    int x = 5;</span><br><span class="line">    mDel(ref x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// this will go through Add2(x = 5); Add3(x = 7); Add2(x = 10);</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>匿名方法(anonymous method)是在实例化委托时内联(inline)声明的方法.<br>可以无需使用独立的具名方法.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">delegate int OtherDel(int InParam);</span><br><span class="line">static void Main()&#123;</span><br><span class="line">  OtherDel del = delegate(int x)&#123;</span><br><span class="line">    return x + 20;</span><br><span class="line">  &#125;</span><br><span class="line">  Console.WriteLine(&quot;&#123;0&#125;&quot;, del(5));</span><br><span class="line">  Console.WriteLine(&quot;&#123;0&#125;&quot;, del(6));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果委托声明的参数列表包含了params参数,那么匿名方法的参数列表将忽略params关键字.<br>Params: It is used as a parameter which can take the variable number of arguments of specific data type.</p>
<br>
<br>

<h2 id="事件-Event"><a href="#事件-Event" class="headerlink" title="事件 - Event"></a>事件 - Event</h2><p>事件（Event） 基本上说是一个用户操作，如按键、点击、鼠标移动等等，或者是一些出现，如系统生成的通知。<br>事件像是包含了一个私有的额委托.</p>
<p>事件在类中声明且生成，且通过使用同一个类或其他类中的委托与事件处理程序关联。包含事件的类用于发布事件。<br>这被称为 发布器（publisher） 类。其他接受该事件的类被称为 订阅器（subscriber） 类。事件使用 发布-订阅（publisher-subscriber pattern） 模型。<br><strong>发布器（publisher）</strong> 发布某个事件的类或结构。其他类可以在该事件发生时得到通知.</p>
<p><strong>订阅器（subscriber）</strong> 是一个接受事件并提供事件处理程序的对象。<br>由订阅者提供的方法称为<strong>回调方法</strong>,还可以将它们称为<strong>事件处理程序</strong>.</p>
<p><strong>事件处理程序(event handler)</strong> 由订阅者注册到事件的方法，由发布者触发事件时执行。事件处理程序方法可以定义在事件所在的类或结构中，也可以定义在不同的类或结构中。<br><strong>触发（raise）事件</strong> 调用（invoke）或触发（fire）事件的术语。</p>
<p>事件提供了对它控制委托的结构化访问,就是无法直接访问委托.<br>事件只能添加,删除或调用事件处理程序.<br>事件被触发时,它调用委托来依次调用调用列表中的方法.</p>
<br>
<br>

<h2 id="泛型-Generic"><a href="#泛型-Generic" class="headerlink" title="泛型 - Generic"></a>泛型 - Generic</h2><p>泛型（Generic） 允许延迟编写类或方法中的编程元素的数据类型的规范，直到实际在程序中使用它的时候。<br>换句话说，泛型允许您编写一个可以与任何数据类型共享的类或方法。</p>
<p>您可以通过数据类型的替代参数编写类或方法的规范。<br>当编译器遇到类的构造函数或方法的函数调用时，它会生成代码来处理指定的数据类型。</p>
<p>由尖括号和T构成的字符串表明T是类型的占位符（不一定是字母T，它可以是任何标识符）。在类声明的主体中，每一个T都会被编译器替换为实际类型。</p>
<p>使用步骤：声明类和创建类的实例。</p>
<p>声明.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class SomeClass &lt; T1, T2 &gt;</span><br><span class="line">&#123;</span><br><span class="line">  public T1 SomeVar;</span><br><span class="line">  public T2 OtherVar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class SomeClass &lt; short, int &gt;</span><br></pre></td></tr></table></figure>

<p>替代类型参数的真实类型叫做类型实参(type argument).这里是short和int.<br>可以给argument增加约束(constraint).<br>where TypeParam: constraint, constraint, …</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class MyClass &lt; T1, T2, T3&gt;</span><br><span class="line">    where T1: IEnumerable,</span><br><span class="line">    where T2: Customer,</span><br><span class="line">    where T3: IComparable</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>赋值兼容性不适用，因为两个委托没有继承关系。<br>仅将派生类型用作输出值与构造委托有效性之间的常数关系叫协变（convariance）。为了让编译器知道这是我们的期望，必须使用out关键词标记委托声明中的类型参数。<br>协变关系允许程度更高的派生类型处于返回及输出位置。</p>
<p>逆变（contravariance）则相反.</p>
<img src="/blog/2025/02/25/P339/P339_9.jpg" class="">

<br>
<br>

<h2 id="枚举器-amp-Foreach"><a href="#枚举器-amp-Foreach" class="headerlink" title="枚举器 &amp; Foreach"></a>枚举器 &amp; Foreach</h2><p>Array中自带一个叫做枚举器(enumerator)的对象.<br>包括3个函数成员:Current, MoveNext以及Reset.</p>
<p>Current返回序列中当前位置项的属性.<br>是只读属性.<br>返回Object类型的引用,所以可以返回任何类型的对象.</p>
<p>MoveNext是把枚举器位置前进到集合中下一项的方法.也返回Boolean,指示新的位置是有效位置还是已经超过了序列的尾部.<br>True新的位置是有效的,false反之.<br>Enumerator的原始位置在序列中的第一项之前,因此MoveNext必须在第一次使用Current之前调用.</p>
<p>可枚举类是指实现了IEnumerable接口的类.IEnumerable接口只有一个成员,GetEnumerator方法,它返回对象的枚举器.</p>
<br>
<br>

<h2 id="特性-Attribute"><a href="#特性-Attribute" class="headerlink" title="特性 - Attribute"></a>特性 - Attribute</h2><p>特性（Attribute）是用于在运行时传递程序中各种元素（比如类、方法、结构、枚举、组件等）的行为信息的声明性标签。<br>您可以通过使用特性向程序添加声明性信息。一个声明性标签是通过放置在它所应用的元素前面的方括号（[ ]）来描述的。</p>
<p>特性（Attribute）用于添加元数据，如编译器指令和注释、描述、方法、类等其他信息。.Net 框架提供了两种类型的特性：预定义特性和自定义特性。</p>
<br>
<br>

<h2 id="反射-Reflection"><a href="#反射-Reflection" class="headerlink" title="反射 - Reflection"></a>反射 - Reflection</h2><blockquote>
<p>Using System.Reflection</p>
</blockquote>
<p>有关程序及其类型的数据被称为元数据,它们保存在程序的程序集中.<br>程序在运行时,可以查看其他程序集或其本身的元数据.运行中的程序查看本身的元数据或其他程序的元数据的行为叫做反射.<br>您可以使用反射动态地创建类型的实例，将类型绑定到现有对象，或从现有对象中获取类型。然后，可以调用类型的方法或访问其字段和属性。</p>
<br>
<br>

<p>C#中的类型,包括预定义类型(int, long和string等)、BCL中的类型(console, IEnumerable等)以及用户定义类型(MyClass, Mydel等).<br>BCL中声明了Type的抽象类,被设计用来包含类型的特征.<br>对于程序中用到的每一个类型,CLR都会创建一个包含这个类型信息的Type类型的对象.<br>不管创建的类型有多少个实例,只有一个Type对象会关联到所有这些实例.</p>
<br>
<br>

<p><strong>优点：</strong></p>
<p>反射提高了程序的灵活性和扩展性。<br>降低耦合性，提高自适应能力。<br>它允许程序创建和控制任何类的对象，无需提前硬编码目标类。</p>
<p><strong>缺点：</strong></p>
<p>性能问题：使用反射基本上是一种解释操作，用于字段和方法接入时要远慢于直接代码。因此反射机制主要应用在对灵活性和拓展性要求很高的系统框架上，普通程序不建议使用。</p>
<p>使用反射会模糊程序内部逻辑；程序员希望在源代码中看到程序的逻辑，反射却绕过了源代码的技术，因而会带来维护的问题，反射代码比相应的直接代码更复杂。</p>
<br>
<br>

<p>反射（Reflection）有下列用途：</p>
<p>它允许在运行时查看特性（attribute）信息。<br>它允许审查集合中的各种类型，以及实例化这些类型。<br>它允许延迟绑定的方法和属性（property）。<br>它允许在运行时创建新类型，然后使用这些类型执行一些任务。</p>
<br>
<br>

<p>特性(attribute)是一种允许我们向程序的程序集添加元数据的语言结构.<br>它是用于保存程序结构信息的特殊类型的类.<br>将应用了特性的程序结构(program construct)叫做目标(target).<br>设计用来获取和使用元数据的程序(比如对象浏览器)叫作特性的消费者(consumer).</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ MyAttribute(&quot;Simple class&quot;, &quot;Version 3.57&quot;)]</span><br><span class="line">public class MyOtherClass</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<br>
<br>

<h2 id="多线程-Async-Await"><a href="#多线程-Async-Await" class="headerlink" title="多线程 - Async/Await"></a>多线程 - Async/Await</h2><p>线程 被定义为程序的执行路径。<br>每个线程都定义了一个独特的控制流。如果您的应用程序涉及到复杂的和耗时的操作，那么设置不同的线程执行路径往往是有益的，每个线程执行特定的工作。</p>
<p>线程是轻量级进程。<br>一个使用线程的常见实例是现代操作系统中并行编程的实现。使用线程节省了 CPU 周期的浪费，同时提高了应用程序的效率。</p>
<p>到目前为止我们编写的程序是一个单线程作为应用程序的运行实例的单一的过程运行的。但是，这样子应用程序同时只能执行一个任务。为了同时执行多个任务，它可以被划分为更小的线程。</p>
<p>异步的方法在完成其所有工作之前就返回到调用方法.Async/await由3个部分组成.</p>
<blockquote>
<p>调用方法(calling method):调用异步方法,在异步方法执行其任务的时候继续执行.可能在相同线程上,可能在不同线程上.<br>异步(async)方法:该方法异步执行其工作,然后立即返回到调用方法.<br>await表达式:用于异步方法内部,指明需要异步执行的任务.可以包含多个await表达式,一个都没会报错.</p>
</blockquote>
<br>
<br>

<p>线程生命周期开始于 System.Threading.Thread 类的对象被创建时，结束于线程被终止或完成执行时。</p>
<p>下面列出了线程生命周期中的各种状态：</p>
<p>未启动状态：当线程实例被创建但 Start 方法未被调用时的状况。<br>就绪状态：当线程准备好运行并等待 CPU 周期时的状况。<br>不可运行状态：下面的几种情况下线程是不可运行的：<br> • 已经调用 Sleep 方法<br> • 已经调用 Wait 方法<br> • 通过 I/O 操作阻塞<br>死亡状态：当线程已完成执行或已中止时的状况。</p>
<br>
<br>

<p>主线程<br>在 C# 中，System.Threading.Thread 类用于线程的工作。它允许创建并访问多线程应用程序中的单个线程。进程中第一个被执行的线程称为主线程。<br>当 C# 程序开始执行时，主线程自动创建。使用 Thread 类创建的线程被主线程的子线程调用。您可以使用 Thread 类的 CurrentThread 属性访问线程。</p>
<br>
<br>

<p>回调模式.<br>一旦初始线程发起了异步方法,它会自己管自己,不再考虑同步.<br>当异步方法调用结束之后,系统调用一个用户自定义的方法来处理结果,并且调用委托的endInvoke方法.<br>这个用户自定义的方法叫做<strong>回调方法</strong>或<strong>回调</strong>.</p>
<img src="/blog/2025/02/25/P339/P339_10.png" class="">
<img src="/blog/2025/02/25/P339/P339_11.png" class="">
<img src="/blog/2025/02/25/P339/P339_12.png" class="">

<br>
<br>


<h2 id="命名空间-Namespace"><a href="#命名空间-Namespace" class="headerlink" title="命名空间 - Namespace"></a>命名空间 - Namespace</h2><p>命名空间是共享同一命名空间名的一组类型定义.<br>用于避免不同代码库(ddl)内的function重复名.<br>可以把命名空间名视为一个字符串(在字符串中可以使用点),它加在类名或类型名的前面并且通过点进行分隔.<br>包括命名空间名,分隔点,以及类名的完整字符串叫做类的完全限定名.<br>命名空间是共享命名空间名的一组类和类型.</p>
<p>命名指南:</p>
<blockquote>
<p>以公司名称开头.<br>在公司名之后跟着技术名.<br>不要与类或类型名相同.</p>
</blockquote>
<p>Namespace不是封闭的,可以在该源文件中再次声明它,以对它增加更多的类型声明.</p>
<img src="/blog/2025/02/25/P339/P339_13.png" class="">

<br>
<br>

<h2 id="预处理指令-Preprocessor-Directive"><a href="#预处理指令-Preprocessor-Directive" class="headerlink" title="预处理指令 - Preprocessor Directive"></a>预处理指令 - Preprocessor Directive</h2><p>指示编译器如何处理源代码.</p>
<img src="/blog/2025/02/25/P339/P339_14.png" class="">
<img src="/blog/2025/02/25/P339/P339_15.png" class="">
<img src="/blog/2025/02/25/P339/P339_16.png" class="">

<br>
<br>

<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><img src="/blog/2025/02/25/P339/P339_17.png" class="">

<br>
<br>

<h2 id="可空类型"><a href="#可空类型" class="headerlink" title="可空类型"></a>可空类型</h2><img src="/blog/2025/02/25/P339/P339_18.png" class="">
<img src="/blog/2025/02/25/P339/P339_19.png" class="">
<img src="/blog/2025/02/25/P339/P339_20.png" class="">

<br>
<br>

<h2 id="GUI"><a href="#GUI" class="headerlink" title="GUI"></a>GUI</h2><p>graphical user interface (GUI)</p>
<p> Don’t perform any time-consuming action on the UI thread.<br> Don’t access any UI controls other than on the UI thread.</p>
<link rel="stylesheet" href="/blog/css/spoiler.css" type="text/css"><script src="/blog/js/spoiler.js" type="text/javascript" async></script>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/C/" rel="tag"># C#</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2025/02/25/P336/" rel="prev" title="Unity错题本">
      <i class="fa fa-chevron-left"></i> Unity错题本
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2025/02/10/P337/" rel="next" title="在VBS中查询文件的代码">
      在VBS中查询文件的代码 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#C-%E7%B4%A2%E5%BC%95%E5%99%A8-Indexer"><span class="nav-number">1.</span> <span class="nav-text">C# 索引器 - Indexer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A7%94%E6%89%98-Delegate"><span class="nav-number">2.</span> <span class="nav-text">委托 - Delegate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6-Event"><span class="nav-number">3.</span> <span class="nav-text">事件 - Event</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B-Generic"><span class="nav-number">4.</span> <span class="nav-text">泛型 - Generic</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E5%99%A8-amp-Foreach"><span class="nav-number">5.</span> <span class="nav-text">枚举器 &amp; Foreach</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%B9%E6%80%A7-Attribute"><span class="nav-number">6.</span> <span class="nav-text">特性 - Attribute</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8D%E5%B0%84-Reflection"><span class="nav-number">7.</span> <span class="nav-text">反射 - Reflection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B-Async-Await"><span class="nav-number">8.</span> <span class="nav-text">多线程 - Async&#x2F;Await</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4-Namespace"><span class="nav-number">9.</span> <span class="nav-text">命名空间 - Namespace</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4-Preprocessor-Directive"><span class="nav-number">10.</span> <span class="nav-text">预处理指令 - Preprocessor Directive</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">11.</span> <span class="nav-text">String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E7%A9%BA%E7%B1%BB%E5%9E%8B"><span class="nav-number">12.</span> <span class="nav-text">可空类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GUI"><span class="nav-number">13.</span> <span class="nav-text">GUI</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mazui"
      src="/blog/images/logo_11.jpg">
  <p class="site-author-name" itemprop="name">Mazui</p>
  <div class="site-description" itemprop="description">与孤独和平共处.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">345</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:mazui.and.rio@gmail.com" title="E-Mail → mailto:mazui.and.rio@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3032131561?topnav=1&wvr=6&topsug=1&ssl_rnd=1606158448.6943&is_all=1" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3032131561?topnav&#x3D;1&amp;wvr&#x3D;6&amp;topsug&#x3D;1&amp;ssl_rnd&#x3D;1606158448.6943&amp;is_all&#x3D;1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/mazui_3" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/mazui_3" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

<br>
      <!--new music test-->

  <!--网易云插件-->
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/4mCwspCTPF1aoWUNxsS5aD?utm_source=generator" width="100%" height="80" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mazui</span>

<!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>


    <span title="C">2m</span>
  -->

  <!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="T">29:53</span>

  -->

</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
<br>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">阅览室一共有2m的老兔正在打瞌睡</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://mazui3-com.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://mazui3.github.io/blog/2025/02/25/P339/";
    this.page.identifier = "2025/02/25/P339/";
    this.page.title = "关于C#的笔记";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://mazui3-com.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
