<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/star.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mazui3.com","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":265,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="å‹æƒ…é“¾æ¥:SAS workspace.SAS text book.">
<meta property="og:type" content="article">
<meta property="og:title" content="å…³äºSASçš„ç¬”è®°(è¿è½½ä¸­)">
<meta property="og:url" content="https://mazui3.com/blog/2021/10/05/P160/index.html">
<meta property="og:site_name" content="Underlake Reading Room">
<meta property="og:description" content="å‹æƒ…é“¾æ¥:SAS workspace.SAS text book.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-05T04:43:07.000Z">
<meta property="article:modified_time" content="2021-10-19T03:12:31.334Z">
<meta property="article:author" content="Mazui">
<meta property="article:tag" content="ç¼–ç ">
<meta property="article:tag" content="ä»¥å¤´æŠ¢åœ°(è¯š)">
<meta property="article:tag" content="data">
<meta property="article:tag" content="SAS">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://mazui3.com/blog/2021/10/05/P160/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>å…³äºSASçš„ç¬”è®°(è¿è½½ä¸­) | Underlake Reading Room</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!--<script type="text/javascript" src="/js/my_js/clicklove.js"></script>-->

<link rel="alternate" href="/blog/atom.xml" title="Underlake Reading Room" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Underlake Reading Room</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">è¿™é‡Œæ˜¯å›¾ä¹¦é¦†å¤–çš„é˜…è§ˆå®¤ğŸŒŸ</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-readme">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>ReadMe</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-friendlink">

    <a href="/blog/link/" rel="section"><i class="fas fa-user-friends fa-fw"></i>FriendLink</a>

  </li>
        <li class="menu-item menu-item-back">

    <a href="https://www.mazui3.com/" rel="noopener" target="_blank"><i class="fas fa-carrot fa-fw"></i>Back</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://mazui3.com/blog/2021/10/05/P160/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/logo_6.png">
      <meta itemprop="name" content="Mazui">
      <meta itemprop="description" content="ä¸å­¤ç‹¬å’Œå¹³å…±å¤„.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Underlake Reading Room">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          å…³äºSASçš„ç¬”è®°(è¿è½½ä¸­)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-05 00:43:07" itemprop="dateCreated datePublished" datetime="2021-10-05T00:43:07-04:00">2021-10-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-18 23:12:31" itemprop="dateModified" datetime="2021-10-18T23:12:31-04:00">2021-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E6%95%B0%E5%AD%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">æ•°å­¦ç¬”è®°</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/blog/2021/10/05/P160/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/10/05/P160/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>18k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>16 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>å‹æƒ…é“¾æ¥:<br><a target="_blank" rel="noopener" href="https://www.sas.com/en_ca/software/on-demand-for-academics.html">SAS workspace.</a><br><a target="_blank" rel="noopener" href="https://ca1lib.org/book/17389833/346ea7">SAS text book.</a></p>
<a id="more"></a>
<h1 id="Structure-of-SAS-program"><a href="#Structure-of-SAS-program" class="headerlink" title="Structure of SAS program"></a>Structure of SAS program</h1><ul>
<li>step(one paragraph of code)</li>
<li>statement(a code)</li>
<li>option(a keyword)</li>
<li>comment</li>
</ul>
<p>step:</p>
<ul>
<li>data step(create/update dataset)</li>
<li>proc step(åˆ†æ,å¤„ç†,å±•ç¤ºdataset)</li>
</ul>
<p>statement:</p>
<ul>
<li>data step stmt</li>
<li>proc step stmt</li>
<li>global stmt(setting)</li>
<li>macro stmt</li>
</ul>
<p>option:</p>
<ul>
<li>global option</li>
<li>dataset option(concise)</li>
<li>other</li>
</ul>
<p><br><br><br></p>
<p>No distinction between upper or lower case, except within â€œâ€.<br><a target="_blank" rel="noopener" href="https://lo.unisa.edu.au/mod/book/view.php?id=646442&amp;chapterid=148097">SAS variable name requirement.</a></p>
<blockquote>
<p>The first character must be an English letter (A, B, C, . . ., Z) or underscore (_). Subsequent characters can be letters, numeric digits (0, 1, . . ., 9), or underscores.</p>
</blockquote>
<p><br><br><br></p>
<p>example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">data overview; &#x2F;* to generate a new data set called overview *&#x2F;</span><br><span class="line">infile cards; &#x2F;* read in a file starting from cards statement *&#x2F;</span><br><span class="line">length country $30; &#x2F;*length of country can be as long as 30*&#x2F;</span><br><span class="line">input Country $ Year gdp pop; &#x2F;* read in those variables, use $ to</span><br><span class="line">make it a character variable*&#x2F;</span><br><span class="line">cards;</span><br><span class="line">Canada 2007 87943 1900</span><br><span class="line">Canada 2006 89345 1876</span><br><span class="line">Canada 2005 97712 1873</span><br><span class="line">Australia 2007 85711 2412</span><br><span class="line">Australia 2006 91028 2356</span><br><span class="line">Australia 2005 101124 2342</span><br><span class="line">China 2007 146018 11948</span><br><span class="line">China 2006 151337 11542</span><br><span class="line">China 2005 152035 11182</span><br><span class="line">India 2007 64269 9023</span><br><span class="line">India 2006 63558 8943</span><br><span class="line">India 2005 62854 8876</span><br><span class="line">;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data overview_new_1; &#x2F;*æ–°ç”Ÿæˆdata*&#x2F;</span><br><span class="line">set overview; &#x2F;*setå°±æ˜¯copy*&#x2F;</span><br><span class="line">keep country year pop; &#x2F;*drop gdp;*&#x2F;</span><br><span class="line">rename pop&#x3D;population;</span><br><span class="line">where country&#x3D;&#39;China&#39;;</span><br><span class="line">label year&#x3D;&quot;Fiscal Year&quot;;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<h1 id="SAS-Data"><a href="#SAS-Data" class="headerlink" title="SAS Data"></a>SAS Data</h1><ul>
<li>SAS Data: Perm dataset(lib) + Temp dataset(work)</li>
<li>External Data: Excel, txt, csv</li>
</ul>
<p>*æ³¨:ä¸€èˆ¬æ˜¯lib.datasetçš„æ ¼å¼,åªæœ‰workå¯ä»¥çœç•¥lib,ç›´æ¥ç”¨datasetçš„åå­—.</p>
<h2 id="Import"><a href="#Import" class="headerlink" title="Import"></a>Import</h2><p>Two methods for reading external data into SAS.</p>
<ol>
<li>The IMPORT procedure</li>
</ol>
<p>By default, the IMPORT procedure expects the variable names to appear in the first row.<br>We can modify whether SAS extracts the variable names from the first row of the data set by [GETNAMES=NO]</p>
<p>By default, the procedure scans the first 20 rows to count the variables, and it attempts to determine the correct informat and format for each variable.<br>(for example, variableçš„æœ€é•¿é•¿åº¦.)<br>We can indicate how many rows SAS scans for variables to determine the type and length [GUESSINGROWS=]</p>
<p>We can indicate at which row SAS begins to read the data [DATAROW=]</p>
<p><br><br><br></p>
<p>Importing an Excel File with an XLSX Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;boots.xlsx&#39;</span><br><span class="line">dbms&#x3D;xlsx &#x2F;*xlsx&#x2F;excel file*&#x2F;</span><br><span class="line">out&#x3D;work.bootsales &#x2F;*import to work lib bootsales dataset*&#x2F;</span><br><span class="line">replace;</span><br><span class="line">sheet&#x3D;boot; &#x2F;*worksheet called boot*&#x2F;</span><br><span class="line">getnames&#x3D;yes; &#x2F;*also by default*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>Importing a Comma-Delimited File with a CSV Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;boot.csv&#39;</span><br><span class="line">dbms&#x3D;csv &#x2F;*csv does not have multi worksheet*&#x2F;</span><br><span class="line">out&#x3D;shoes</span><br><span class="line">replace;</span><br><span class="line">getnames&#x3D;no;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>Importing a Delimited File with a TXT Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;delimiter.txt&#39;</span><br><span class="line">dbms&#x3D;dlm &#x2F;*delimited*&#x2F;</span><br><span class="line">out&#x3D;mydata</span><br><span class="line">replace;</span><br><span class="line">delimiter&#x3D;&#39;&amp;&#39;;</span><br><span class="line">getnames&#x3D;yes;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>Aside:<br>data looks like this:</p><blockquote><p>Region&amp;State&amp;Month&amp;Expenses&amp;Revenue<br>Southern&amp;GA&amp;JAN2001&amp;2000&amp;8000</p></blockquote><p>In this case, delimiter=â€™&amp;â€™.</p>
          </div>
<p>Importing a Space-Delimited File with a TXT Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">filename stdata &#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;state_data.txt&#39;; &#x2F;*this is equal to rename the filepath to &#39;stdata&#39;*&#x2F;</span><br><span class="line">proc import datafile&#x3D;stdata</span><br><span class="line">dbms&#x3D;dlm</span><br><span class="line">out&#x3D;states</span><br><span class="line">replace;</span><br><span class="line">delimiter&#x3D;&#39; &#39;;</span><br><span class="line">getnames&#x3D;yes;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>Importing a Tab-Delimited File with a TXT Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;class.txt&#39;</span><br><span class="line">dbms&#x3D; dlm</span><br><span class="line">out&#x3D;class</span><br><span class="line">replace;</span><br><span class="line">delimiter&#x3D;&#39;09&#39;x; &#x2F;*tab*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>Aside:<br>å¦‚æœæ²¡æœ‰replace,æƒ³è¦åˆ›å»ºä¸€ä¸ªåå­—ä¸€æ ·çš„dataset, program will not complete and will not create a new dataset.</p>
          </div>
<p><br><br><br></p>
<ol>
<li>Reading Microsoft Excel Data with the XLSX Engine<br>å› ä¸ºexcelå¯èƒ½æœ‰å¤šä¸ªsheetæ‹¥æœ‰æ•°æ®,è¿™ä¸ªæ˜¯ç®€ä¾¿æ–¹å¼.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libname certxl XLSX &#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;exercise.xlsx&#39;;</span><br></pre></td></tr></table></figure>
<p>The SAS/ACCESS LIBNAME statement creates the library called Certxl, which points to the Excel workbook exercise.xlsx. The workbook contains 3 worksheets, which are now available in the new SAS library as data sets.</p>
<p><br><br><br></p>
<h2 id="Character-and-Numeric-variable"><a href="#Character-and-Numeric-variable" class="headerlink" title="Character and Numeric variable"></a>Character and Numeric variable</h2><ul>
<li>Numericæ•°å­—</li>
<li>Characterå­—æ¯å’Œæ•°å­—å’Œç¬¦å·</li>
</ul>
<p>You cannot æ°¸ä¹…åœ° change the type of the variable. However, you can convert them temporarily:</p>
<p>Where SAS expects a numeric value, character will be converted into numeric if <strong>it only contains numbers</strong> . Otherwise a data error (execution error) will be issued and missing value will be generated.</p>
<p>Where SAS expects a character value, numeric data will be converted in to character based on best12. format. Best12. is a SAS format that allows SAS to determine the best format in 12 columns.</p>
<div class="note ">
            <p>Aside:</p><p>åœ¨SASä¸­, numericçš„æ•°æ®ä¼šé å³, charä¼šé å·¦.</p>
          </div>
<p><br><br><br></p>
<p>â€œWhereâ€ statement selects the observations that satisfy certain conditions. It requires <strong>compatible</strong> variables (num compare to num, char compare to char).</p>
<p>The length of a character is by default $8 (infile cards).</p>
<ul>
<li>Otherwise, the length of a character is defined by the first assignment during <strong>compiling</strong> (the length of the assigning variable or the assigning string value).</li>
<li>If you use a LENGTH statement to assign a length to a character variable, then it must be the first reference to the character variables in the DATA step. Therefore, the best position in the DATA step for a LENGTH statement is immediately after the DATA statement.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data work.staff;</span><br><span class="line">JobCategory &#x3D; &#39;FA&#39;;</span><br><span class="line">JobLevel &#x3D; &#39;1&#39;;</span><br><span class="line">JobCategory &#x3D; JobCategory || JobLevel;</span><br><span class="line">run; &#x2F;*output FA*&#x2F;</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<h2 id="Missing-data"><a href="#Missing-data" class="headerlink" title="Missing data"></a>Missing data</h2><ul>
<li>Numeric missing is presented as a period (.); character missing is presented as blank</li>
<li><strong>Missing data is less than any other valid values</strong> (åšwhereå¯»æ‰¾æ—¶éœ€è¦æ³¨æ„)</li>
<li>SAS will treat as missing numeric value if it encounters:<ol>
<li>an invalid numeric data (for example, letters, see the previous example)</li>
<li>division by zero (5/0 = missing)</li>
<li>performing an operation on missing value (1+missing = missing)</li>
</ol>
</li>
</ul>
<p><br><br><br></p>
<h2 id="SAS-date"><a href="#SAS-date" class="headerlink" title="SAS date"></a>SAS date</h2><p>SAS date value is a value that represents the number of days between January 1, 1960(as numeric value 0), and a<br>specified date.</p>
<p>â€œddMMMyyyyâ€d<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">â€œ02Jan1960â€d &#x3D; 1</span><br></pre></td></tr></table></figure></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Function</th>
<th>Usage</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>MDY</td>
<td>MDY(2,5,2017)</td>
<td>20855</td>
</tr>
<tr>
<td></td>
<td>MDY(â€˜01â€™,â€™01â€™,1960)</td>
<td>0</td>
</tr>
<tr>
<td>Day</td>
<td>Day(â€˜05Feb2017â€™d)</td>
<td>5</td>
</tr>
<tr>
<td>Month</td>
<td>Month(â€˜05Feb2017â€™d)</td>
<td>2</td>
</tr>
<tr>
<td>Year</td>
<td>Year(20855)</td>
<td>2017</td>
</tr>
<tr>
<td>Weekday</td>
<td>Weekday(20855)</td>
<td>1   #Sunday</td>
</tr>
<tr>
<td>Qtr</td>
<td>Qtr(20855)</td>
<td>1   #First</td>
</tr>
<tr>
<td>Time</td>
<td>Time()</td>
<td>Current time</td>
</tr>
<tr>
<td>Date/today</td>
<td>Date() or Today()</td>
<td>Current date</td>
</tr>
<tr>
<td>Datetime</td>
<td>Datetime()</td>
<td>Current date and time</td>
</tr>
</tbody>
</table>
</div>
<div class="note ">
            <p>Aside:</p><p>Results are all numeric, character can be used in the input, but will be converted into numeric automatically. 05FEB2017 is 20855 and Sunday</p>
          </div>
<div class="note ">
            <p>Aside:</p><p>Time(): # of seconds from 00:00:00<br>Date() or today(): # of days from 1960/01/01<br>Datetime(): # of seconds from 1960/01/01 00:00:00</p>
          </div>
<p><br><br><br></p>
<h2 id="SAS-format"><a href="#SAS-format" class="headerlink" title="SAS format"></a>SAS format</h2><div class="table-container">
<table>
<thead>
<tr>
<th>Format</th>
<th>Original</th>
<th>FORMAT statement for data/proc steps</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>w.d</td>
<td>12</td>
<td>format amount 4.1;</td>
<td>12.00</td>
</tr>
<tr>
<td>DATEw.</td>
<td>8966</td>
<td>format birth date7.;</td>
<td>19JUL84</td>
</tr>
<tr>
<td></td>
<td></td>
<td>format birth date9.;</td>
<td>19JUL1984</td>
</tr>
<tr>
<td>MMDDYYw. / DDMMYYw.</td>
<td>8966</td>
<td>format birth mmddyy6.;</td>
<td>071984</td>
</tr>
<tr>
<td></td>
<td></td>
<td>format birth mmddyy8.;</td>
<td>07/19/84</td>
</tr>
<tr>
<td>COMMAw.d</td>
<td>2234234.34</td>
<td>format amount comma15.2;</td>
<td>2,234,234.34</td>
</tr>
<tr>
<td>DOLLARw.d</td>
<td>2234234.34</td>
<td>format dollar dollar15.2;</td>
<td>$2,234,234.34</td>
</tr>
<tr>
<td>Percentw.d</td>
<td>0.12</td>
<td>format num percent7.2;</td>
<td>12.00%</td>
</tr>
</tbody>
</table>
</div>
<p><br><br><br></p>
<h2 id="format"><a href="#format" class="headerlink" title="format"></a>format</h2><p>andå’Œorç­‰çš„è¡¨ç°æ–¹å¼è·Ÿbashæœ‰ç‚¹ç‚¹åƒ.<br><div class="note ">
            <p>+, -, <em>, /, *</em><br>&amp; and, | or, ^ not</p>
          </div></p>
<p>The default encoding for a dataset in SAS is â€œwlatin1â€ (or â€œwlatin1 Western (windows)â€). wlatin1 is used in the â€œwestern worldâ€ and does not suppose Asian characters. UTF-8 is a universal encoding that can handle characters from all possible languages.</p>
<p><br><br><br></p>
<h2 id="PROCs"><a href="#PROCs" class="headerlink" title="PROCs"></a>PROCs</h2><p><strong>proc contents</strong>ç”¨äºæŸ¥çœ‹ä¸€ä¸ªtableçš„ä¿¡æ¯,åŠ ä¸‹åˆ’çº¿allæ˜¯ä¸€ä¸ªlibraryé‡Œæ‰€æœ‰çš„tableä¿¡æ¯.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proc contents data&#x3D;SASHELP._all_ VARNUM;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>proc sort.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;sashelp.class out&#x3D;class; &#x2F;* work.class *&#x2F;</span><br><span class="line">by sex descending age; &#x2F;* this descending the age, if we want two descending we need to right it twice*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>â¢ Out= option allows you to specify the name (class) of the sorted data set, if omitted, the original data set (SASHELP.class) will be overwritten.<br>â¢ By default, SAS will sort the data set in ascending order (by sex). Option DESCENDING before the variable age asks SAS to sort in descending order (by age).<br>â¢ Proc sort does not generate SAS results, but generate a new sorted data set.</p>
          </div>
<p>If you specify NODUP option, the duplicated records will be deleted from the sorted data set (overview2_nodup).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;cert.overview2 out&#x3D;overview2_nodup nodup; &#x2F;* de-dup *&#x2F;</span><br><span class="line">by country;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬è¿˜å¯ä»¥ç”¨éš”å£sqlçš„distinctæ¥de-dup.</p>
<p>If you specify NODUPKEY option, only one record (the first one) with the same key variables (the variables specified in BY statement) will be kept in the sorted data set (overview2_nodupkey).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;cert.overview2 out&#x3D;overview2_nodupkey nodupkey;</span><br><span class="line">by country; &#x2F;* å¦‚æœcountryæœ‰ä¸€æ ·çš„å°±åˆ æ‰*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>proc means.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proc means data&#x3D;SASHELP.CLASS std mean max maxdec&#x3D;2; &#x2F;* maxdecæ˜¯å°æ•°ç‚¹åæœ€å¤šä¿ç•™ä¸¤ä½ *&#x2F;</span><br><span class="line">var Height;</span><br><span class="line">class Sex Age; &#x2F;* å…ˆåˆ†ç»„,è¿™ç§æƒ…å†µä¼šåˆ†ä¸ºå››ç»„*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>âœ“ Class statement asks SAS to calculate the statistics for VAR Height within each class levels (Sex, Age)<br>âœ“ VAR statement asks for statistics of specified numeric variables, ignoring missing values. When omitted, the statistics for all the numeric variables will be calculated with missing values ignored.<br>âœ“ STD, MEAN, MAX â€¦ are the statistics you can require to calculate. By default, SAS will calculate N, mean, std, min and max. â€œN Obsâ€ is always given by SAS output, which counts total number of observations in each class level, including all missing values.<br>âœ“ MAXDEC = specifies the maximum of decimal points you would like SAS to report.<br>âœ“ Format, where and label statement can be applied in PROC MEANS as well</p>
          </div>
<p><strong>proc print.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proc print data&#x3D; class label;</span><br><span class="line">id name;</span><br><span class="line">var sex age height weight;</span><br><span class="line">label sex&#x3D;&quot;Gender: M&#x2F;F&quot;;</span><br><span class="line">format height weight 7.1;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>âœ“ Proc print displays the data portion of the data set. (what about proc contents?)<br>âœ“ VAR statement specifies which variables to print. If omitted, then SAS will by default print all the<br>variables.<br>âœ“ Label option in the proc print statement asks SAS to print label instead of variable name in the<br>header.<br>âœ“ ID statement uses NAME for the row names instead of observations (1,2,3â€¦). For example,<br>without ID statement, the result will be like:<br>âœ“ You can also use BY statement to have separate reports for different BY levels, however, data<br>set must by sorted before using BY statement. Indeed, before using BY statement in any<br>data/proc step, you must sort your data.</p>
          </div>
<p><strong>proc freq.</strong>ç”¨äºåˆ†ææ•°æ®é¢‘ç‡.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc freq data &#x3D; sashelp.shoes;</span><br><span class="line">tables region;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>Two-way Tabulation</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc freq data &#x3D; sashelp.shoes;</span><br><span class="line">tables region*product;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>proc format.</strong>è¿™æ˜¯ä¸€ä¸ªç»„åˆæŠ€.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">proc format;</span><br><span class="line">value score</span><br><span class="line">low - &lt;60 &#x3D; &quot;Fail&quot;</span><br><span class="line">60 - high &#x3D; &quot;Pass&quot;;</span><br><span class="line">run;</span><br><span class="line">proc format;</span><br><span class="line">value $sex &#x2F;* ä¿®é¥°character value *&#x2F;</span><br><span class="line">&quot;M&quot; &#x3D; &quot;Male&quot;</span><br><span class="line">&quot;F&quot; &#x3D; &quot;Female&quot;;</span><br><span class="line">run;</span><br><span class="line"></span><br><span class="line">&#x2F;* defineäº†ä¹‹åå†ä½¿ç”¨ *&#x2F;</span><br><span class="line">proc print data &#x3D;class;</span><br><span class="line">var score;</span><br><span class="line">format score score.;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>The user-defined format will be stored in a SAS catalog (not SAS data set).<br>Use $ before the format name in the value statement if you want to apply it to a character variable.</p>
<p>proc transpose: Transposing from horizontal (wide) to vertical (long) or transposing from vertical<br>to horizontal<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Proc transpose data&#x3D;[] out&#x3D;[] prefix&#x3D;[];</span><br><span class="line">By [variable list]; &#x2F;* ç”¨äºåˆ†ç»„çš„variable *&#x2F;</span><br><span class="line">Var [variable list]; *transpose these variables; shortcutæœ‰RR:æ˜¯æ‰€æœ‰Rå¼€å¤´çš„column</span><br><span class="line">Id [variable list]; *value becomes to variable name; çºµåˆ°æ¨ªæ‰éœ€è¦id</span><br><span class="line">Run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>ID statement is critical when you transfer vertical to horizontal!<br>If you omit the VAR statement, then the TRANSPOSE procedure transposes all numeric variables in the input data set that are not listed in another statement.<br>You must list character variables in a VAR statement if you want to transpose them.</p>
          </div>
<p><br><br><br><br><br></p>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p><strong>Mean, min, max, sum</strong><br>All the above functions ignore missing values. For example Sum (.,1,2,3) = 6, but . + 1 +2 +3 = .</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Y&#x3D;Mean(x1,x2);</span><br><span class="line">Y&#x3D;Mean(of X1-X5); &#x2F;* of æ˜¯ç®€ç•¥å†™æ³•,è¿™é‡Œæ˜¯sum x1åˆ°x5*&#x2F;</span><br><span class="line">Y&#x3D;Mean(of X:); &#x2F;* è¿™é‡Œæ˜¯sum æ‰€æœ‰çš„x column*&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong>inputå’Œput</strong>å¯ä»¥ç”¨æ¥è½¬æ¢æ ¼å¼.<br>Input(var,informat.): read variable into SAS value (normally numeric) using given informat.<br>Put(var,format.): present SAS values using given format, put function always returns a character.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var1&#x3D;â€˜10Oct2021â€™;</span><br><span class="line"></span><br><span class="line">var2&#x3D;input(var1,date9.); &#x2F;* è¿™é‡Œçš„date9.æ˜¯ç”¨äºè½¬æ¢çš„æ ¼å¼informat*&#x2F;</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>Informat</th>
<th>Original</th>
<th>INput</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATEw.</td>
<td>1jan1961</td>
<td>INPUT (Day, DATE9.)</td>
<td>366</td>
</tr>
<tr>
<td></td>
<td>1 jan 61</td>
<td></td>
<td>366</td>
</tr>
<tr>
<td>MMDDYYw. / DDMMYYw.</td>
<td>01.01.61</td>
<td>INPUT (Day, DDMMYY10.)</td>
<td>366</td>
</tr>
<tr>
<td></td>
<td>02/01/61</td>
<td>INPUT (Day, DDMMYY10.)</td>
<td>367</td>
</tr>
<tr>
<td>COMMAw.d</td>
<td>$1,000,001</td>
<td>INPUT (Income, COMMA10.)</td>
<td>1000001</td>
</tr>
<tr>
<td></td>
<td>(1,234)</td>
<td>INPUT (Income, COMMA10.)</td>
<td>-1234</td>
</tr>
</tbody>
</table>
</div>
<p>INDEX(character1, character2) returns first position of character2 string in in character1 string.ä»1å¼€å§‹æ•°.<br>Returns 0 if string not found.</p>
<p>FIND(character1, character2 &lt;, start position&gt; &lt;, modifier&gt;) Searches for a specific substring of characters within a character string, it is a more powerful version of INDEX function<br>Start position: from which position to search, should be numeric</p>
<blockquote>
<p>Modifier: is a character constant, variable, or expression that specifies one or more modifiers. The following modifiers can be in uppercase or lowercase: â€˜iâ€™: ignores character case during the search. If this modifier is not specified, FIND only searches for character substrings with the same case as the characters in substring.<br>åŠ äº†Iæˆ–è€…iéƒ½ä¼šignoreå¤§å°å†™.<br>start positionä¼šignoreæ‰å‰é¢çš„å­—æ¯,ä»start positionå¼€å§‹æ•°.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Text&#x3D;&quot;Australia, US, Denmark&quot;;</span><br><span class="line">Pos&#x3D;find(Text,â€USâ€,â€iâ€,5);</span><br></pre></td></tr></table></figure>
<p>SUBSTR(character, numeric1&lt;, numeric2&gt;) extracts a substring from character of length numeric2 starting from position numeric1.</p>
<p>LENGTH(string) Returns the length of a non-blank character string, excluding trailing blanks, and returns 1 for a blank character string.</p>
<p>TRANWRD(source, target, replacement) Replaces all occurrences of a substring in a character string.<br>åƒatomé‡Œçš„æŸ¥æ‰¾å¹¶ä¸€é”®æ›¿æ¢åŠŸèƒ½.</p>
<p>TRIM(character) trims trailing blanks (blanks after the last non-blank character).</p>
<p>SCAN(character, n&lt;,delimiters &gt;) Returns the n-th <strong>word</strong> from a character string.</p>
<div class="note ">
            <p>CAT(OF X1-X4)  == X1||X2||X3||X4<br>CATS(OF X1-X4) == TRIM(LEFT(X1))||TRIM(LEFT(X2))||TRIM(LEFT(X3))||TRIM(LEFT(X4))<br>CATT(OF X1-X4) == TRIM(X1)||TRIM(X2)||TRIM(X3)||TRIM(X4)<br>CATX(SP, OF X1-X4) == TRIM(LEFT(X1))||SP||TRIM(LEFT(X2))||SP||TRIM(LEFT(X3))||SP||TRIM(LEFT(X4))</p>
          </div>
<p><br><br><br><br><br></p>
<h2 id="control-data-step-flow"><a href="#control-data-step-flow" class="headerlink" title="control data step flow"></a>control data step flow</h2><p><strong>subsetting if</strong><br>ç­‰äºwhereæ¥ç­›é€‰çš„åŠŸèƒ½.ä½†æ˜¯where is more efficient.åœ¨datasetä¸­,whereåªèƒ½å‡ºç°ä¸€æ¬¡,ifå¯ä»¥å‡ºç°å¤šæ¬¡.</p>
<p><strong>ifâ€¦then</strong><br>æ™®é€šçš„if statement.<br>æ³¨æ„,å¦‚æœè¦å†™ if A, then B and C.æˆ‘ä»¬éœ€è¦group Bå’ŒC.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data do_group;</span><br><span class="line">set cert.Overview;</span><br><span class="line">if country&#x3D;&quot;China&quot; then do;</span><br><span class="line">FX&#x3D;0.2;</span><br><span class="line">output;</span><br><span class="line">end;</span><br><span class="line">else if country &#x3D;&quot;Canada&quot; then do;</span><br><span class="line">FX&#x3D;1;</span><br><span class="line">output;</span><br><span class="line">end;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p><strong>loop</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* numeric index *&#x2F;</span><br><span class="line">do i&#x3D;1 to 20 by 1;</span><br><span class="line">&#x2F;* or *&#x2F;</span><br><span class="line">do i&#x3D;1 to 20;</span><br><span class="line">&#x2F;* Do While *&#x2F;</span><br><span class="line">do while (PD&lt;0.5);</span><br><span class="line">&#x2F;* Do Until *&#x2F;</span><br><span class="line">do until (PD&gt;&#x3D;0.5);</span><br></pre></td></tr></table></figure><br>Every DO (DO group or DO loop) must have a matching END.</p>
<p><br><br><br><br><br></p>
<p><strong>output</strong><br>Every time an output statement is hit the current record is saved to the output data set.</p>
<ul>
<li>If a data step has no OUTPUT statement then there is an implied OUTPUT at the end of the data<br>step.</li>
<li>If the data step contains one or more OUTPUT statements then there is no longer an OUTPUT<br>implied at the end of the data step.</li>
</ul>
<p>ODS can Save SAS output to various destinations such as rtf (word), pdf, csv, html â€¦<br>Sample Syntax to save the result of PROC FREQ into a html file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ods html file&#x3D;&quot;C:\SAS\data\for lecture\output.html&quot;;</span><br><span class="line">proc freq data&#x3D;overview;</span><br><span class="line">tables country;</span><br><span class="line">run;</span><br><span class="line">ods html close;</span><br></pre></td></tr></table></figure>
<p>Other destinations can be used by SAS:<br>RTF, CSVALL, CSV, PDF, HTML, MSOFFICE2K, EXCELXP â€¦</p>
<p><br><br><br><br><br></p>
<h2 id="combine"><a href="#combine" class="headerlink" title="combine"></a>combine</h2><p>ç¬¬ä¸€ç§combine:åªcombineæ•°é‡ä¸€æ ·çš„è¡Œ,ä¸åŒçš„dropæ‰.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data one_to_one;</span><br><span class="line">set a;</span><br><span class="line">set b;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>å·¦:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>å³:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarB</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>ç»“æœ:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
<th>VarB</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>A1</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>A2</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>ç¬¬äºŒç§Data Concatenation: to stack two or more SAS data sets together.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DATA new_data_set;</span><br><span class="line">SET data_set_1 ... data_set_n;</span><br><span class="line">RUN;</span><br></pre></td></tr></table></figure></p>
<p>å·¦:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>å³:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarB</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>ç»“æœ:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>ç¬¬äºŒç§combineå¸¦sort.All the data sets need to be sorted before using any BY statement!<br><strong>æ³¨æ„è¿™æ—¶å¾—ä¸¤ä¸ªtableå·²ç»sortå¥½äº†.è¿™ä¸ªæ¡ä»¶é™åˆ¶äºæ‰€æœ‰sort.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DATA new_data_set;</span><br><span class="line">SET data_set_1 ... data_set_n;</span><br><span class="line">BY variable_list;</span><br><span class="line">RUN;</span><br></pre></td></tr></table></figure></p>
<p>å·¦:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>å³:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>ç»“æœ:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA(ä¿ç•™å·¦è¾¹çš„VarAå‚¨å­˜å±æ€§)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>å¦‚æœå·¦è¡¨å›¾æ˜¯VarAå³è¡¨å›¾æ˜¯VarB,åˆ™ä¼šåŒæ—¶ä¿ç•™VarAå’ŒVarB.</p>
<p>ç¬¬ä¸‰ç§çœŸæ­£çš„merge(ä¹Ÿå«join).<br>æ³¨:åœ¨mergeå‰è¦checkæ˜¯å¦sorted,ä»¥åŠcheck keyvar nameæ˜¯å¦identical.<br>sas datastep mergeä¸æ”¯æŒmany to many.sqlå¯ä»¥.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DATA new_data_set;</span><br><span class="line">MERGE data_set_1(in&#x3D;ind_1) data_set_2(in&#x3D;ind_2);</span><br><span class="line">BY variable-list;</span><br><span class="line">if ind_1&#x3D;1; *left join;</span><br><span class="line">*if ind_2&#x3D;1; *right join;</span><br><span class="line">*if ind_1&#x3D;1 and ind_2&#x3D;1; *inner join;</span><br><span class="line">*if ind_1&#x3D;1 or ind_2&#x3D;1; *SAS default: full join;</span><br><span class="line">RUN;</span><br></pre></td></tr></table></figure></p>
<p><br><br><br><br><br></p>
<h2 id="Retain-and-Sum-Statement"><a href="#Retain-and-Sum-Statement" class="headerlink" title="Retain and Sum Statement"></a>Retain and Sum Statement</h2><p>Use the RETAINç´¯åŠ  statement when you want SAS to preserve a variableâ€™s value from the previous iteration of the DATA step.<br>å¦‚æœæˆ‘ä»¬ä½¿ç”¨loop,sasæ— æ³•ç´¯è®¡ä¸Šä¸€è½®çš„temp variableå€¼.æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨retain functionå­˜å‚¨ temp variable.<br>â¢ The RETAIN statement can appear anywhere in the DATA step, it is more efficient than the assignment statement, because it will be executed only once (declarative).<br>â¢ Retain statement syntax (if not specifying initial value, then initialize the variable list with missing):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RETAIN variable-list;</span><br><span class="line">RETAIN variable-list initial-value;</span><br></pre></td></tr></table></figure>
<p>â¢ A sum statement also retains values from the previous iteration of the DATA step, but you use it for the special cases where you simply want to cumulatively add the value of an expression to a variable.<br>â¢ Sum statement syntax<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable + expression; &#x2F;* è¦æ³¨æ„è¿™è·Ÿvariable&#x3D; variable + expressison ä¸ä¸€æ ·,commenté‡Œçš„æ˜¯æ™®é€šçš„åŠ æ³•,æ— æ³•å¤„ç†missing value,è€Œcodeblocké‡Œçš„æ˜¯retainçš„å†™æ³•,å¯ä»¥å¤„ç†missing value.*&#x2F;</span><br></pre></td></tr></table></figure></p>
<p>This is equivalent to:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RETAIN variable 0;</span><br><span class="line">variable &#x3D; SUM(variable, expression);</span><br></pre></td></tr></table></figure></p>
<p>â¢ The sum statement will ignore missing values, because it is equivalent to sum function not + operator.</p>
<p><br><br><br><br><br></p>
<h2 id="SAS-Automatic-Variables"><a href="#SAS-Automatic-Variables" class="headerlink" title="SAS Automatic Variables"></a>SAS Automatic Variables</h2><p>Those SAS Automatic variables will be automatically dropped from the data step, and <strong>can be only used with IF statement, but not where statement</strong>.</p>
<p><strong>FIRST.by</strong> and <strong>LAST.by</strong><br>The FIRST.by and LAST.by automatic variables are available when you are using a BY statement in a DATA step.<br>The FIRST.by will have a value of 1 when SAS is processing an observation with the first occurrence of a new value for that variable and a value of 0 for the other observations.<br>The LAST.by will have a value of 1 for an observation with the last occurrence of a value for that variable and the value 0 for the other observations.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;class;</span><br><span class="line">by class descending name; &#x2F;* å› ä¸ºè¦ä½¿ç”¨first.class last.classæ‰€ä»¥å…ˆæ’åºå¥½ *&#x2F;</span><br><span class="line">run;</span><br><span class="line"></span><br><span class="line">data sum_class;</span><br><span class="line">set class;</span><br><span class="line">by class descending name;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç”¨äºåˆ†ç»„ç´¯åŠ .æ³¨æ„ä¸€å®šè¦æŒ‰byçš„featureæ’åºå¥½.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data WORK.TOTAL;</span><br><span class="line">set WORK.SALARY;</span><br><span class="line">by Department Gender;</span><br><span class="line">if First.&lt;_insert_code_&gt; then Payroll&#x3D;0; &#x2F;* è¿™ä¸‰è¡Œæ˜¯ä¸ªcombo *&#x2F;</span><br><span class="line">Payroll+Wagerate;</span><br><span class="line">if Last.&lt;_insert_code_&gt;;&#x2F;* ç®—ä»€ä¹ˆçš„accumulate subtotals for each feature å°±æŠŠinsert_codeæ”¹æˆé‚£ä¸ªfeature*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure><br>Inserted code will accumulate subtotals for each Gender within Department.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data WORK.TOTAL;</span><br><span class="line">set WORK.SALARY(keep&#x3D;Department MonthlyWageRate);</span><br><span class="line">by Department;</span><br><span class="line">if First.Department&#x3D;1 then Payroll&#x3D;0;</span><br><span class="line">Payroll+(MonthlyWageRate*12); &#x2F;* ç´¯åŠ çš„æ˜¯MonthlyWageRate*12,å­˜åˆ°payrollé‡Œ *&#x2F;</span><br><span class="line">if Last.Department&#x3D;1;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>The values of the variable Payroll represent the annual total for each department in the WORK.SALARY data set.</p>
<p><br><br><br><br><br></p>
<h1 id="Macro"><a href="#Macro" class="headerlink" title="Macro"></a>Macro</h1><p>ä¸‰ç§macro variableçš„å»ºç«‹:</p>
<ul>
<li>%let<br>Straightforward and easy to understand. Use period to separate out the macro variable you would like to resolve</li>
<li>Call symput: With CALL SYMPUT, you can create macro variables that contain the values of variables from SAS data sets. You cannot resolve them in the same data step.</li>
<li>SQL Method: Create macro variables in PROC SQL</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%let data&#x3D;work.overview; *to define a macro variable;</span><br><span class="line">proc print data&#x3D;&amp;data; *use &amp; to resolve(ä½¿ç”¨&#x2F;æ›¿æ¢) it;</span><br><span class="line">*double quotes &quot;&quot; - resolve macro variable;</span><br><span class="line">title &quot;A listing of the &amp;data SAS data set&quot;;</span><br><span class="line">*single quotes &#39;&#39; - not resolve macro variable;</span><br><span class="line">title2 &#39;A listing of the &amp;data SAS data set&#39;;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>åŠ separatorçš„ç‚¹.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">%let i&#x3D;10; *what if I want resolve &quot;i&quot; in &quot;ith&quot;;</span><br><span class="line">proc print data&#x3D;work.overview(firstobs&#x3D;&amp;i obs&#x3D;&amp;i);</span><br><span class="line">title &quot;&amp;i.th Record in work.overview&quot;; *resolved as 10th;</span><br><span class="line">title2 &quot;&amp;ith Record in work.overview&quot;; *can not resolve, since ith is</span><br><span class="line">not a macro variable;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>

    </div>

    
    
    
      
  <div class="popular-posts-header">ç›¸å…³åšæ–‡</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2020/11/28/P141/" rel="bookmark">å…³äºdataçš„ç¬”è®° - Week2</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/01/18/P163/" rel="bookmark">å…³äºRè¯­è¨€çš„ç¬”è®° - R markdown</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/01/13/P164/" rel="bookmark">å…³äºRè¯­è¨€çš„ç¬”è®°</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/02/02/P165/" rel="bookmark">å…³äºRè¯­è¨€çš„ç¬”è®° - ç»­</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/01/31/P167/" rel="bookmark">å…³äºSQLçš„ç¬”è®° - ç»­</a></div>
    </li>
  </ul>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/%E7%BC%96%E7%A0%81/" rel="tag"># ç¼–ç </a>
              <a href="/blog/tags/%E4%BB%A5%E5%A4%B4%E6%8A%A2%E5%9C%B0-%E8%AF%9A/" rel="tag"># ä»¥å¤´æŠ¢åœ°(è¯š)</a>
              <a href="/blog/tags/data/" rel="tag"># data</a>
              <a href="/blog/tags/SAS/" rel="tag"># SAS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2021/10/05/P210/" rel="prev" title="å…³äºdataçš„ç¬”è®°2.0 - Week1(è¿è½½ä¸­)">
      <i class="fa fa-chevron-left"></i> å…³äºdataçš„ç¬”è®°2.0 - Week1(è¿è½½ä¸­)
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2021/10/03/P148/" rel="next" title="é›¨æœªå¯¹ä½ æ¥è¯´æ˜¯æ€æ ·çš„å­˜åœ¨?">
      é›¨æœªå¯¹ä½ æ¥è¯´æ˜¯æ€æ ·çš„å­˜åœ¨? <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">


      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>



      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Structure-of-SAS-program"><span class="nav-number">1.</span> <span class="nav-text">Structure of SAS program</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SAS-Data"><span class="nav-number">2.</span> <span class="nav-text">SAS Data</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Import"><span class="nav-number">2.1.</span> <span class="nav-text">Import</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Character-and-Numeric-variable"><span class="nav-number">2.2.</span> <span class="nav-text">Character and Numeric variable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Missing-data"><span class="nav-number">2.3.</span> <span class="nav-text">Missing data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS-date"><span class="nav-number">2.4.</span> <span class="nav-text">SAS date</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS-format"><span class="nav-number">2.5.</span> <span class="nav-text">SAS format</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#format"><span class="nav-number">2.6.</span> <span class="nav-text">format</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PROCs"><span class="nav-number">2.7.</span> <span class="nav-text">PROCs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function"><span class="nav-number">2.8.</span> <span class="nav-text">function</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#control-data-step-flow"><span class="nav-number">2.9.</span> <span class="nav-text">control data step flow</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#combine"><span class="nav-number">2.10.</span> <span class="nav-text">combine</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Retain-and-Sum-Statement"><span class="nav-number">2.11.</span> <span class="nav-text">Retain and Sum Statement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS-Automatic-Variables"><span class="nav-number">2.12.</span> <span class="nav-text">SAS Automatic Variables</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Macro"><span class="nav-number">3.</span> <span class="nav-text">Macro</span></a></li></ol></div>


      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mazui"
      src="/blog/images/logo_6.png">
  <p class="site-author-name" itemprop="name">Mazui</p>
  <div class="site-description" itemprop="description">ä¸å­¤ç‹¬å’Œå¹³å…±å¤„.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">209</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:mazui.and.rio@gmail.com" title="E-Mail â†’ mailto:mazui.and.rio@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3032131561?topnav=1&wvr=6&topsug=1&ssl_rnd=1606158448.6943&is_all=1" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3032131561?topnav&#x3D;1&amp;wvr&#x3D;6&amp;topsug&#x3D;1&amp;ssl_rnd&#x3D;1606158448.6943&amp;is_all&#x3D;1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/mazui_3" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/mazui_3" title="Instagram â†’ https:&#x2F;&#x2F;instagram.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

      <br>
      <!--new music test-->

  <!--ç½‘æ˜“äº‘æ’ä»¶-->
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=465530020&auto=0&height=66"></iframe>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
      <script>
//æš‚æ—¶å‚¨å­˜æ–‡ç« ä¸­çš„å†…å®¹
var div = $('.post-body');
//æš‚æ—¶å‚¨å­˜ç›®å½•çš„å†…å®¹
var toc=$('.post-toc-wrap')
function password() {
  if(''){
  //å°†æ–‡ç« å†…å®¹åˆ é™¤
    div.remove();
 //å°†ç›®å½•åˆ é™¤
    toc.remove();
  //å°†æ–‡ç« åˆ é™¤åï¼Œå‘åŸæ¥æ–‡ç« çš„åœ°æ–¹æ·»åŠ ï¼Œåº”è¯¥å‡ºç°çš„æç¤ºç”¨æˆ·è¾“å…¥å¯†ç çš„æ ·å¼
  //ä¸‹é¢è¿™é‡Œçš„ç¬¬ä¸€ä¸ªç”¨textareaæ˜¯å› ä¸ºå¦‚æœåœ¨æ‰‹æœºç«¯çš„æ—¶å€™åªèƒ½æ˜¾ç¤ºä¸€éƒ¨åˆ†æ–‡å­—ï¼Œ
  //åªæ˜¯æ‹“å±•:inputé‡Œé¢çš„å­—åªèƒ½æ˜¾ç¤ºä¸€è¡Œï¼Œä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œç›®å‰ä¸Šç½‘æœç´¢æ²¡æœ‰å‘ç°å¥½çš„åŠæ³•ï¼Œæ‰€ä»¥ç”¨äº†textareaï¼Œå³ä¸‹è§’çš„å°ä¸‰è§’é€šè¿‡resize:none å»æ‰ã€‚
   $('.post-header').after('<textarea class="description" value="Please enter your password and press enter to build" style="border: none;display: block;' +'width: 60%;margin: 0 auto;text-align: center;outline: none;margin-bottom: 50px;resize:none ">
      Please enter your password and press enter to build</textarea>' +
      '<div class="qiang" style="height: 100px;width: 60%;margin:0 auto">' +
      '<input class="password"  type="text" value="" style="border: none;display: block;border-bottom: 1px solid #ccc;' +
      'margin: 0 auto;outline: none;width:95%"/>' +
      '</div>')
      //ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå¦‚æœæ˜¯ç‚¹å‡»çš„.password è¿™ä¸ªdivå°±æ”¹å˜æ ·å¼ï¼Œå¦‚æœæ˜¯documentä¸­é™¤äº†divä¹‹å¤–çš„å…¶ä»–ä»»ä½•å…ƒç´ ï¼Œå°±å˜å›åŸæ¥çš„æ ·å¼ã€‚
    document.onclick = function (event) {
      var e = event || window.event;
      var elem = e.srcElement || e.target;

      while (elem) {
        if (elem != document) {
          if (elem.className == "password") {
            $(".password").animate({paddingTop:"30px",width:"100%",borderWidth:"2px"},300)
            return;
          }
          elem = elem.parentNode;
        } else {
          $(".password").animate({paddingTop:"0px",width:"95%",borderWidth:"1px"},300)
          return;
        }
      }
    }
    //ç»‘å®šenteré”®æŒ‰ä¸‹åç¦»å¼€çš„äº‹ä»¶
    $(document).keyup(function(event){
      if(event.keyCode ==13&&$('.password').length>0){
        //console.log($('.password').val())
        //console.log('')
        if ($('.password').val() == '') {
        //æ¢å¤æ–‡ç« å†…å®¹
          (div).appendTo($(".post-header"))
          //æ¢å¤ç›®å½•
          toc.appendTo($(".sidebar-inner"))
          //åˆ é™¤æœ¬é¡µé¢çš„è¾“å…¥å¯†ç ç»„ä»¶
           $(".description").remove();
          $(".qiang").remove();
          $(".password").remove();

          //é‡æ–°å¤„ç†pjaxäº‹ä»¶,å¦‚æœæ²¡æœ‰åŠ pjaxçš„ä»ä¸‹é¢è¿™è¡Œèµ·åˆ°ä¸‹é¢çš„elseä¹‹é—´çš„ä»£ç éœ€è¦å»æ‰ã€‚
          //å›¾ç‰‡æ‡’åŠ è½½ï¼Œæ²¡æœ‰åŠ å…¥æ­¤åŠŸèƒ½çš„è¿™ä¸ªå‡½æ•°éœ€è¦å»æ‰
	          $('img').lazyload({
	             placeholder: '/images/loading.gif',
	             effect: 'fadeIn',
	             threshold : 100,
	             failure_limit : 20,
	             skip_invisible : false
	           });
	           //pjaxåå‡ºç°æ–‡ç« ä¸æ˜¾ç¤ºï¼Œæ²¡æœ‰pjaxçš„ä¸‹é¢å››è¡Œéœ€è¦å»æ‰
	            $(".post-block").css({opacity:1});
	            $(".post-header").css({opacity:1});
	            $(".post-body").css({opacity:1});
	            $(".pagination").css({opacity:1});
        }else {
          alert("Sorry, the password is wrong.")
        }
      }
      //å°†documentçš„keyupç§»é™¤ï¼Œé˜²æ­¢åœ¨pjaxçš„æƒ…å†µä¸‹ä¼šé‡å¤ç»‘å®šäº‹ä»¶
    });
  }
}
password();
</script>

    </main>


    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 â€“ 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mazui</span>

<!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>


    <span title="Symbols count total">528k</span>
  -->

  <!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">8:01</span>

  -->
  
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
<br>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">ä¼‘æ¯å®¤ä¸€å…±æœ‰184.8kçš„è€å…”æ­£åœ¨æ‰“çŒç¡</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://mazui3-com.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://mazui3.com/blog/2021/10/05/P160/";
    this.page.identifier = "2021/10/05/P160/";
    this.page.title = "å…³äºSASçš„ç¬”è®°(è¿è½½ä¸­)";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://mazui3-com.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

  <script type="text/javascript" src="/js/my_js/firework.js"></script>

</body>
</html>


<!-- calendar widget -->


