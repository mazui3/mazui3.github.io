<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/star.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mazui3.com","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":265,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="友情链接:SAS workspace.SAS text book.">
<meta property="og:type" content="article">
<meta property="og:title" content="关于SAS的笔记(连载中)">
<meta property="og:url" content="https://mazui3.com/blog/2021/10/05/P160/index.html">
<meta property="og:site_name" content="Underlake Reading Room">
<meta property="og:description" content="友情链接:SAS workspace.SAS text book.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-05T04:43:07.000Z">
<meta property="article:modified_time" content="2021-10-19T03:12:31.334Z">
<meta property="article:author" content="Mazui">
<meta property="article:tag" content="编码">
<meta property="article:tag" content="以头抢地(诚)">
<meta property="article:tag" content="data">
<meta property="article:tag" content="SAS">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://mazui3.com/blog/2021/10/05/P160/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>关于SAS的笔记(连载中) | Underlake Reading Room</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!--<script type="text/javascript" src="/js/my_js/clicklove.js"></script>-->

<link rel="alternate" href="/blog/atom.xml" title="Underlake Reading Room" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Underlake Reading Room</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">这里是图书馆外的阅览室🌟</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-readme">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>ReadMe</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-friendlink">

    <a href="/blog/link/" rel="section"><i class="fas fa-user-friends fa-fw"></i>FriendLink</a>

  </li>
        <li class="menu-item menu-item-back">

    <a href="https://www.mazui3.com/" rel="noopener" target="_blank"><i class="fas fa-carrot fa-fw"></i>Back</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://mazui3.com/blog/2021/10/05/P160/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/logo_6.png">
      <meta itemprop="name" content="Mazui">
      <meta itemprop="description" content="与孤独和平共处.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Underlake Reading Room">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          关于SAS的笔记(连载中)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-05 00:43:07" itemprop="dateCreated datePublished" datetime="2021-10-05T00:43:07-04:00">2021-10-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-10-18 23:12:31" itemprop="dateModified" datetime="2021-10-18T23:12:31-04:00">2021-10-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E6%95%B0%E5%AD%A6%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">数学笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/blog/2021/10/05/P160/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2021/10/05/P160/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>18k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>16 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>友情链接:<br><a target="_blank" rel="noopener" href="https://www.sas.com/en_ca/software/on-demand-for-academics.html">SAS workspace.</a><br><a target="_blank" rel="noopener" href="https://ca1lib.org/book/17389833/346ea7">SAS text book.</a></p>
<a id="more"></a>
<h1 id="Structure-of-SAS-program"><a href="#Structure-of-SAS-program" class="headerlink" title="Structure of SAS program"></a>Structure of SAS program</h1><ul>
<li>step(one paragraph of code)</li>
<li>statement(a code)</li>
<li>option(a keyword)</li>
<li>comment</li>
</ul>
<p>step:</p>
<ul>
<li>data step(create/update dataset)</li>
<li>proc step(分析,处理,展示dataset)</li>
</ul>
<p>statement:</p>
<ul>
<li>data step stmt</li>
<li>proc step stmt</li>
<li>global stmt(setting)</li>
<li>macro stmt</li>
</ul>
<p>option:</p>
<ul>
<li>global option</li>
<li>dataset option(concise)</li>
<li>other</li>
</ul>
<p><br><br><br></p>
<p>No distinction between upper or lower case, except within “”.<br><a target="_blank" rel="noopener" href="https://lo.unisa.edu.au/mod/book/view.php?id=646442&amp;chapterid=148097">SAS variable name requirement.</a></p>
<blockquote>
<p>The first character must be an English letter (A, B, C, . . ., Z) or underscore (_). Subsequent characters can be letters, numeric digits (0, 1, . . ., 9), or underscores.</p>
</blockquote>
<p><br><br><br></p>
<p>example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">data overview; &#x2F;* to generate a new data set called overview *&#x2F;</span><br><span class="line">infile cards; &#x2F;* read in a file starting from cards statement *&#x2F;</span><br><span class="line">length country $30; &#x2F;*length of country can be as long as 30*&#x2F;</span><br><span class="line">input Country $ Year gdp pop; &#x2F;* read in those variables, use $ to</span><br><span class="line">make it a character variable*&#x2F;</span><br><span class="line">cards;</span><br><span class="line">Canada 2007 87943 1900</span><br><span class="line">Canada 2006 89345 1876</span><br><span class="line">Canada 2005 97712 1873</span><br><span class="line">Australia 2007 85711 2412</span><br><span class="line">Australia 2006 91028 2356</span><br><span class="line">Australia 2005 101124 2342</span><br><span class="line">China 2007 146018 11948</span><br><span class="line">China 2006 151337 11542</span><br><span class="line">China 2005 152035 11182</span><br><span class="line">India 2007 64269 9023</span><br><span class="line">India 2006 63558 8943</span><br><span class="line">India 2005 62854 8876</span><br><span class="line">;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data overview_new_1; &#x2F;*新生成data*&#x2F;</span><br><span class="line">set overview; &#x2F;*set就是copy*&#x2F;</span><br><span class="line">keep country year pop; &#x2F;*drop gdp;*&#x2F;</span><br><span class="line">rename pop&#x3D;population;</span><br><span class="line">where country&#x3D;&#39;China&#39;;</span><br><span class="line">label year&#x3D;&quot;Fiscal Year&quot;;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<h1 id="SAS-Data"><a href="#SAS-Data" class="headerlink" title="SAS Data"></a>SAS Data</h1><ul>
<li>SAS Data: Perm dataset(lib) + Temp dataset(work)</li>
<li>External Data: Excel, txt, csv</li>
</ul>
<p>*注:一般是lib.dataset的格式,只有work可以省略lib,直接用dataset的名字.</p>
<h2 id="Import"><a href="#Import" class="headerlink" title="Import"></a>Import</h2><p>Two methods for reading external data into SAS.</p>
<ol>
<li>The IMPORT procedure</li>
</ol>
<p>By default, the IMPORT procedure expects the variable names to appear in the first row.<br>We can modify whether SAS extracts the variable names from the first row of the data set by [GETNAMES=NO]</p>
<p>By default, the procedure scans the first 20 rows to count the variables, and it attempts to determine the correct informat and format for each variable.<br>(for example, variable的最长长度.)<br>We can indicate how many rows SAS scans for variables to determine the type and length [GUESSINGROWS=]</p>
<p>We can indicate at which row SAS begins to read the data [DATAROW=]</p>
<p><br><br><br></p>
<p>Importing an Excel File with an XLSX Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;boots.xlsx&#39;</span><br><span class="line">dbms&#x3D;xlsx &#x2F;*xlsx&#x2F;excel file*&#x2F;</span><br><span class="line">out&#x3D;work.bootsales &#x2F;*import to work lib bootsales dataset*&#x2F;</span><br><span class="line">replace;</span><br><span class="line">sheet&#x3D;boot; &#x2F;*worksheet called boot*&#x2F;</span><br><span class="line">getnames&#x3D;yes; &#x2F;*also by default*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>Importing a Comma-Delimited File with a CSV Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;boot.csv&#39;</span><br><span class="line">dbms&#x3D;csv &#x2F;*csv does not have multi worksheet*&#x2F;</span><br><span class="line">out&#x3D;shoes</span><br><span class="line">replace;</span><br><span class="line">getnames&#x3D;no;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>Importing a Delimited File with a TXT Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;delimiter.txt&#39;</span><br><span class="line">dbms&#x3D;dlm &#x2F;*delimited*&#x2F;</span><br><span class="line">out&#x3D;mydata</span><br><span class="line">replace;</span><br><span class="line">delimiter&#x3D;&#39;&amp;&#39;;</span><br><span class="line">getnames&#x3D;yes;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>Aside:<br>data looks like this:</p><blockquote><p>Region&amp;State&amp;Month&amp;Expenses&amp;Revenue<br>Southern&amp;GA&amp;JAN2001&amp;2000&amp;8000</p></blockquote><p>In this case, delimiter=’&amp;’.</p>
          </div>
<p>Importing a Space-Delimited File with a TXT Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">filename stdata &#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;state_data.txt&#39;; &#x2F;*this is equal to rename the filepath to &#39;stdata&#39;*&#x2F;</span><br><span class="line">proc import datafile&#x3D;stdata</span><br><span class="line">dbms&#x3D;dlm</span><br><span class="line">out&#x3D;states</span><br><span class="line">replace;</span><br><span class="line">delimiter&#x3D;&#39; &#39;;</span><br><span class="line">getnames&#x3D;yes;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>Importing a Tab-Delimited File with a TXT Extension<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proc import datafile&#x3D;&#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;class.txt&#39;</span><br><span class="line">dbms&#x3D; dlm</span><br><span class="line">out&#x3D;class</span><br><span class="line">replace;</span><br><span class="line">delimiter&#x3D;&#39;09&#39;x; &#x2F;*tab*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>Aside:<br>如果没有replace,想要创建一个名字一样的dataset, program will not complete and will not create a new dataset.</p>
          </div>
<p><br><br><br></p>
<ol>
<li>Reading Microsoft Excel Data with the XLSX Engine<br>因为excel可能有多个sheet拥有数据,这个是简便方式.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libname certxl XLSX &#39;&#x2F;courses&#x2F;d4c186d5ba27fe300&#x2F;exercise.xlsx&#39;;</span><br></pre></td></tr></table></figure>
<p>The SAS/ACCESS LIBNAME statement creates the library called Certxl, which points to the Excel workbook exercise.xlsx. The workbook contains 3 worksheets, which are now available in the new SAS library as data sets.</p>
<p><br><br><br></p>
<h2 id="Character-and-Numeric-variable"><a href="#Character-and-Numeric-variable" class="headerlink" title="Character and Numeric variable"></a>Character and Numeric variable</h2><ul>
<li>Numeric数字</li>
<li>Character字母和数字和符号</li>
</ul>
<p>You cannot 永久地 change the type of the variable. However, you can convert them temporarily:</p>
<p>Where SAS expects a numeric value, character will be converted into numeric if <strong>it only contains numbers</strong> . Otherwise a data error (execution error) will be issued and missing value will be generated.</p>
<p>Where SAS expects a character value, numeric data will be converted in to character based on best12. format. Best12. is a SAS format that allows SAS to determine the best format in 12 columns.</p>
<div class="note ">
            <p>Aside:</p><p>在SAS中, numeric的数据会靠右, char会靠左.</p>
          </div>
<p><br><br><br></p>
<p>“Where” statement selects the observations that satisfy certain conditions. It requires <strong>compatible</strong> variables (num compare to num, char compare to char).</p>
<p>The length of a character is by default $8 (infile cards).</p>
<ul>
<li>Otherwise, the length of a character is defined by the first assignment during <strong>compiling</strong> (the length of the assigning variable or the assigning string value).</li>
<li>If you use a LENGTH statement to assign a length to a character variable, then it must be the first reference to the character variables in the DATA step. Therefore, the best position in the DATA step for a LENGTH statement is immediately after the DATA statement.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data work.staff;</span><br><span class="line">JobCategory &#x3D; &#39;FA&#39;;</span><br><span class="line">JobLevel &#x3D; &#39;1&#39;;</span><br><span class="line">JobCategory &#x3D; JobCategory || JobLevel;</span><br><span class="line">run; &#x2F;*output FA*&#x2F;</span><br></pre></td></tr></table></figure>
<p><br><br><br></p>
<h2 id="Missing-data"><a href="#Missing-data" class="headerlink" title="Missing data"></a>Missing data</h2><ul>
<li>Numeric missing is presented as a period (.); character missing is presented as blank</li>
<li><strong>Missing data is less than any other valid values</strong> (做where寻找时需要注意)</li>
<li>SAS will treat as missing numeric value if it encounters:<ol>
<li>an invalid numeric data (for example, letters, see the previous example)</li>
<li>division by zero (5/0 = missing)</li>
<li>performing an operation on missing value (1+missing = missing)</li>
</ol>
</li>
</ul>
<p><br><br><br></p>
<h2 id="SAS-date"><a href="#SAS-date" class="headerlink" title="SAS date"></a>SAS date</h2><p>SAS date value is a value that represents the number of days between January 1, 1960(as numeric value 0), and a<br>specified date.</p>
<p>“ddMMMyyyy”d<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“02Jan1960”d &#x3D; 1</span><br></pre></td></tr></table></figure></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Function</th>
<th>Usage</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>MDY</td>
<td>MDY(2,5,2017)</td>
<td>20855</td>
</tr>
<tr>
<td></td>
<td>MDY(‘01’,’01’,1960)</td>
<td>0</td>
</tr>
<tr>
<td>Day</td>
<td>Day(‘05Feb2017’d)</td>
<td>5</td>
</tr>
<tr>
<td>Month</td>
<td>Month(‘05Feb2017’d)</td>
<td>2</td>
</tr>
<tr>
<td>Year</td>
<td>Year(20855)</td>
<td>2017</td>
</tr>
<tr>
<td>Weekday</td>
<td>Weekday(20855)</td>
<td>1   #Sunday</td>
</tr>
<tr>
<td>Qtr</td>
<td>Qtr(20855)</td>
<td>1   #First</td>
</tr>
<tr>
<td>Time</td>
<td>Time()</td>
<td>Current time</td>
</tr>
<tr>
<td>Date/today</td>
<td>Date() or Today()</td>
<td>Current date</td>
</tr>
<tr>
<td>Datetime</td>
<td>Datetime()</td>
<td>Current date and time</td>
</tr>
</tbody>
</table>
</div>
<div class="note ">
            <p>Aside:</p><p>Results are all numeric, character can be used in the input, but will be converted into numeric automatically. 05FEB2017 is 20855 and Sunday</p>
          </div>
<div class="note ">
            <p>Aside:</p><p>Time(): # of seconds from 00:00:00<br>Date() or today(): # of days from 1960/01/01<br>Datetime(): # of seconds from 1960/01/01 00:00:00</p>
          </div>
<p><br><br><br></p>
<h2 id="SAS-format"><a href="#SAS-format" class="headerlink" title="SAS format"></a>SAS format</h2><div class="table-container">
<table>
<thead>
<tr>
<th>Format</th>
<th>Original</th>
<th>FORMAT statement for data/proc steps</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>w.d</td>
<td>12</td>
<td>format amount 4.1;</td>
<td>12.00</td>
</tr>
<tr>
<td>DATEw.</td>
<td>8966</td>
<td>format birth date7.;</td>
<td>19JUL84</td>
</tr>
<tr>
<td></td>
<td></td>
<td>format birth date9.;</td>
<td>19JUL1984</td>
</tr>
<tr>
<td>MMDDYYw. / DDMMYYw.</td>
<td>8966</td>
<td>format birth mmddyy6.;</td>
<td>071984</td>
</tr>
<tr>
<td></td>
<td></td>
<td>format birth mmddyy8.;</td>
<td>07/19/84</td>
</tr>
<tr>
<td>COMMAw.d</td>
<td>2234234.34</td>
<td>format amount comma15.2;</td>
<td>2,234,234.34</td>
</tr>
<tr>
<td>DOLLARw.d</td>
<td>2234234.34</td>
<td>format dollar dollar15.2;</td>
<td>$2,234,234.34</td>
</tr>
<tr>
<td>Percentw.d</td>
<td>0.12</td>
<td>format num percent7.2;</td>
<td>12.00%</td>
</tr>
</tbody>
</table>
</div>
<p><br><br><br></p>
<h2 id="format"><a href="#format" class="headerlink" title="format"></a>format</h2><p>and和or等的表现方式跟bash有点点像.<br><div class="note ">
            <p>+, -, <em>, /, *</em><br>&amp; and, | or, ^ not</p>
          </div></p>
<p>The default encoding for a dataset in SAS is “wlatin1” (or “wlatin1 Western (windows)”). wlatin1 is used in the “western world” and does not suppose Asian characters. UTF-8 is a universal encoding that can handle characters from all possible languages.</p>
<p><br><br><br></p>
<h2 id="PROCs"><a href="#PROCs" class="headerlink" title="PROCs"></a>PROCs</h2><p><strong>proc contents</strong>用于查看一个table的信息,加下划线all是一个library里所有的table信息.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proc contents data&#x3D;SASHELP._all_ VARNUM;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>proc sort.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;sashelp.class out&#x3D;class; &#x2F;* work.class *&#x2F;</span><br><span class="line">by sex descending age; &#x2F;* this descending the age, if we want two descending we need to right it twice*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>➢ Out= option allows you to specify the name (class) of the sorted data set, if omitted, the original data set (SASHELP.class) will be overwritten.<br>➢ By default, SAS will sort the data set in ascending order (by sex). Option DESCENDING before the variable age asks SAS to sort in descending order (by age).<br>➢ Proc sort does not generate SAS results, but generate a new sorted data set.</p>
          </div>
<p>If you specify NODUP option, the duplicated records will be deleted from the sorted data set (overview2_nodup).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;cert.overview2 out&#x3D;overview2_nodup nodup; &#x2F;* de-dup *&#x2F;</span><br><span class="line">by country;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure><br>我们还可以用隔壁sql的distinct来de-dup.</p>
<p>If you specify NODUPKEY option, only one record (the first one) with the same key variables (the variables specified in BY statement) will be kept in the sorted data set (overview2_nodupkey).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;cert.overview2 out&#x3D;overview2_nodupkey nodupkey;</span><br><span class="line">by country; &#x2F;* 如果country有一样的就删掉*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>proc means.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proc means data&#x3D;SASHELP.CLASS std mean max maxdec&#x3D;2; &#x2F;* maxdec是小数点后最多保留两位 *&#x2F;</span><br><span class="line">var Height;</span><br><span class="line">class Sex Age; &#x2F;* 先分组,这种情况会分为四组*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>✓ Class statement asks SAS to calculate the statistics for VAR Height within each class levels (Sex, Age)<br>✓ VAR statement asks for statistics of specified numeric variables, ignoring missing values. When omitted, the statistics for all the numeric variables will be calculated with missing values ignored.<br>✓ STD, MEAN, MAX … are the statistics you can require to calculate. By default, SAS will calculate N, mean, std, min and max. “N Obs” is always given by SAS output, which counts total number of observations in each class level, including all missing values.<br>✓ MAXDEC = specifies the maximum of decimal points you would like SAS to report.<br>✓ Format, where and label statement can be applied in PROC MEANS as well</p>
          </div>
<p><strong>proc print.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">proc print data&#x3D; class label;</span><br><span class="line">id name;</span><br><span class="line">var sex age height weight;</span><br><span class="line">label sex&#x3D;&quot;Gender: M&#x2F;F&quot;;</span><br><span class="line">format height weight 7.1;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>✓ Proc print displays the data portion of the data set. (what about proc contents?)<br>✓ VAR statement specifies which variables to print. If omitted, then SAS will by default print all the<br>variables.<br>✓ Label option in the proc print statement asks SAS to print label instead of variable name in the<br>header.<br>✓ ID statement uses NAME for the row names instead of observations (1,2,3…). For example,<br>without ID statement, the result will be like:<br>✓ You can also use BY statement to have separate reports for different BY levels, however, data<br>set must by sorted before using BY statement. Indeed, before using BY statement in any<br>data/proc step, you must sort your data.</p>
          </div>
<p><strong>proc freq.</strong>用于分析数据频率.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc freq data &#x3D; sashelp.shoes;</span><br><span class="line">tables region;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>Two-way Tabulation</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">proc freq data &#x3D; sashelp.shoes;</span><br><span class="line">tables region*product;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p><strong>proc format.</strong>这是一个组合技.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">proc format;</span><br><span class="line">value score</span><br><span class="line">low - &lt;60 &#x3D; &quot;Fail&quot;</span><br><span class="line">60 - high &#x3D; &quot;Pass&quot;;</span><br><span class="line">run;</span><br><span class="line">proc format;</span><br><span class="line">value $sex &#x2F;* 修饰character value *&#x2F;</span><br><span class="line">&quot;M&quot; &#x3D; &quot;Male&quot;</span><br><span class="line">&quot;F&quot; &#x3D; &quot;Female&quot;;</span><br><span class="line">run;</span><br><span class="line"></span><br><span class="line">&#x2F;* define了之后再使用 *&#x2F;</span><br><span class="line">proc print data &#x3D;class;</span><br><span class="line">var score;</span><br><span class="line">format score score.;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>
<p>The user-defined format will be stored in a SAS catalog (not SAS data set).<br>Use $ before the format name in the value statement if you want to apply it to a character variable.</p>
<p>proc transpose: Transposing from horizontal (wide) to vertical (long) or transposing from vertical<br>to horizontal<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Proc transpose data&#x3D;[] out&#x3D;[] prefix&#x3D;[];</span><br><span class="line">By [variable list]; &#x2F;* 用于分组的variable *&#x2F;</span><br><span class="line">Var [variable list]; *transpose these variables; shortcut有RR:是所有R开头的column</span><br><span class="line">Id [variable list]; *value becomes to variable name; 纵到横才需要id</span><br><span class="line">Run;</span><br></pre></td></tr></table></figure></p>
<div class="note ">
            <p>ID statement is critical when you transfer vertical to horizontal!<br>If you omit the VAR statement, then the TRANSPOSE procedure transposes all numeric variables in the input data set that are not listed in another statement.<br>You must list character variables in a VAR statement if you want to transpose them.</p>
          </div>
<p><br><br><br><br><br></p>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p><strong>Mean, min, max, sum</strong><br>All the above functions ignore missing values. For example Sum (.,1,2,3) = 6, but . + 1 +2 +3 = .</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Y&#x3D;Mean(x1,x2);</span><br><span class="line">Y&#x3D;Mean(of X1-X5); &#x2F;* of 是简略写法,这里是sum x1到x5*&#x2F;</span><br><span class="line">Y&#x3D;Mean(of X:); &#x2F;* 这里是sum 所有的x column*&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong>input和put</strong>可以用来转换格式.<br>Input(var,informat.): read variable into SAS value (normally numeric) using given informat.<br>Put(var,format.): present SAS values using given format, put function always returns a character.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var1&#x3D;‘10Oct2021’;</span><br><span class="line"></span><br><span class="line">var2&#x3D;input(var1,date9.); &#x2F;* 这里的date9.是用于转换的格式informat*&#x2F;</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th>Informat</th>
<th>Original</th>
<th>INput</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>DATEw.</td>
<td>1jan1961</td>
<td>INPUT (Day, DATE9.)</td>
<td>366</td>
</tr>
<tr>
<td></td>
<td>1 jan 61</td>
<td></td>
<td>366</td>
</tr>
<tr>
<td>MMDDYYw. / DDMMYYw.</td>
<td>01.01.61</td>
<td>INPUT (Day, DDMMYY10.)</td>
<td>366</td>
</tr>
<tr>
<td></td>
<td>02/01/61</td>
<td>INPUT (Day, DDMMYY10.)</td>
<td>367</td>
</tr>
<tr>
<td>COMMAw.d</td>
<td>$1,000,001</td>
<td>INPUT (Income, COMMA10.)</td>
<td>1000001</td>
</tr>
<tr>
<td></td>
<td>(1,234)</td>
<td>INPUT (Income, COMMA10.)</td>
<td>-1234</td>
</tr>
</tbody>
</table>
</div>
<p>INDEX(character1, character2) returns first position of character2 string in in character1 string.从1开始数.<br>Returns 0 if string not found.</p>
<p>FIND(character1, character2 &lt;, start position&gt; &lt;, modifier&gt;) Searches for a specific substring of characters within a character string, it is a more powerful version of INDEX function<br>Start position: from which position to search, should be numeric</p>
<blockquote>
<p>Modifier: is a character constant, variable, or expression that specifies one or more modifiers. The following modifiers can be in uppercase or lowercase: ‘i’: ignores character case during the search. If this modifier is not specified, FIND only searches for character substrings with the same case as the characters in substring.<br>加了I或者i都会ignore大小写.<br>start position会ignore掉前面的字母,从start position开始数.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Text&#x3D;&quot;Australia, US, Denmark&quot;;</span><br><span class="line">Pos&#x3D;find(Text,”US”,”i”,5);</span><br></pre></td></tr></table></figure>
<p>SUBSTR(character, numeric1&lt;, numeric2&gt;) extracts a substring from character of length numeric2 starting from position numeric1.</p>
<p>LENGTH(string) Returns the length of a non-blank character string, excluding trailing blanks, and returns 1 for a blank character string.</p>
<p>TRANWRD(source, target, replacement) Replaces all occurrences of a substring in a character string.<br>像atom里的查找并一键替换功能.</p>
<p>TRIM(character) trims trailing blanks (blanks after the last non-blank character).</p>
<p>SCAN(character, n&lt;,delimiters &gt;) Returns the n-th <strong>word</strong> from a character string.</p>
<div class="note ">
            <p>CAT(OF X1-X4)  == X1||X2||X3||X4<br>CATS(OF X1-X4) == TRIM(LEFT(X1))||TRIM(LEFT(X2))||TRIM(LEFT(X3))||TRIM(LEFT(X4))<br>CATT(OF X1-X4) == TRIM(X1)||TRIM(X2)||TRIM(X3)||TRIM(X4)<br>CATX(SP, OF X1-X4) == TRIM(LEFT(X1))||SP||TRIM(LEFT(X2))||SP||TRIM(LEFT(X3))||SP||TRIM(LEFT(X4))</p>
          </div>
<p><br><br><br><br><br></p>
<h2 id="control-data-step-flow"><a href="#control-data-step-flow" class="headerlink" title="control data step flow"></a>control data step flow</h2><p><strong>subsetting if</strong><br>等于where来筛选的功能.但是where is more efficient.在dataset中,where只能出现一次,if可以出现多次.</p>
<p><strong>if…then</strong><br>普通的if statement.<br>注意,如果要写 if A, then B and C.我们需要group B和C.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data do_group;</span><br><span class="line">set cert.Overview;</span><br><span class="line">if country&#x3D;&quot;China&quot; then do;</span><br><span class="line">FX&#x3D;0.2;</span><br><span class="line">output;</span><br><span class="line">end;</span><br><span class="line">else if country &#x3D;&quot;Canada&quot; then do;</span><br><span class="line">FX&#x3D;1;</span><br><span class="line">output;</span><br><span class="line">end;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p><strong>loop</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* numeric index *&#x2F;</span><br><span class="line">do i&#x3D;1 to 20 by 1;</span><br><span class="line">&#x2F;* or *&#x2F;</span><br><span class="line">do i&#x3D;1 to 20;</span><br><span class="line">&#x2F;* Do While *&#x2F;</span><br><span class="line">do while (PD&lt;0.5);</span><br><span class="line">&#x2F;* Do Until *&#x2F;</span><br><span class="line">do until (PD&gt;&#x3D;0.5);</span><br></pre></td></tr></table></figure><br>Every DO (DO group or DO loop) must have a matching END.</p>
<p><br><br><br><br><br></p>
<p><strong>output</strong><br>Every time an output statement is hit the current record is saved to the output data set.</p>
<ul>
<li>If a data step has no OUTPUT statement then there is an implied OUTPUT at the end of the data<br>step.</li>
<li>If the data step contains one or more OUTPUT statements then there is no longer an OUTPUT<br>implied at the end of the data step.</li>
</ul>
<p>ODS can Save SAS output to various destinations such as rtf (word), pdf, csv, html …<br>Sample Syntax to save the result of PROC FREQ into a html file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ods html file&#x3D;&quot;C:\SAS\data\for lecture\output.html&quot;;</span><br><span class="line">proc freq data&#x3D;overview;</span><br><span class="line">tables country;</span><br><span class="line">run;</span><br><span class="line">ods html close;</span><br></pre></td></tr></table></figure>
<p>Other destinations can be used by SAS:<br>RTF, CSVALL, CSV, PDF, HTML, MSOFFICE2K, EXCELXP …</p>
<p><br><br><br><br><br></p>
<h2 id="combine"><a href="#combine" class="headerlink" title="combine"></a>combine</h2><p>第一种combine:只combine数量一样的行,不同的drop掉.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data one_to_one;</span><br><span class="line">set a;</span><br><span class="line">set b;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>左:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>右:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarB</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>结果:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
<th>VarB</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>A1</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>A2</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>第二种Data Concatenation: to stack two or more SAS data sets together.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DATA new_data_set;</span><br><span class="line">SET data_set_1 ... data_set_n;</span><br><span class="line">RUN;</span><br></pre></td></tr></table></figure></p>
<p>左:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>右:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarB</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>结果:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>第二种combine带sort.All the data sets need to be sorted before using any BY statement!<br><strong>注意这时得两个table已经sort好了.这个条件限制于所有sort.</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DATA new_data_set;</span><br><span class="line">SET data_set_1 ... data_set_n;</span><br><span class="line">BY variable_list;</span><br><span class="line">RUN;</span><br></pre></td></tr></table></figure></p>
<p>左:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>右:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
</tbody>
</table>
</div>
<p>结果:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Num</th>
<th>VarA(保留左边的VarA储存属性)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>A1</td>
</tr>
<tr>
<td>2</td>
<td>B2</td>
</tr>
<tr>
<td>3</td>
<td>A2</td>
</tr>
<tr>
<td>4</td>
<td>B4</td>
</tr>
<tr>
<td>5</td>
<td>A3</td>
</tr>
</tbody>
</table>
</div>
<p>如果左表图是VarA右表图是VarB,则会同时保留VarA和VarB.</p>
<p>第三种真正的merge(也叫join).<br>注:在merge前要check是否sorted,以及check keyvar name是否identical.<br>sas datastep merge不支持many to many.sql可以.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DATA new_data_set;</span><br><span class="line">MERGE data_set_1(in&#x3D;ind_1) data_set_2(in&#x3D;ind_2);</span><br><span class="line">BY variable-list;</span><br><span class="line">if ind_1&#x3D;1; *left join;</span><br><span class="line">*if ind_2&#x3D;1; *right join;</span><br><span class="line">*if ind_1&#x3D;1 and ind_2&#x3D;1; *inner join;</span><br><span class="line">*if ind_1&#x3D;1 or ind_2&#x3D;1; *SAS default: full join;</span><br><span class="line">RUN;</span><br></pre></td></tr></table></figure></p>
<p><br><br><br><br><br></p>
<h2 id="Retain-and-Sum-Statement"><a href="#Retain-and-Sum-Statement" class="headerlink" title="Retain and Sum Statement"></a>Retain and Sum Statement</h2><p>Use the RETAIN累加 statement when you want SAS to preserve a variable’s value from the previous iteration of the DATA step.<br>如果我们使用loop,sas无法累计上一轮的temp variable值.所以我们使用retain function存储 temp variable.<br>➢ The RETAIN statement can appear anywhere in the DATA step, it is more efficient than the assignment statement, because it will be executed only once (declarative).<br>➢ Retain statement syntax (if not specifying initial value, then initialize the variable list with missing):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RETAIN variable-list;</span><br><span class="line">RETAIN variable-list initial-value;</span><br></pre></td></tr></table></figure>
<p>➢ A sum statement also retains values from the previous iteration of the DATA step, but you use it for the special cases where you simply want to cumulatively add the value of an expression to a variable.<br>➢ Sum statement syntax<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable + expression; &#x2F;* 要注意这跟variable&#x3D; variable + expressison 不一样,comment里的是普通的加法,无法处理missing value,而codeblock里的是retain的写法,可以处理missing value.*&#x2F;</span><br></pre></td></tr></table></figure></p>
<p>This is equivalent to:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RETAIN variable 0;</span><br><span class="line">variable &#x3D; SUM(variable, expression);</span><br></pre></td></tr></table></figure></p>
<p>➢ The sum statement will ignore missing values, because it is equivalent to sum function not + operator.</p>
<p><br><br><br><br><br></p>
<h2 id="SAS-Automatic-Variables"><a href="#SAS-Automatic-Variables" class="headerlink" title="SAS Automatic Variables"></a>SAS Automatic Variables</h2><p>Those SAS Automatic variables will be automatically dropped from the data step, and <strong>can be only used with IF statement, but not where statement</strong>.</p>
<p><strong>FIRST.by</strong> and <strong>LAST.by</strong><br>The FIRST.by and LAST.by automatic variables are available when you are using a BY statement in a DATA step.<br>The FIRST.by will have a value of 1 when SAS is processing an observation with the first occurrence of a new value for that variable and a value of 0 for the other observations.<br>The LAST.by will have a value of 1 for an observation with the last occurrence of a value for that variable and the value 0 for the other observations.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">proc sort data&#x3D;class;</span><br><span class="line">by class descending name; &#x2F;* 因为要使用first.class last.class所以先排序好 *&#x2F;</span><br><span class="line">run;</span><br><span class="line"></span><br><span class="line">data sum_class;</span><br><span class="line">set class;</span><br><span class="line">by class descending name;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>可以用于分组累加.注意一定要按by的feature排序好.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data WORK.TOTAL;</span><br><span class="line">set WORK.SALARY;</span><br><span class="line">by Department Gender;</span><br><span class="line">if First.&lt;_insert_code_&gt; then Payroll&#x3D;0; &#x2F;* 这三行是个combo *&#x2F;</span><br><span class="line">Payroll+Wagerate;</span><br><span class="line">if Last.&lt;_insert_code_&gt;;&#x2F;* 算什么的accumulate subtotals for each feature 就把insert_code改成那个feature*&#x2F;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure><br>Inserted code will accumulate subtotals for each Gender within Department.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data WORK.TOTAL;</span><br><span class="line">set WORK.SALARY(keep&#x3D;Department MonthlyWageRate);</span><br><span class="line">by Department;</span><br><span class="line">if First.Department&#x3D;1 then Payroll&#x3D;0;</span><br><span class="line">Payroll+(MonthlyWageRate*12); &#x2F;* 累加的是MonthlyWageRate*12,存到payroll里 *&#x2F;</span><br><span class="line">if Last.Department&#x3D;1;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>The values of the variable Payroll represent the annual total for each department in the WORK.SALARY data set.</p>
<p><br><br><br><br><br></p>
<h1 id="Macro"><a href="#Macro" class="headerlink" title="Macro"></a>Macro</h1><p>三种macro variable的建立:</p>
<ul>
<li>%let<br>Straightforward and easy to understand. Use period to separate out the macro variable you would like to resolve</li>
<li>Call symput: With CALL SYMPUT, you can create macro variables that contain the values of variables from SAS data sets. You cannot resolve them in the same data step.</li>
<li>SQL Method: Create macro variables in PROC SQL</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%let data&#x3D;work.overview; *to define a macro variable;</span><br><span class="line">proc print data&#x3D;&amp;data; *use &amp; to resolve(使用&#x2F;替换) it;</span><br><span class="line">*double quotes &quot;&quot; - resolve macro variable;</span><br><span class="line">title &quot;A listing of the &amp;data SAS data set&quot;;</span><br><span class="line">*single quotes &#39;&#39; - not resolve macro variable;</span><br><span class="line">title2 &#39;A listing of the &amp;data SAS data set&#39;;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure>
<p>加separator的点.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">%let i&#x3D;10; *what if I want resolve &quot;i&quot; in &quot;ith&quot;;</span><br><span class="line">proc print data&#x3D;work.overview(firstobs&#x3D;&amp;i obs&#x3D;&amp;i);</span><br><span class="line">title &quot;&amp;i.th Record in work.overview&quot;; *resolved as 10th;</span><br><span class="line">title2 &quot;&amp;ith Record in work.overview&quot;; *can not resolve, since ith is</span><br><span class="line">not a macro variable;</span><br><span class="line">run;</span><br></pre></td></tr></table></figure></p>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关博文</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2020/11/28/P141/" rel="bookmark">关于data的笔记 - Week2</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/01/18/P163/" rel="bookmark">关于R语言的笔记 - R markdown</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/01/13/P164/" rel="bookmark">关于R语言的笔记</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/02/02/P165/" rel="bookmark">关于R语言的笔记 - 续</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/blog/2021/01/31/P167/" rel="bookmark">关于SQL的笔记 - 续</a></div>
    </li>
  </ul>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/%E7%BC%96%E7%A0%81/" rel="tag"># 编码</a>
              <a href="/blog/tags/%E4%BB%A5%E5%A4%B4%E6%8A%A2%E5%9C%B0-%E8%AF%9A/" rel="tag"># 以头抢地(诚)</a>
              <a href="/blog/tags/data/" rel="tag"># data</a>
              <a href="/blog/tags/SAS/" rel="tag"># SAS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2021/10/05/P210/" rel="prev" title="关于data的笔记2.0 - Week1(连载中)">
      <i class="fa fa-chevron-left"></i> 关于data的笔记2.0 - Week1(连载中)
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2021/10/03/P148/" rel="next" title="雨未对你来说是怎样的存在?">
      雨未对你来说是怎样的存在? <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">


      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>



      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Structure-of-SAS-program"><span class="nav-number">1.</span> <span class="nav-text">Structure of SAS program</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SAS-Data"><span class="nav-number">2.</span> <span class="nav-text">SAS Data</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Import"><span class="nav-number">2.1.</span> <span class="nav-text">Import</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Character-and-Numeric-variable"><span class="nav-number">2.2.</span> <span class="nav-text">Character and Numeric variable</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Missing-data"><span class="nav-number">2.3.</span> <span class="nav-text">Missing data</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS-date"><span class="nav-number">2.4.</span> <span class="nav-text">SAS date</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS-format"><span class="nav-number">2.5.</span> <span class="nav-text">SAS format</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#format"><span class="nav-number">2.6.</span> <span class="nav-text">format</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PROCs"><span class="nav-number">2.7.</span> <span class="nav-text">PROCs</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function"><span class="nav-number">2.8.</span> <span class="nav-text">function</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#control-data-step-flow"><span class="nav-number">2.9.</span> <span class="nav-text">control data step flow</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#combine"><span class="nav-number">2.10.</span> <span class="nav-text">combine</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Retain-and-Sum-Statement"><span class="nav-number">2.11.</span> <span class="nav-text">Retain and Sum Statement</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SAS-Automatic-Variables"><span class="nav-number">2.12.</span> <span class="nav-text">SAS Automatic Variables</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Macro"><span class="nav-number">3.</span> <span class="nav-text">Macro</span></a></li></ol></div>


      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mazui"
      src="/blog/images/logo_6.png">
  <p class="site-author-name" itemprop="name">Mazui</p>
  <div class="site-description" itemprop="description">与孤独和平共处.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">209</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:mazui.and.rio@gmail.com" title="E-Mail → mailto:mazui.and.rio@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3032131561?topnav=1&wvr=6&topsug=1&ssl_rnd=1606158448.6943&is_all=1" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3032131561?topnav&#x3D;1&amp;wvr&#x3D;6&amp;topsug&#x3D;1&amp;ssl_rnd&#x3D;1606158448.6943&amp;is_all&#x3D;1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/mazui_3" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/mazui_3" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

      <br>
      <!--new music test-->

  <!--网易云插件-->
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=465530020&auto=0&height=66"></iframe>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
      <script>
//暂时储存文章中的内容
var div = $('.post-body');
//暂时储存目录的内容
var toc=$('.post-toc-wrap')
function password() {
  if(''){
  //将文章内容删除
    div.remove();
 //将目录删除
    toc.remove();
  //将文章删除后，向原来文章的地方添加，应该出现的提示用户输入密码的样式
  //下面这里的第一个用textarea是因为如果在手机端的时候只能显示一部分文字，
  //只是拓展:input里面的字只能显示一行，不会自动换行，目前上网搜索没有发现好的办法，所以用了textarea，右下角的小三角通过resize:none 去掉。
   $('.post-header').after('<textarea class="description" value="Please enter your password and press enter to build" style="border: none;display: block;' +'width: 60%;margin: 0 auto;text-align: center;outline: none;margin-bottom: 50px;resize:none ">
      Please enter your password and press enter to build</textarea>' +
      '<div class="qiang" style="height: 100px;width: 60%;margin:0 auto">' +
      '<input class="password"  type="text" value="" style="border: none;display: block;border-bottom: 1px solid #ccc;' +
      'margin: 0 auto;outline: none;width:95%"/>' +
      '</div>')
      //绑定点击事件，如果是点击的.password 这个div就改变样式，如果是document中除了div之外的其他任何元素，就变回原来的样式。
    document.onclick = function (event) {
      var e = event || window.event;
      var elem = e.srcElement || e.target;

      while (elem) {
        if (elem != document) {
          if (elem.className == "password") {
            $(".password").animate({paddingTop:"30px",width:"100%",borderWidth:"2px"},300)
            return;
          }
          elem = elem.parentNode;
        } else {
          $(".password").animate({paddingTop:"0px",width:"95%",borderWidth:"1px"},300)
          return;
        }
      }
    }
    //绑定enter键按下后离开的事件
    $(document).keyup(function(event){
      if(event.keyCode ==13&&$('.password').length>0){
        //console.log($('.password').val())
        //console.log('')
        if ($('.password').val() == '') {
        //恢复文章内容
          (div).appendTo($(".post-header"))
          //恢复目录
          toc.appendTo($(".sidebar-inner"))
          //删除本页面的输入密码组件
           $(".description").remove();
          $(".qiang").remove();
          $(".password").remove();

          //重新处理pjax事件,如果没有加pjax的从下面这行起到下面的else之间的代码需要去掉。
          //图片懒加载，没有加入此功能的这个函数需要去掉
	          $('img').lazyload({
	             placeholder: '/images/loading.gif',
	             effect: 'fadeIn',
	             threshold : 100,
	             failure_limit : 20,
	             skip_invisible : false
	           });
	           //pjax后出现文章不显示，没有pjax的下面四行需要去掉
	            $(".post-block").css({opacity:1});
	            $(".post-header").css({opacity:1});
	            $(".post-body").css({opacity:1});
	            $(".pagination").css({opacity:1});
        }else {
          alert("Sorry, the password is wrong.")
        }
      }
      //将document的keyup移除，防止在pjax的情况下会重复绑定事件
    });
  }
}
password();
</script>

    </main>


    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mazui</span>

<!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>


    <span title="Symbols count total">528k</span>
  -->

  <!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">8:01</span>

  -->
  
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
<br>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">休息室一共有184.8k的老兔正在打瞌睡</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://mazui3-com.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://mazui3.com/blog/2021/10/05/P160/";
    this.page.identifier = "2021/10/05/P160/";
    this.page.title = "关于SAS的笔记(连载中)";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://mazui3-com.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

  <script type="text/javascript" src="/js/my_js/firework.js"></script>

</body>
</html>


<!-- calendar widget -->


