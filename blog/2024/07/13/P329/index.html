<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/star.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/star.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/blog/lib/pace/pace-theme-minimal.min.css">
  <script src="/blog/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mazui3.github.io","root":"/blog/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":265,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":{"text":"Load Disqus","order":-1}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="可惜上一次记载unity笔记的时候还没有使用博客.纸质材料跟我的C++入门课一起静躺在书架上,不在脑内也不舍得丢弃.来都来了,记点记点. 个人用,杂乱,请见谅.">
<meta property="og:type" content="article">
<meta property="og:title" content="关于Unity的笔记">
<meta property="og:url" content="https://mazui3.github.io/blog/2024/07/13/P329/index.html">
<meta property="og:site_name" content="Underlake Reading Room">
<meta property="og:description" content="可惜上一次记载unity笔记的时候还没有使用博客.纸质材料跟我的C++入门课一起静躺在书架上,不在脑内也不舍得丢弃.来都来了,记点记点. 个人用,杂乱,请见谅.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_1.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_5.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_6.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_3.jpeg">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_4.jpeg">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_0.png">
<meta property="og:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_2.jpeg">
<meta property="article:published_time" content="2024-07-13T14:59:16.000Z">
<meta property="article:modified_time" content="2024-09-20T16:27:23.288Z">
<meta property="article:author" content="Mazui">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="Unity">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://mazui3.github.io/blog/2024/07/13/P329/P329_1.png">

<link rel="canonical" href="https://mazui3.github.io/blog/2024/07/13/P329/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>关于Unity的笔记 | Underlake Reading Room</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Underlake Reading Room</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">这里是图书馆外的阅览室🌟</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/blog/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/blog/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>Schedule</a>

  </li>
        <li class="menu-item menu-item-zone">

    <a href="https://cerulean-raclette-358.notion.site/QQ-7770800c659c4c5cbda0ba1b6720dec8" rel="noopener" target="_blank"><i class="fab fa-diaspora fa-fw"></i>Zone</a>

  </li>
        <li class="menu-item menu-item-back">

    <a href="https://mazui3.github.io/" rel="section"><i class="fa fa-cloud fa-fw"></i>Back</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://mazui3.github.io/blog/2024/07/13/P329/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/logo_11.jpg">
      <meta itemprop="name" content="Mazui">
      <meta itemprop="description" content="与孤独和平共处.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Underlake Reading Room">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          关于Unity的笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2024-07-13 22:59:16" itemprop="dateCreated datePublished" datetime="2024-07-13T22:59:16+08:00">2024-07-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-09-21 00:27:23" itemprop="dateModified" datetime="2024-09-21T00:27:23+08:00">2024-09-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/%E5%86%99%E7%A0%81%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">写码笔记</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/blog/2024/07/13/P329/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2024/07/13/P329/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="C">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="T">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>10 mins.</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>可惜上一次记载unity笔记的时候还没有使用博客.<br>纸质材料跟我的C++入门课一起静躺在书架上,不在脑内也不舍得丢弃.<br>来都来了,记点记点.</p>
<p>个人用,杂乱,请见谅.</p>
<span id="more"></span>

<div class="note ">
            <p>Ctrl + K + C : Comment out the selected code.<br>Ctrl + K + U : Uncomment the selected code.<br>Ctrl + / : Toggle line comments.</p>
          </div>

<div class="note ">
            <p>Shift + Space -&gt; 将鼠标所在的unity窗口放大.</p>
          </div>

<br>
<br>
<br>

<h1 id="Lighting"><a href="#Lighting" class="headerlink" title="Lighting"></a>Lighting</h1><p>Light好像只能4个,再多会唐突消失在camera内.</p>
<h2 id="Skybox"><a href="#Skybox" class="headerlink" title="Skybox"></a>Skybox</h2><p><a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/2d/textures-materials/sky/skybox-series-free-103633">Skybox</a>很好看,像是真实照片(背景)所做的lighting.还有自带的360度照片.<br>需要Create Skybox Material first, shader as Skybox/Panoramic, drag hdr file into it(the skybox).<br>(右手边的)Lighting -&gt; Environment -&gt; Skybox Material.</p>
<br>
<br>

<h1 id="GameObject"><a href="#GameObject" class="headerlink" title="GameObject"></a>GameObject</h1><h2 id="Camera"><a href="#Camera" class="headerlink" title="Camera"></a>Camera</h2><p>Click on Main Camera -&gt; GameObject -&gt; Aligh with View,可以快捷调节camera的view.<br>Click on any window, shift space可以放大window.</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=3UO-1suMbNc">Scrolling Repeating Background in Unity</a>.</p>
<h2 id="Sound"><a href="#Sound" class="headerlink" title="Sound"></a>Sound</h2><p>Camera default to have <strong>audio listener</strong>, but we can’t have 2 audio listener in scene, if we have two camera, remove one.<br>Background sound -&gt; audio source -&gt; 3D sound settings -&gt; min distance set to 0, there is no minimum distance the user need (they always hear).</p>
<h2 id="Post-Process-volume"><a href="#Post-Process-volume" class="headerlink" title="Post Process volume"></a>Post Process volume</h2><p>很酷的一种visual滤镜.<br>首先要现在window(菜单),package manager,添加post processing.<br>Volume -&gt; global volume + camera -&gt; post processing turn on<br>Under global volume(object created) create new profile.<br>Then add override, vignette, intensity for testing. Bloom, tone mapping is fun too<br>effect -&gt; particle system.</p>
<h2 id="Collision"><a href="#Collision" class="headerlink" title="Collision"></a>Collision</h2><p>For trigger object(碰撞trigger的情况), 2 objects(collision) all needs rigid body into it.</p>
<br>
Collision有两种.一种是“碰撞”,一种是"接触".
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionEnter2D</span><span class="params">(Collision2D collision)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(collision.gameObject.tag == <span class="string">&quot;Ground&quot;</span>)&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这一种一般用于,比如合成大西瓜,物体与物体的碰撞.

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter2D</span><span class="params">(Collider2D other)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(other.gameObject.tag == <span class="string">&quot;Coin&quot;</span>)&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这一种一般用于”路径点”,拾取道具.<br>需要在Collider 2D中turn on “Is trigger”.</p>
<br>
<br>

<p>Rigid body跟character control好像不兼容(需要查询).<br>Character control可以控制更多. -&gt; 如果要使用on trigger,因为需要二者之一的rigid body所以对面需要拥有rigid body.</p>
<br>
<br>

<h2 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h2><p>要查看canvas的种类,在canvas -&gt; render mode中查看.<br>如果是screen space - camera, 或者screen space - overlay -&gt; 会让canvas的位置根据camera变动.<br>如果是world space -&gt; 可以rename成world canvas,是一个canvas物体,跟其他物品一样.</p>
<p>要加入canvas中的物件.推荐使用这个小窗口.</p>
<img src="/blog/2024/07/13/P329/P329_1.png" class="" title="rect transform">
<p><strong>Left button selection + alt + shift</strong>, place object in one of default position.</p>
<p>Frame canvas -&gt; canvas scaler-&gt; UI Scale Mode, scale with screen size.</p>
<div class="note ">
            <p>Sprite renderer renders a sprite in the sccene, UI image renders a sprite in UI.</p>
          </div>

<br>
<br>

<h2 id="Animator"><a href="#Animator" class="headerlink" title="Animator"></a>Animator</h2><p>如果需要给game object增加动画,需要添加animator component.<br>Animator需要animation controller(assets).</p>
<img src="/blog/2024/07/13/P329/P329_5.png" class="" title="记得freeze z">

<br>
<br>

<p>一个造门的小妙招.</p>
<img src="/blog/2024/07/13/P329/P329_6.png" class="">
<p>创造一个空的game object parent,然后再造一个door.<br>Gizmo的position正好在门要转动的轴上,所以只要用代码转动Gizmo就能转动门.<br>用两层parent是因为,一层用来转动,一层用来移动.</p>
<br>
<br>

<h2 id="Joint"><a href="#Joint" class="headerlink" title="Joint"></a>Joint</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=MElbAwhMvTc&amp;ab_channel=DitzelGames">https://www.youtube.com/watch?v=MElbAwhMvTc&amp;ab_channel=DitzelGames</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/@JamesMakesGamesYT/videos">https://www.youtube.com/@JamesMakesGamesYT/videos</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=dEtuAPo5vAg&amp;ab_channel=ChristopherFrancis">https://www.youtube.com/watch?v=dEtuAPo5vAg&amp;ab_channel=ChristopherFrancis</a></p>
<br>
<br>

<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.<span class="built_in">GetKeyDown</span>(KeyCode.Space))&#123;</span><br><span class="line">  <span class="comment">// do some action</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><del>关于博主把GetKeyDown和GetKey混着用的这件事.</del><br>GetKeyDown如题只记录Down这个action是否实施过.<br>GetKey而是get key的这段时间一直都会return true.</p>
<br>
<br>

<h1 id="Object-Pooling"><a href="#Object-Pooling" class="headerlink" title="Object Pooling"></a>Object Pooling</h1><img src="/blog/2024/07/13/P329/P329_3.jpeg" class="">

<br>
<br>

<h1 id="Sprite-Multi"><a href="#Sprite-Multi" class="headerlink" title="Sprite Multi"></a>Sprite Multi</h1><img src="/blog/2024/07/13/P329/P329_4.jpeg" class="">

<br>
<br>

<h1 id="OOP-Principles"><a href="#OOP-Principles" class="headerlink" title="OOP Principles"></a>OOP Principles</h1><p>Encapsulation: Bundling data and methods into a single unit (class) for organized code.<br>Inheritance: Allows a class to inherit properties and behaviors from another class, promoting code reuse.<br>Polymorphism: Objects can take multiple forms, enabling a single interface for different data types.<br>Abstraction: Simplifying complex systems by modeling classes based on essential properties.</p>
<br>
<br>

<p>只有abstract或者virtual才能override.</p>
<h2 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a>Encapsulation</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Health</span>&#123;</span></span><br><span class="line">  <span class="comment">//we keep this private, but use method to change it</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">float</span> currentHealth;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">float</span> maxHealth;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> Health&#123;&#125;<span class="comment">//this is a constructor</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Health</span><span class="params">(<span class="keyword">float</span> _maxHealth, <span class="keyword">float</span> _currentHealth = <span class="number">100</span>)</span></span>&#123;</span><br><span class="line">    currentHealth = _currentHealth;</span><br><span class="line">    maxHealth = _maxHealth;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddHealth</span><span class="params">(<span class="keyword">float</span> value)</span></span>&#123;</span><br><span class="line">    currentHealth += value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DeductHealth</span><span class="params">(<span class="keyword">float</span> value)</span></span>&#123;</span><br><span class="line">    currentHealth -= value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h2 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> abstract <span class="class"><span class="keyword">class</span> <span class="title">Car</span>&#123;</span></span><br><span class="line">  <span class="keyword">public</span> string Model&#123;get; set;&#125;</span><br><span class="line">  <span class="keyword">public</span> string Make&#123;get; set;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> string wheels&#123;get; set;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// abstract - have to used</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> abstract <span class="keyword">float</span> <span class="title">GasPerKM</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> abstract <span class="keyword">void</span> <span class="title">Drive</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//concrete method - can be used, and overrided</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h2 id="Polymorphism"><a href="#Polymorphism" class="headerlink" title="Polymorphism"></a>Polymorphism</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span>&#123;</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> MakeSound&#123;</span><br><span class="line">    Debug.<span class="built_in">Log</span>(<span class="string">&quot;Animal noise&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> :</span> Animal&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> MakeSound&#123;</span><br><span class="line">    Debug.<span class="built_in">Log</span>(<span class="string">&quot;Cat meows&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span> Animal&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> MakeSound&#123;</span><br><span class="line">    Debug.<span class="built_in">Log</span>(<span class="string">&quot;Dog barks&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnimalTest</span>:</span> MonoBehaviour&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Start</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Animal[] animals = <span class="keyword">new</span> Animal[<span class="number">3</span>];</span><br><span class="line">    animals[<span class="number">0</span>] = <span class="keyword">new</span> <span class="built_in">Animal</span>();</span><br><span class="line">    animals[<span class="number">1</span>] = <span class="keyword">new</span> <span class="built_in">Dog</span>();</span><br><span class="line">    animals[<span class="number">2</span>] = <span class="keyword">new</span> <span class="built_in">Cat</span>();</span><br><span class="line"></span><br><span class="line">    foreach (Animal animal in animals)&#123;</span><br><span class="line">      animal.<span class="built_in">MakeSound</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<img src="/blog/2024/07/13/P329/P329_0.png" class="">

<h2 id="Abstraction"><a href="#Abstraction" class="headerlink" title="Abstraction"></a>Abstraction</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> abstract <span class="class"><span class="keyword">class</span> <span class="title">PlayableObject</span>:</span> MonoBehaviour, IDamageable</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">public</span> Health health = <span class="keyword">new</span> <span class="built_in">Health</span>();</span><br><span class="line">  <span class="keyword">public</span> Weapon weapon;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> abstract <span class="keyword">void</span> <span class="title">Move</span><span class="params">(Vector2 direction, Vector2 target)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> abstract <span class="keyword">void</span> <span class="title">Attack</span><span class="params">(<span class="keyword">float</span> interval)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Enemy</span>:</span> PlayableObject&#123;</span><br><span class="line">  <span class="keyword">private</span> string enemyName;</span><br><span class="line">  <span class="keyword">private</span> Transform target;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetEnemyType</span><span class="params">(EnemyType enemyType)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.enemyType = enemyType;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Move</span><span class="params">(Vector2 direction, Vector2 target)</span></span>&#123;</span><br><span class="line">    <span class="comment">// the enemy move</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Attack</span><span class="params">(<span class="keyword">float</span> interval)</span></span>;</span><br><span class="line">    Debug.<span class="built_in">Log</span>($<span class="string">&quot;Attacking with an interval of &#123;interval&#125;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>
<br>

<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/types/interfaces">Interfaces</a>/what to use(使用方法类似于class,但只有declare没有definition) -&gt; can use multi interfaces into one class.</p>
<br>
<br>

<p>Abstract class -&gt; only declare no definition.<br>Virtual you can define.</p>
<br>
<br>

<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/protected">Protected.</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Enemy</span>:</span> PlayableObject&#123;</span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Start</span><span class="params">()</span></span>&#123;</span><br><span class="line">    target = GameObject.<span class="built_in">FindWithTag</span>(<span class="string">&quot;Player&quot;</span>).transform;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Update</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(target != null)&#123;</span><br><span class="line">      <span class="built_in">Move</span>(target.position);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Move</span><span class="params">(Vector2 direction)</span></span>&#123;</span><br><span class="line">    direction.x -= transform.position.x;</span><br><span class="line">    direction.y -= transform.position.y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">float</span> angle = Mathf.<span class="built_in">Atan2</span>(direction.y, direction.x) * Mathf.Rad2Deg;</span><br><span class="line">    transform.rotation = Quaternion.<span class="built_in">Euler</span>(<span class="number">0</span>,<span class="number">0</span>,angle);</span><br><span class="line">    transform.<span class="built_in">Translate</span>(Vector2.right * speed * Time.deltaTime);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Move</span><span class="params">(<span class="keyword">float</span> speed)</span></span>&#123;</span><br><span class="line">    transform.<span class="built_in">Translate</span>(Vector2.right * speed * Time.deltaTime);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>Static的好处是static class下面的function到哪里都可以用.<br>一般需要getComponent读取object,但static就不用.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ConstantExample</span>&#123;</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">PrintMessage</span><span class="params">(String message)</span></span>&#123;</span><br><span class="line">    Debug.<span class="built_in">Log</span>(message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h1 id="Custom-Module"><a href="#Custom-Module" class="headerlink" title="Custom Module"></a>Custom Module</h1><p>有几种比较便利的,常用class整理方法.</p>
<ul>
<li><p>PlayableObject</p>
</li>
<li><p>IDamageable</p>
</li>
<li><p>GameManager</p>
</li>
<li><p>LevelLoader</p>
</li>
<li><p>SceneManager</p>
</li>
<li><p>ScoreManager</p>
</li>
<li><p>SoundManager</p>
</li>
<li><p>UIManager</p>
</li>
</ul>
<p>比较方便的data写法.</p>
<ul>
<li>Array</li>
<li>List</li>
<li>Stack</li>
<li>Dictionary</li>
</ul>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> GameObject[] array = <span class="keyword">new</span> GameObject[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">array[<span class="number">0</span>] = <span class="built_in">Instantiate</span>(testPrefab, transform);</span><br><span class="line">array[<span class="number">0</span>].transform.position = Vector2.zero;</span><br><span class="line"></span><br><span class="line">array[Random.<span class="built_in">Range</span>(<span class="number">0</span>,array.Length)].GetComponent&lt;SpriteRenderer&gt;().color = Random.<span class="built_in">ColorHSV</span>();</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>List is dynamic but array is not. (and least performance).<br>Array holds same type of object. (string array only holds strings).</p>
<br>
<br>

 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> GameObject testPrefab;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;GameObejct&gt; list = <span class="keyword">new</span> List&lt;GameObject&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span><span class="params">()</span></span>&#123;</span><br><span class="line">  GameObejct tempObject;</span><br><span class="line"></span><br><span class="line">  tempObject = <span class="built_in">Instantiate</span>(testPrefab, transform);</span><br><span class="line">  tempObject.transform.position = <span class="keyword">new</span> <span class="built_in">Vector2</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">  list.<span class="built_in">Add</span>(tempObject);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">list[Random.<span class="built_in">Range</span>(<span class="number">0</span>,list.Count)].GetComponent&lt;SpriteRenderer&gt;().color = Random.<span class="built_in">ColorHSV</span>();</span><br><span class="line"></span><br><span class="line">list.<span class="built_in">Clear</span>();</span><br><span class="line">list.<span class="built_in">RemoveAt</span>(Random.<span class="built_in">Range</span>(<span class="number">0</span>,list.Count));</span><br><span class="line"><span class="built_in">Destory</span>(list[Random.<span class="built_in">Range</span>(<span class="number">0</span>,list.Count]);</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<br>
<br>

<p>Stack: last in first out. (Use in backtracking, search history, undo behavior).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Stack&lt;GameObject&gt; stack = <span class="keyword">new</span> Stack&lt;GameObject&gt;();</span><br><span class="line"><span class="keyword">private</span> GameObjet tempObject;</span><br><span class="line"></span><br><span class="line">tempObject = <span class="built_in">Instantiate</span>(testPrefab, transform);</span><br><span class="line">tempObject.transform.position = <span class="keyword">new</span> <span class="built_in">Vector2</span>(stack.Count,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">tempObject.name = <span class="string">&quot;Stacked: &quot;</span> + stack.Count;</span><br><span class="line">stack.<span class="built_in">Push</span>(tempObject);</span><br><span class="line"></span><br><span class="line">GameObject removeObject = stack.<span class="built_in">Pop</span>();</span><br><span class="line">Debug.<span class="built_in">Log</span>(<span class="string">&quot;object at the top of the stack&quot;</span> + stack.<span class="built_in">Peek</span>().name);</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>Queue: first in first out. (Use in order, schedule list, request).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Queue&lt;GameObject&gt; queue = <span class="keyword">new</span> Queue&lt;GameObject&gt;();</span><br><span class="line"><span class="keyword">private</span> GameObjet tempObject;</span><br><span class="line">Vector2 lastEnqueuedPosition = Vector2.zero;</span><br><span class="line"></span><br><span class="line">tempObject = <span class="built_in">Instantiate</span>(testPrefab, transform);</span><br><span class="line">tempObject.transform.position = <span class="keyword">new</span> <span class="built_in">Vector2</span>(lastEnqueuedPosition.x+<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">queue.<span class="built_in">Enqueue</span>(tempObject);</span><br><span class="line">lastEnqueuedPosition = tempObject.transform.position;</span><br><span class="line"></span><br><span class="line">GameObject removeObject = queue.<span class="built_in">Dequeue</span>();</span><br><span class="line">Debug.<span class="built_in">Log</span>(<span class="string">&quot;object at the last of the queue&quot;</span> + queue.<span class="built_in">Peek</span>().name);</span><br></pre></td></tr></table></figure>

<br>
<br>

<p>Dictionary: Phonebook, user section (user id), inventory.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> TMPro;</span><br><span class="line"></span><br><span class="line">[Serialize Field] <span class="keyword">private</span> TMP_Text txtCoin, txtScore, txtGems;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Dictionary&lt;string, <span class="keyword">int</span>&gt; dictionary = <span class="keyword">new</span> dictionary&lt;string, <span class="keyword">int</span>&gt;();</span><br><span class="line"><span class="keyword">public</span> string CheckForKey = <span class="string">&quot;Bullets&quot;</span>;</span><br><span class="line"></span><br><span class="line">dictionary.<span class="built_in">Add</span>(<span class="string">&quot;Coins&quot;</span>, <span class="number">0</span>);</span><br><span class="line">dictionary.<span class="built_in">Add</span>(<span class="string">&quot;Scores&quot;</span>, <span class="number">0</span>);</span><br><span class="line">dictionary.<span class="built_in">Add</span>(<span class="string">&quot;Gems&quot;</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (dictionary.<span class="built_in">ContainsKey</span>(<span class="string">&quot;Coins&quot;</span>))&#123;</span><br><span class="line">  dictionary[<span class="string">&quot;Coins&quot;</span>]++;</span><br><span class="line">  txtCoin.text = dictionary[<span class="string">&quot;Coins&quot;</span>].<span class="built_in">ToString</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> hasKey = dictionary.<span class="built_in">TryGetValue</span>(CheckForKey, out val);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>
<br>

<h1 id="Singleton"><a href="#Singleton" class="headerlink" title="Singleton"></a>Singleton</h1><p>We can only have one singleton (therefore it called singleton).<br>Be careful for the variable in singleton (since they can only have one).</p>
<p>Eg.GameManager:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GameManager</span> :</span> MonoBehaviour&#123;</span><br><span class="line">  <span class="comment">/// &lt;summary&gt;</span></span><br><span class="line">  <span class="comment">/// Singleton</span></span><br><span class="line">  <span class="comment">/// &lt;/summary&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> GameManager instance;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> GameManager <span class="title">GetInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (instance != null &amp;&amp; instance != <span class="keyword">this</span>)&#123;</span><br><span class="line">      <span class="built_in">Destroy</span>(<span class="keyword">this</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      instance = <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Awake</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">SetSingleton</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[<span class="built_in">CreateAssetMenu</span>(filename = <span class="string">&quot;DataSample&quot;</span>, menuName = <span class="string">&quot;Data Menu Sample&quot;</span>, order = <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NewTypeOfObject</span> :</span> ScriptableObject&#123;</span><br><span class="line">  <span class="keyword">public</span> string objectName;</span><br><span class="line">  <span class="keyword">public</span> string score;</span><br><span class="line">  <span class="keyword">public</span> Vector2 startPosition;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h1 id="Delay"><a href="#Delay" class="headerlink" title="Delay"></a>Delay</h1><p>Unity timer IEnumertator.</p>
<div class="note ">
            <p>//something wanna do before the wait<br>yield return new WaitForSeconds(0.5f);<br>//something wanna do after the wait</p>
          </div>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">StartCoroutine</span>(<span class="built_in">EnemySpawner</span>());</span><br><span class="line"></span><br><span class="line"><span class="function">IEnumerator <span class="title">EnemySpawner</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (isEnemySpawning) &#123;</span><br><span class="line">        <span class="comment">// Anthing abover here will fire when the Start Corountine is callled</span></span><br><span class="line">        <span class="function">yield <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSeconds</span><span class="params">(<span class="number">1.0f</span> / enemySpawnRate)</span></span>;</span><br><span class="line">        <span class="comment">// Anthing after the wait, will be called.</span></span><br><span class="line">        <span class="built_in">CreateEnemy</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>除了IEnumertator,还能用Invoke.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Invoke</span>(<span class="string">&quot;theFunctionName&quot;</span>, <span class="number">3</span>);<span class="comment">//3 seconds then the function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> theFunctionName&#123;</span><br><span class="line">  <span class="comment">// can be anything</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h1 id="IDamageable"><a href="#IDamageable" class="headerlink" title="IDamageable"></a><a target="_blank" rel="noopener" href="https://medium.com/nerd-for-tech/idamageable-interface-unity-45bf961d141">IDamageable</a></h1><p>以我的理解,用interface(contract)来限制所有增加的class都会有其interface内的内容.<br>像给div增加class一样可以一起使用.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> interface IDamageable&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">GetDamage</span><span class="params">(<span class="keyword">float</span> damage)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter2D</span><span class="params">(Collider2D collision)</span></span>&#123;</span><br><span class="line">  Debug.<span class="built_in">Log</span>(collision.gameObject.name);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(!collision.gameObject.<span class="built_in">CompareTag</span>(targetTag))</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//using interface</span></span><br><span class="line">  IDamageable damageable = coollision.GetComponent&lt;IDamageable&gt;();</span><br><span class="line">  <span class="built_in">Damage</span>(damageable);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
<br>

<h1 id="Solid-Principle"><a href="#Solid-Principle" class="headerlink" title="Solid Principle"></a>Solid Principle</h1><blockquote>
<p>Single responsibility<br>Open–closed<br>Liskov substitution<br>Interface segregation<br>Dependency inversion</p>
</blockquote>
<h1 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/documentation-comments">Comment</a></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">连打三条杠(///).</span><br><span class="line">可以叫出&lt;summary&gt;&lt;/summary&gt;的commenting block.</span><br><span class="line">在function前面会自动变成那个function的summary.</span><br><span class="line">&lt;param name=&#x27;&#x27;&gt;&lt;/param&gt;解释function里的parameter.</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Zzklpdvue3A&ab_channel=JamesMakesGames">Using Interfaces in Unity Effectively | Unity Clean Code</a><br><a target="_blank" rel="noopener" href="https://www.researchgate.net/publication/292150724_An_Automated_Model_Based_Testing_Approach_for_Platform_Games">An Automated Model Based Testing Approach for Platform Games</a></p>
<img src="/blog/2024/07/13/P329/P329_2.jpeg" class="">

<br>
<br>

<h1 id="shader"><a href="#shader" class="headerlink" title="shader"></a>shader</h1><p>Package Manager.<br>注意title选择Packages: Unity Registry.<br>Find <em>Shader Graph</em>.</p>
<p>Create -&gt; Sharder Graph -&gt; URP -&gt; Lit Shader Graph/Unlit Shader Graph.</p>
<p>做好的shader要先attach to material.再material attach to the plane(or other stuff).</p>
<br>
<br>


<h1 id="Builds"><a href="#Builds" class="headerlink" title="Builds"></a>Builds</h1><p><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Manual/PlatformDependentCompilation.html">For building in different platforms.</a></p>
<p>Project setting -&gt; player -&gt; configuration -&gt; scripting backend<br>mono is fine for testing, but for deliver version should choose IL2CPP.</p>
<p>For Api Compatibility Level -&gt; .NET Standard 2.1 is fine.<br>don’t build project in repository, will blow up it, just share source code.</p>
<br>
<br>

<h1 id="Add-on"><a href="#Add-on" class="headerlink" title="Add-on"></a>Add-on</h1><h2 id="ProBuilder"><a href="#ProBuilder" class="headerlink" title="ProBuilder"></a><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.probuilder@5.0/manual/index.html">ProBuilder</a></h2><p>Strip All ProBuilder Scripts in Scene.<br>一款捏简单3D物体的plugin.</p>
<h2 id="VRoid"><a href="#VRoid" class="headerlink" title="VRoid"></a>VRoid</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=aaks0yg9ZyU&ab_channel=ReForgeMode-UnityTutorials">How to Export VRoid Studio Models to Unity (3D/URP)</a></p>
<h2 id="Game-Programming-Patterns"><a href="#Game-Programming-Patterns" class="headerlink" title="Game Programming Patterns"></a><a target="_blank" rel="noopener" href="https://gameprogrammingpatterns.com/">Game Programming Patterns</a></h2><p><a target="_blank" rel="noopener" href="https://www.c-sharpcorner.com/UploadFile/damubetha/solid-principles-in-C-Sharp/">https://www.c-sharpcorner.com/UploadFile/damubetha/solid-principles-in-C-Sharp/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.meshy.ai/">https://www.meshy.ai/</a></p>
<link rel="stylesheet" href="/blog/css/spoiler.css" type="text/css"><script src="/blog/js/spoiler.js" type="text/javascript" async></script>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/C/" rel="tag"># C#</a>
              <a href="/blog/tags/Unity/" rel="tag"># Unity</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2024/07/31/P331/" rel="prev" title="安静">
      <i class="fa fa-chevron-left"></i> 安静
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2024/07/13/P303/" rel="next" title="交错的真实(暂定)的笔记">
      交错的真实(暂定)的笔记 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Lighting"><span class="nav-number">1.</span> <span class="nav-text">Lighting</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Skybox"><span class="nav-number">1.1.</span> <span class="nav-text">Skybox</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#GameObject"><span class="nav-number">2.</span> <span class="nav-text">GameObject</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Camera"><span class="nav-number">2.1.</span> <span class="nav-text">Camera</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sound"><span class="nav-number">2.2.</span> <span class="nav-text">Sound</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Post-Process-volume"><span class="nav-number">2.3.</span> <span class="nav-text">Post Process volume</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Collision"><span class="nav-number">2.4.</span> <span class="nav-text">Collision</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Canvas"><span class="nav-number">2.5.</span> <span class="nav-text">Canvas</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Animator"><span class="nav-number">2.6.</span> <span class="nav-text">Animator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Joint"><span class="nav-number">2.7.</span> <span class="nav-text">Joint</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Input"><span class="nav-number">3.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Object-Pooling"><span class="nav-number">4.</span> <span class="nav-text">Object Pooling</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sprite-Multi"><span class="nav-number">5.</span> <span class="nav-text">Sprite Multi</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#OOP-Principles"><span class="nav-number">6.</span> <span class="nav-text">OOP Principles</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Encapsulation"><span class="nav-number">6.1.</span> <span class="nav-text">Encapsulation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Inheritance"><span class="nav-number">6.2.</span> <span class="nav-text">Inheritance</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Polymorphism"><span class="nav-number">6.3.</span> <span class="nav-text">Polymorphism</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Abstraction"><span class="nav-number">6.4.</span> <span class="nav-text">Abstraction</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Custom-Module"><span class="nav-number">7.</span> <span class="nav-text">Custom Module</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Singleton"><span class="nav-number">8.</span> <span class="nav-text">Singleton</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Delay"><span class="nav-number">9.</span> <span class="nav-text">Delay</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IDamageable"><span class="nav-number">10.</span> <span class="nav-text">IDamageable</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Solid-Principle"><span class="nav-number">11.</span> <span class="nav-text">Solid Principle</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Comment"><span class="nav-number">12.</span> <span class="nav-text">Comment</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#shader"><span class="nav-number">13.</span> <span class="nav-text">shader</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Builds"><span class="nav-number">14.</span> <span class="nav-text">Builds</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Add-on"><span class="nav-number">15.</span> <span class="nav-text">Add-on</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ProBuilder"><span class="nav-number">15.1.</span> <span class="nav-text">ProBuilder</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VRoid"><span class="nav-number">15.2.</span> <span class="nav-text">VRoid</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Game-Programming-Patterns"><span class="nav-number">15.3.</span> <span class="nav-text">Game Programming Patterns</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Mazui"
      src="/blog/images/logo_11.jpg">
  <p class="site-author-name" itemprop="name">Mazui</p>
  <div class="site-description" itemprop="description">与孤独和平共处.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">344</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:mazui.and.rio@gmail.com" title="E-Mail → mailto:mazui.and.rio@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3032131561?topnav=1&wvr=6&topsug=1&ssl_rnd=1606158448.6943&is_all=1" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3032131561?topnav&#x3D;1&amp;wvr&#x3D;6&amp;topsug&#x3D;1&amp;ssl_rnd&#x3D;1606158448.6943&amp;is_all&#x3D;1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/mazui_3" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/mazui_3" title="Instagram → https:&#x2F;&#x2F;instagram.com&#x2F;mazui_3" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
  </div>



      </div>

<br>
      <!--new music test-->

  <!--网易云插件-->
<iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/4mCwspCTPF1aoWUNxsS5aD?utm_source=generator" width="100%" height="80" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mazui</span>

<!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>


    <span title="C">1.8m</span>
  -->

  <!--
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="T">26:44</span>

  -->

</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>
<br>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">阅览室一共有1.8m的老兔正在打瞌睡</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/pisces.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>













  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://mazui3-com.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://mazui3.github.io/blog/2024/07/13/P329/";
    this.page.identifier = "2024/07/13/P329/";
    this.page.title = "关于Unity的笔记";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://mazui3-com.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
